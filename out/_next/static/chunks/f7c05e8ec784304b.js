(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23130,4476,e=>{"use strict";let t=(0,e.i(7711).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],23130);var s=e.i(49982),a=e.i(77600),r=e.i(36835);function l(e){let t,l,i,n,c=(0,a.c)(10),{text:x,className:o,colors:d}=e;c[0]!==d?(t=void 0===d?["#00BFFF","#FFB6C1"]:d,c[0]=d,c[1]=t):t=c[1];let m=t;c[2]!==o?(l=(0,r.cn)("bg-clip-text text-transparent",o),c[2]=o,c[3]=l):l=c[3];let p=`linear-gradient(to right, ${m[0]}, ${m[1]})`;return c[4]!==p?(i={backgroundImage:p,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},c[4]=p,c[5]=i):i=c[5],c[6]!==l||c[7]!==i||c[8]!==x?(n=(0,s.jsx)("span",{className:l,style:i,children:x}),c[6]=l,c[7]=i,c[8]=x,c[9]=n):n=c[9],n}e.s(["GradientText",()=>l],4476)},48966,e=>{"use strict";let t=(0,e.i(7711).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],48966)},42230,e=>{"use strict";let t=(0,e.i(7711).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],42230)},72771,e=>{"use strict";var t=e.i(49982),s=e.i(77600),a=e.i(72013),r=e.i(42230),l=e.i(48966),i=e.i(12570),n=e.i(14709),c=e.i(7711);let x=(0,c.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,c.default)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);var d=e.i(76845),m=e.i(23130),p=e.i(18409),h=e.i(4476),u=e.i(60564),f=e.i(65027),b=e.i(66635),j=e.i(36835);function v(){let e,c,v,w,F,y,k,C,B,_=(0,s.c)(22),{callHistory:S,loading:T,initiateCall:A}=(0,u.useCall)(),{chats:M}=(0,f.useChat)(),{user:P}=(0,b.useAuth)(),[L,z]=(0,a.useState)(!1),[D,$]=(0,a.useState)("");_[0]!==M||_[1]!==D?(e=Array.from(new Set(M.map(N))).map(e=>{let t=M.find(t=>t.userId===e);return{id:e,name:t?.userName||"User",avatar:t?.userAvatar,gender:t?.gender}}).filter(e=>e.name.toLowerCase().includes(D.toLowerCase())),_[0]=M,_[1]=D,_[2]=e):e=_[2];let U=e;_[3]!==A?(c=(e,t)=>{z(!1),A(e,t)},_[3]=A,_[4]=c):c=_[4];let G=c;return _[5]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px] pointer-events-none"}),_[5]=v):v=_[5],_[6]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-0.5",children:[(0,t.jsx)(h.GradientText,{text:"Calls",className:"text-[36px] font-bold tracking-[0.5px]"}),(0,t.jsx)("img",{src:"/images/calls_doodle.png",alt:"",className:"w-[65px] h-[65px] object-contain opacity-80"})]}),(0,t.jsx)("p",{className:"text-[#666] text-[13px] mt-0.5",children:"Stay connected with voice & video."})]}),F=()=>z(!0),_[6]=w,_[7]=F):(w=_[6],F=_[7]),_[8]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsxs)("header",{className:"px-5 py-5 flex items-center justify-between",children:[w,(0,t.jsx)("button",{onClick:F,className:"w-[50px] h-[50px] rounded-full bg-gradient-to-br from-[#00BFFF] to-[#FFB6C1] flex items-center justify-center shadow-lg active:scale-95 transition-transform",children:(0,t.jsx)(l.Plus,{className:"w-[26px] h-[26px] text-white"})})]}),_[8]=y):y=_[8],_[9]!==S||_[10]!==T||_[11]!==G||_[12]!==P?.id?(k=(0,t.jsx)("div",{className:"flex-1 w-full max-w-5xl mx-auto p-5 pt-2 min-h-0 flex flex-col relative z-10",children:(0,t.jsx)("div",{className:"flex-1 bg-[#111] border border-[#222] rounded-[40px] overflow-hidden flex flex-col shadow-2xl relative",children:T?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center h-64",children:(0,t.jsx)(m.Loader2,{className:"w-10 h-10 animate-spin text-primary"})}):0===S.length?(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center pb-12",children:[(0,t.jsx)("div",{className:"w-[90px] h-[90px] rounded-[30px] bg-[#161616] flex items-center justify-center mb-5 border border-[#222]",children:(0,t.jsx)(i.Phone,{className:"w-[40px] h-[40px] text-[#333]",strokeWidth:1.5})}),(0,t.jsx)("p",{className:"text-[#444] text-[16px] font-semibold mb-6",children:"No recent calls yet."}),(0,t.jsx)("button",{onClick:()=>z(!0),className:"px-[30px] py-[14px] rounded-[20px] border-2 border-[#FFB6C1] text-[#FFB6C1] text-[15px] font-black hover:bg-white/5 transition-colors",children:"Start a conversation"})]}):(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:(0,t.jsx)("div",{className:"space-y-1",children:S.map(e=>{let s=e.caller_id===P?.id,a=(s?e.receiver:e.caller)||e.profiles||{},r="missed"===e.status;return(0,t.jsxs)("div",{className:"flex items-center gap-[15px] p-[15px] px-5 hover:bg-white/[0.02] cursor-pointer rounded-[25px] border-b border-[#222] last:border-none",children:[(0,t.jsx)(p.Avatar,{src:a.avatar_url,fallback:a.full_name?.[0],className:"w-[56px] h-[56px] rounded-full ring-2 ring-black"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-[#FFF] text-[18px] font-bold",children:a.full_name||a.username||"User"}),(0,t.jsxs)("div",{className:"flex items-center gap-[5px] mt-0.5",children:[s?(0,t.jsx)(x,{className:(0,j.cn)("w-[14px] h-[14px]",r?"text-[#FFB6C1]":"text-[#00BFFF]")}):(0,t.jsx)(o,{className:(0,j.cn)("w-[14px] h-[14px]",r?"text-[#FFB6C1]":"text-[#00BFFF]")}),(0,t.jsxs)("span",{className:"text-[#555] text-[13px] font-medium",children:[new Date(e.created_at).toLocaleDateString(void 0,{weekday:"short"}),", ",new Date(e.created_at).toLocaleDateString()," â€¢ ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsxs)("p",{className:"text-[#444] text-[11px] mt-0.5",children:["Duration: ",function(e){if(!e)return"0s";let t=Math.floor(e/60),s=e%60;return t>0?`${t}m ${s}s`:`${s}s`}(e.duration)]})]}),(0,t.jsx)("button",{onClick:()=>G(s?e.receiver_id:e.caller_id,e.type),className:"p-3 bg-[#161616] border border-[#222] rounded-[15px] hover:bg-white/10 transition-colors",children:"video"===e.type?(0,t.jsx)(n.Video,{className:"w-5 h-5 text-[#00BFFF]"}):(0,t.jsx)(i.Phone,{className:"w-5 h-5 text-[#00BFFF]"})})]},e.id)})})})})}),_[9]=S,_[10]=T,_[11]=G,_[12]=P?.id,_[13]=k):k=_[13],_[14]!==G||_[15]!==U||_[16]!==D||_[17]!==L?(C=L&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-[rgba(0,0,0,0.95)] sm:items-center p-0 sm:p-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-md bg-[#050505] h-[85%] rounded-t-[35px] sm:rounded-[35px] flex flex-col animate-in slide-in-from-bottom duration-300 border-t border-[#111] p-[30px] pb-[60px]",onClick:g,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-[25px]",children:[(0,t.jsx)(h.GradientText,{text:"New Call",className:"text-[24px] font-[900] tracking-[-0.5px]"}),(0,t.jsx)("button",{onClick:()=>z(!1),children:(0,t.jsx)(d.X,{className:"w-8 h-8 text-[#444]"})})]}),(0,t.jsxs)("div",{className:"flex items-center bg-[#111] rounded-[18px] px-[18px] h-[55px] gap-3 mb-[25px] border border-[#222]",children:[(0,t.jsx)(r.Search,{className:"w-5 h-5 text-[#666]"}),(0,t.jsx)("input",{value:D,onChange:e=>$(e.target.value),placeholder:"Find a friend...",className:"flex-1 bg-transparent text-white text-[17px] font-medium outline-none placeholder-[#444]"})]}),(0,t.jsx)("p",{className:"text-[#444] text-[12px] font-[900] tracking-[2px] mb-[15px]",children:"RECENT CONTACTS"}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2",children:U.map(e=>(0,t.jsxs)("div",{className:"flex items-center py-[14px] gap-[18px]",children:[(0,t.jsx)(p.Avatar,{src:e.avatar,fallback:e.name[0],className:"w-[48px] h-[48px] rounded-full"}),(0,t.jsx)("span",{className:"flex-1 text-[#FFF] text-[18px] font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-[20px]",children:[(0,t.jsx)("button",{onClick:()=>G(e.id,"audio"),className:"w-[44px] h-[44px] rounded-[15px] bg-[#111] border border-[#222] flex items-center justify-center hover:bg-[#222] transition-colors",children:(0,t.jsx)(i.Phone,{className:"w-6 h-6 text-[#00BFFF]"})}),(0,t.jsx)("button",{onClick:()=>G(e.id,"video"),className:"w-[44px] h-[44px] rounded-[15px] bg-[#111] border border-[#222] flex items-center justify-center hover:bg-[#222] transition-colors",children:(0,t.jsx)(n.Video,{className:"w-6 h-6 text-[#FFB6C1]"})})]})]},e.id))})]}),(0,t.jsx)("div",{className:"absolute inset-0 -z-10",onClick:()=>z(!1)})]}),_[14]=G,_[15]=U,_[16]=D,_[17]=L,_[18]=C):C=_[18],_[19]!==k||_[20]!==C?(B=(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-black h-full relative overflow-hidden",children:[v,y,k,C]}),_[19]=k,_[20]=C,_[21]=B):B=_[21],B}function g(e){return e.stopPropagation()}function N(e){return e.userId}e.s(["default",()=>v],72771)}]);
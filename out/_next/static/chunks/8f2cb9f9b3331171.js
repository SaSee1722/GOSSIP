(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76930,(e,t,r)=>{t.exports=e.r(874)},16846,e=>{"use strict";let t=(0,e.i(7711).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],16846)},11960,e=>{"use strict";var t=e.i(49982),r=e.i(77600),a=e.i(72013),l=e.i(23995),s=e.i(76930),o=e.i(16846);function i(){let e,i,n,c,d,u,m,f,h,p,b,x,g,y,w,v,j,N,_,S,k,C,U,P,T=(0,r.c)(45),[A,z]=(0,a.useState)(!1),[B,D]=(0,a.useState)(""),[O,R]=(0,a.useState)(""),[q,K]=(0,a.useState)(!0),[E,H]=(0,a.useState)(""),I=(0,s.useRouter)();T[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.createClient)(),T[0]=e):e=T[0];let L=e;T[1]!==I?(i=()=>{(async()=>{let{data:e}=await L.auth.getUser(),{user:t}=e;if(!t)return I.push("/login");let{data:r}=await L.from("profiles").select("*").eq("id",t.id).single();r&&(D(r.username||""),R(r.bio||""),K(r.is_public??!0),H(r.avatar_url||""))})()},n=[I,L],T[1]=I,T[2]=i,T[3]=n):(i=T[2],n=T[3]),(0,a.useEffect)(i,n),T[4]!==E||T[5]!==O||T[6]!==q||T[7]!==I||T[8]!==B?(c=async e=>{e.preventDefault(),z(!0);let{data:t}=await L.auth.getUser(),{user:r}=t;if(!r)return;let a={id:r.id,username:B,bio:O,is_public:q,avatar_url:E||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.email}`,updated_at:new Date().toISOString()},{error:l}=await L.from("profiles").upsert(a);l?(alert(l.message),z(!1)):I.push("/chat")},T[4]=E,T[5]=O,T[6]=q,T[7]=I,T[8]=B,T[9]=c):c=T[9];let M=c;T[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px] pointer-events-none"}),u=(0,t.jsx)("div",{className:"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-accent/20 rounded-full blur-[100px] pointer-events-none"}),T[10]=d,T[11]=u):(d=T[10],u=T[11]),T[12]!==E?(m=(0,t.jsx)("div",{className:"w-20 h-20 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/10",children:E?(0,t.jsx)("img",{src:E,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):(0,t.jsx)(o.User,{className:"w-10 h-10 text-primary"})}),T[12]=E,T[13]=m):m=T[13],T[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"Setup Profile"}),h=(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Let others know who you are."}),T[14]=f,T[15]=h):(f=T[14],h=T[15]),T[16]!==m?(p=(0,t.jsxs)("div",{className:"text-center mb-8",children:[m,f,h]}),T[16]=m,T[17]=p):p=T[17],T[18]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Username"}),T[18]=b):b=T[18],T[19]===Symbol.for("react.memo_cache_sentinel")?(x=e=>D(e.target.value),T[19]=x):x=T[19],T[20]!==B?(g=(0,t.jsxs)("div",{className:"space-y-2",children:[b,(0,t.jsx)("input",{type:"text",value:B,onChange:x,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50",placeholder:"@username",required:!0})]}),T[20]=B,T[21]=g):g=T[21],T[22]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Bio"}),T[22]=y):y=T[22],T[23]===Symbol.for("react.memo_cache_sentinel")?(w=e=>R(e.target.value),T[23]=w):w=T[23],T[24]!==O?(v=(0,t.jsxs)("div",{className:"space-y-2",children:[y,(0,t.jsx)("textarea",{value:O,onChange:w,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50 resize-none h-24",placeholder:"Tell us about yourself..."})]}),T[24]=O,T[25]=v):v=T[25],T[26]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsxs)("div",{className:"mr-4",children:[(0,t.jsx)("h3",{className:"font-medium text-white",children:"Public Profile"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Allow others to find you in Discover."})]}),T[26]=j):j=T[26],T[27]===Symbol.for("react.memo_cache_sentinel")?(N=e=>K(e.target.checked),T[27]=N):N=T[27],T[28]!==q?(_=(0,t.jsx)("input",{type:"checkbox",checked:q,onChange:N,className:"sr-only peer"}),T[28]=q,T[29]=_):_=T[29],T[30]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"}),T[30]=S):S=T[30],T[31]!==_?(k=(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 flex items-center justify-between",children:[j,(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[_,S]})]}),T[31]=_,T[32]=k):k=T[32];let $=A?"Saving...":"Complete Setup";return T[33]!==A||T[34]!==$?(C=(0,t.jsx)("button",{type:"submit",disabled:A,className:"w-full py-4 rounded-xl bg-gradient-to-r from-primary to-accent font-bold text-white shadow-lg hover:shadow-primary/25 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:pointer-events-none",children:$}),T[33]=A,T[34]=$,T[35]=C):C=T[35],T[36]!==M||T[37]!==g||T[38]!==v||T[39]!==k||T[40]!==C?(U=(0,t.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[g,v,k,C]}),T[36]=M,T[37]=g,T[38]=v,T[39]=k,T[40]=C,T[41]=U):U=T[41],T[42]!==U||T[43]!==p?(P=(0,t.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden",children:[d,u,(0,t.jsxs)("div",{className:"glass-card w-full max-w-md p-8 rounded-2xl border border-white/10 shadow-2xl relative z-10 animate-in fade-in zoom-in duration-500",children:[p,U]})]}),T[42]=U,T[43]=p,T[44]=P):P=T[44],P}e.s(["default",()=>i])}]);
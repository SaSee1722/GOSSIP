(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16846,e=>{"use strict";let a=(0,e.i(7711).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],16846)},23130,4476,e=>{"use strict";let a=(0,e.i(7711).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],23130);var t=e.i(49982),s=e.i(77600),l=e.i(36835);function r(e){let a,r,i,c,n=(0,s.c)(10),{text:o,className:d,colors:x}=e;n[0]!==x?(a=void 0===x?["#00BFFF","#FFB6C1"]:x,n[0]=x,n[1]=a):a=n[1];let p=a;n[2]!==d?(r=(0,l.cn)("bg-clip-text text-transparent",d),n[2]=d,n[3]=r):r=n[3];let u=`linear-gradient(to right, ${p[0]}, ${p[1]})`;return n[4]!==u?(i={backgroundImage:u,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},n[4]=u,n[5]=i):i=n[5],n[6]!==r||n[7]!==i||n[8]!==o?(c=(0,t.jsx)("span",{className:r,style:i,children:o}),n[6]=r,n[7]=i,n[8]=o,n[9]=c):c=n[9],c}e.s(["GradientText",()=>r],4476)},5036,e=>{"use strict";let a=(0,e.i(7711).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],5036)},90047,e=>{"use strict";let a=(0,e.i(7711).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>a],90047)},81495,e=>{"use strict";let a=(0,e.i(7711).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>a],81495)},60678,e=>{"use strict";let a=(0,e.i(7711).default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Ban",()=>a],60678)},90283,61480,e=>{"use strict";let a=(0,e.i(7711).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>a],90283);var t=e.i(23995);e.s(["ProfileService",0,{getProfile:async e=>await (0,t.safeSupabaseOperation)(async a=>{let{data:t,error:s}=await a.from("profiles").select("*").eq("id",e).single();return s?{data:null,error:s.message}:{data:t,error:null}}),updateProfile:async(e,a)=>await (0,t.safeSupabaseOperation)(async t=>{let{error:s}=await t.from("profiles").update(a).eq("id",e);return{error:s?.message||null}}),searchProfiles:async e=>await (0,t.safeSupabaseOperation)(async a=>{let{data:t,error:s}=await a.from("profiles").select("*").or(`username.ilike.%${e}%,full_name.ilike.%${e}%`).limit(20);return s?{data:[],error:s.message}:{data:t,error:null}}),uploadAvatar:async(e,a)=>await (0,t.safeSupabaseOperation)(async t=>{try{console.log("[ProfileService] Starting upload for file:",a.name);let s=a.name.split(".").pop()||"jpg",l=`${e}_${Date.now()}.${s}`,r=`avatars/${l}`,{error:i}=await t.storage.from("gossip-avatars").upload(r,a,{contentType:a.type,upsert:!1});if(i)throw console.error("[ProfileService] Upload error:",i),i;let{data:c}=t.storage.from("gossip-avatars").getPublicUrl(r);return console.log("[ProfileService] Upload successful, URL:",c.publicUrl),{data:c.publicUrl,error:null}}catch(e){return console.error("[ProfileService] Upload failed:",e),{data:null,error:e.message}}}),updatePushToken:async(e,a)=>await (0,t.safeSupabaseOperation)(async t=>{let{error:s}=await t.from("profiles").update({push_token:a}).eq("id",e);return s&&console.error("[ProfileService] Update Token Error:",s),{error:s?.message||null}})}],61480)},10381,e=>{"use strict";var a=e.i(49982),t=e.i(77600),s=e.i(72013),l=e.i(16846),r=e.i(7711);let i=(0,r.default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),c=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var n=e.i(12570),o=e.i(8674),d=e.i(81495),x=e.i(60678),p=e.i(90283),u=e.i(90047),m=e.i(76845),h=e.i(23130),f=e.i(5036);let b=(0,r.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),g=(0,r.default)("accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);var j=e.i(4476),v=e.i(18409),y=e.i(66635),w=e.i(61480),N=e.i(36835),k=e.i(89934),F=e.i(76930),C=e.i(32758);function B(){let{user:e,logout:t}=(0,y.useAuth)(),{addToast:r}=(0,k.useToast)(),[B,U]=(0,s.useState)(null),[A,M]=(0,s.useState)(!1),[T,O]=(0,s.useState)(!0),[_,$]=(0,s.useState)(!1),[z,E]=(0,s.useState)(!1),[G,L]=(0,s.useState)({}),R=(0,s.useRef)(null);A?G.gender:B?.gender;let I="#00BFFF";(0,s.useEffect)(()=>{e&&q()},[e]);let q=async()=>{if(!e)return;O(!0);let{data:a,error:t}=await w.ProfileService.getProfile(e.id);a&&(U(a),L({full_name:a.full_name,username:a.username,age:a.age,phone:a.phone,bio:a.bio,gender:a.gender})),O(!1)},H=async()=>{if(!e)return;$(!0);let{error:a}=await w.ProfileService.updateProfile(e.id,G);a?r(a,"error"):(await q(),M(!1),r("Profile updated successfully","success")),$(!1)},K=async a=>{let t=a.target.files?.[0];if(!t||!e)return;$(!0);let{data:s,error:l}=await w.ProfileService.uploadAvatar(e.id,t);if(s){let{error:a}=await w.ProfileService.updateProfile(e.id,{avatar_url:s});a||(await q(),r("Avatar updated successfully","success"))}else l&&r(l,"error");$(!1)};if(T)return(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-black",children:(0,a.jsx)(h.Loader2,{className:"w-10 h-10 text-primary animate-spin"})});let V=(0,F.useRouter)(),{statuses:W}=(0,C.useStatus)(),D=W.find(a=>a.user_id===e?.id);return(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-black h-full overflow-hidden relative",children:[I&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10 transition-colors duration-500",style:{background:`radial-gradient(circle at top center, ${I}, transparent 70%)`}}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative z-10",children:[(0,a.jsxs)("div",{className:"pt-8 pb-8 flex flex-col items-center relative z-10",children:[(0,a.jsxs)("div",{className:"relative w-[140px] h-[140px] flex items-center justify-center cursor-pointer group",onClick:()=>V.push("/chat/status"),children:[(0,a.jsx)("div",{className:(0,N.cn)("absolute inset-0 rounded-full opacity-60 bg-gradient-to-br from-[#00BFFF] to-transparent",D?"opacity-100 from-[#00BFFF] via-[#FFB6C1] to-[#00BFFF] animate-spin-slow p-[3px]":"")}),(0,a.jsxs)("div",{className:"p-1 bg-black rounded-full relative w-full h-full flex items-center justify-center overflow-hidden",children:[(0,a.jsx)(v.Avatar,{src:B?.avatar_url,fallback:B?.username?.[0]||"?",className:"w-[124px] h-[124px] rounded-full border-4 border-black"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),R.current?.click()},className:"absolute bottom-1 right-2 w-9 h-9 bg-black rounded-full flex items-center justify-center border-[4px] border-black hover:scale-110 transition-transform z-20 cursor-pointer",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{backgroundColor:I||"#00BFFF"},children:(0,a.jsx)(u.Camera,{className:"w-4 h-4 text-white"})})})]})]}),(0,a.jsx)("input",{ref:R,type:"file",className:"hidden",accept:"image/*",onChange:K}),(0,a.jsxs)("div",{className:"mt-5 text-center",children:[(0,a.jsx)("h1",{className:"text-[34px] font-bold tracking-[0.5px] text-[#00BFFF]",children:B?.full_name||B?.username||"User"}),(0,a.jsx)("p",{className:"text-[14px] text-white/60 mt-2 font-medium",children:e?.email})]})]}),(0,a.jsxs)("div",{className:"px-5 space-y-8 pb-32",children:[(0,a.jsxs)("div",{className:"mb-[30px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-[15px] px-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(j.GradientText,{text:"PERSONAL INFO",className:"text-[15px] font-[800] tracking-[1.5px]"}),(0,a.jsx)("img",{src:"/images/profile_doodle.png",alt:"",className:"w-[45px] h-[45px] object-contain opacity-80"})]}),!A&&(0,a.jsx)("button",{onClick:()=>M(!0),className:"px-3 py-1.5 rounded-[20px] border transition-colors bg-white/5 border-white/10",style:{backgroundColor:`${I}1A`,borderColor:`${I}33`},children:(0,a.jsx)("span",{className:"font-bold text-[13px]",style:{color:I||"#00BFFF"},children:"Edit"})})]}),(0,a.jsx)("div",{className:"rounded-[30px] p-[25px] flex flex-col gap-[15px] bg-[rgba(30,30,30,0.4)] border border-[rgba(255,255,255,0.08)] backdrop-blur-md",children:A?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Full Name"}),(0,a.jsx)("input",{value:G.full_name,onChange:e=>L({...G,full_name:e.target.value}),placeholder:"Full Name",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Username"}),(0,a.jsx)("input",{value:G.username,onChange:e=>L({...G,username:e.target.value}),placeholder:"Username",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Age"}),(0,a.jsx)("input",{type:"number",value:G.age||"",onChange:e=>L({...G,age:parseInt(e.target.value)}),placeholder:"Age",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Phone"}),(0,a.jsx)("input",{value:G.phone||"",onChange:e=>L({...G,phone:e.target.value}),placeholder:"Phone",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Bio"}),(0,a.jsx)("textarea",{value:G.bio||"",onChange:e=>L({...G,bio:e.target.value}),placeholder:"Bio",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50 resize-none h-24"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Gender"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["Male","Female","Other"].map(e=>(0,a.jsx)("button",{onClick:()=>L({...G,gender:e}),className:(0,N.cn)("py-3 rounded-2xl font-bold transition-all border",G.gender===e?"bg-primary text-black border-primary shadow-lg shadow-primary/20":"bg-white/5 text-white/40 border-transparent hover:border-white/10"),children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{onClick:()=>M(!1),className:"flex-1 py-4 text-white/40 font-black uppercase tracking-widest text-[12px]",children:"Cancel"}),(0,a.jsx)("button",{onClick:H,disabled:_,className:"flex-3 py-4 bg-primary text-black font-black uppercase tracking-widest text-[12px] rounded-2xl shadow-xl shadow-primary/20 flex items-center justify-center gap-2",children:_?(0,a.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):"Save Changes"})]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(S,{icon:l.User,label:"Full Name",value:B?.full_name,color:I||"#00BFFF"}),(0,a.jsx)(S,{icon:i,label:"Username",value:B?.username,color:I||"#00BFFF"}),(0,a.jsx)(S,{icon:c,label:"Age",value:B?.age?.toString(),color:I||"#00BFFF"}),(0,a.jsx)(S,{icon:n.Phone,label:"Phone",value:B?.phone,color:I||"#00BFFF"}),(0,a.jsx)(S,{icon:g,label:"Gender",value:B?.gender,color:I||"#00BFFF"}),(0,a.jsx)(S,{icon:o.Info,label:"Bio",value:B?.bio||"New to GOSSIP!",color:I||"#00BFFF"})]})})]}),(0,a.jsxs)("div",{className:"mb-[30px]",children:[(0,a.jsx)(j.GradientText,{text:"SETTINGS",className:"text-[15px] font-[800] tracking-[1.5px] mb-[15px]"}),(0,a.jsxs)("div",{className:"rounded-[30px] p-[25px] flex flex-col gap-[15px] bg-[rgba(30,30,30,0.4)] border border-[rgba(255,255,255,0.08)] backdrop-blur-md",children:[(0,a.jsx)(P,{icon:d.Bell,label:"Notifications",value:(0,a.jsx)("div",{className:(0,N.cn)("w-[50px] h-[30px] rounded-full p-1 cursor-pointer transition-colors","bg-[#00BFFF]"),children:(0,a.jsx)("div",{className:"w-[22px] h-[22px] bg-white rounded-full shadow-sm translate-x-[20px]"})})}),(0,a.jsx)(P,{icon:b,label:"Language",value:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 cursor-pointer",children:[(0,a.jsx)("span",{className:"text-[#FFB6C1] font-bold",children:"English"}),(0,a.jsx)(f.ChevronRight,{className:"w-4 h-4 text-[#666]"})]})}),(0,a.jsx)("div",{onClick:()=>E(!0),className:"cursor-pointer",children:(0,a.jsx)(P,{icon:x.Ban,label:"Blocked Users",value:(0,a.jsx)(f.ChevronRight,{className:"w-4 h-4 text-[#666]"})})})]})]}),(0,a.jsxs)("button",{onClick:t,className:"mx-5 mb-5 flex items-center justify-center gap-2.5 p-[18px] bg-[rgba(255,182,193,0.05)] rounded-[25px] group hover:bg-[rgba(255,182,193,0.1)] transition-colors",children:[(0,a.jsx)(p.LogOut,{className:"w-5 h-5 text-[#FFB6C1]"}),(0,a.jsx)("span",{className:"text-[#FFB6C1] text-[16px] font-[800]",children:"Logout"})]}),(0,a.jsx)("p",{className:"text-center text-[10px] font-black text-white/20 uppercase tracking-widest pb-12",children:"GOSSIP v1.2.0 â€¢ English"})]})]}),z&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-[rgba(0,0,0,0.85)] p-[25px] backdrop-blur-sm sm:items-center",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-[rgba(30,30,30,0.95)] h-[80%] rounded-[35px] border border-[rgba(255,255,255,0.1)] p-[30px] flex flex-col backdrop-blur-xl animate-in slide-in-from-bottom duration-300",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-[25px]",children:[(0,a.jsx)(j.GradientText,{text:"Blocked Users",className:"text-[24px] font-[800]"}),(0,a.jsx)("button",{onClick:()=>E(!1),children:(0,a.jsx)(m.X,{className:"w-8 h-8 text-[#444]"})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center pb-12",children:[(0,a.jsx)("div",{className:"w-[90px] h-[90px] rounded-[30px] bg-[#111] flex items-center justify-center mb-5",children:(0,a.jsx)(x.Ban,{className:"w-[40px] h-[40px] text-[#333]"})}),(0,a.jsx)("p",{className:"text-[#666] text-[16px]",children:"No one is blocked."})]}),(0,a.jsx)("button",{onClick:()=>E(!1),className:"self-center mt-4",children:(0,a.jsx)("span",{className:"text-[#FFB6C1] font-bold text-[16px]",children:"Close"})})]})})]})}function S(e){let s,l,r,i,c,n,o,d,x=(0,t.c)(20),{icon:p,label:u,value:m,color:h}=e,f=`${h}1A`;x[0]!==f?(s={backgroundColor:f},x[0]=f,x[1]=s):s=x[1],x[2]!==h?(l={color:h},x[2]=h,x[3]=l):l=x[3],x[4]!==p||x[5]!==l?(r=(0,a.jsx)(p,{className:"w-5 h-5",style:l}),x[4]=p,x[5]=l,x[6]=r):r=x[6],x[7]!==s||x[8]!==r?(i=(0,a.jsx)("div",{className:"w-[42px] h-[42px] rounded-[14px] flex items-center justify-center",style:s,children:r}),x[7]=s,x[8]=r,x[9]=i):i=x[9],x[10]!==u?(c=(0,a.jsx)("p",{className:"text-[11px] text-[#888] font-bold uppercase mb-0.5",children:u}),x[10]=u,x[11]=c):c=x[11];let b=m||"Not set";return x[12]!==b?(n=(0,a.jsx)("p",{className:"text-[17px] text-white font-medium",children:b}),x[12]=b,x[13]=n):n=x[13],x[14]!==c||x[15]!==n?(o=(0,a.jsxs)("div",{className:"flex-1",children:[c,n]}),x[14]=c,x[15]=n,x[16]=o):o=x[16],x[17]!==i||x[18]!==o?(d=(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[i,o]}),x[17]=i,x[18]=o,x[19]=d):d=x[19],d}function P(e){let s,l,r,i,c=(0,t.c)(10),{icon:n,label:o,value:d}=e;return c[0]!==n?(s=(0,a.jsx)("div",{className:"w-[36px] h-[36px] rounded-[10px] bg-[rgba(255,255,255,0.05)] flex items-center justify-center",children:(0,a.jsx)(n,{className:"w-[18px] h-[18px] text-[#CCC]"})}),c[0]=n,c[1]=s):s=c[1],c[2]!==o?(l=(0,a.jsx)("span",{className:"text-[16px] text-[#EEE] font-medium",children:o}),c[2]=o,c[3]=l):l=c[3],c[4]!==s||c[5]!==l?(r=(0,a.jsxs)("div",{className:"flex items-center gap-[15px]",children:[s,l]}),c[4]=s,c[5]=l,c[6]=r):r=c[6],c[7]!==r||c[8]!==d?(i=(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[r,d]}),c[7]=r,c[8]=d,c[9]=i):i=c[9],i}e.s(["default",()=>B],10381)}]);
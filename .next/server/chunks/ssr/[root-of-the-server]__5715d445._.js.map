{"version":3,"sources":["../../../../../../Desktop/GOSSIP/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../Desktop/GOSSIP/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../Desktop/GOSSIP/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../Desktop/GOSSIP/node_modules/lucide-react/src/icons/user.ts","../../../../../../Desktop/GOSSIP/src/app/onboarding/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useRouter } from \"next/navigation\";\nimport { User } from \"lucide-react\";\n\nexport default function OnboardingPage() {\n    const [loading, setLoading] = useState(false);\n    const [username, setUsername] = useState(\"\");\n    const [bio, setBio] = useState(\"\");\n    const [isPublic, setIsPublic] = useState(true);\n    const [avatarUrl, setAvatarUrl] = useState(\"\");\n    const router = useRouter();\n    const supabase = createClient();\n\n    useEffect(() => {\n        const checkUser = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) {\n                router.push(\"/login\");\n                return;\n            }\n            // Pre-fill if exists\n            const { data: profile } = await supabase.from('profiles').select('*').eq('id', user.id).single();\n            if (profile) {\n                setUsername(profile.username || \"\");\n                setBio(profile.bio || \"\");\n                setIsPublic(profile.is_public ?? true);\n                setAvatarUrl(profile.avatar_url || \"\");\n            }\n        };\n        checkUser();\n    }, [router, supabase]);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) return;\n\n        const updates = {\n            id: user.id,\n            username,\n            bio,\n            is_public: isPublic,\n            avatar_url: avatarUrl || `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.email}`,\n            updated_at: new Date().toISOString(),\n        };\n\n        const { error } = await supabase.from('profiles').upsert(updates);\n\n        if (error) {\n            alert(error.message);\n            setLoading(false);\n        } else {\n            router.push(\"/chat\"); // Or discover\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden\">\n            {/* Background Elements */}\n            <div className=\"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px] pointer-events-none\" />\n            <div className=\"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-accent/20 rounded-full blur-[100px] pointer-events-none\" />\n\n            <div className=\"glass-card w-full max-w-md p-8 rounded-2xl border border-white/10 shadow-2xl relative z-10 animate-in fade-in zoom-in duration-500\">\n                <div className=\"text-center mb-8\">\n                    <div className=\"w-20 h-20 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/10\">\n                        {avatarUrl ? (\n                            <img src={avatarUrl} alt=\"Avatar\" className=\"w-full h-full rounded-full object-cover\" />\n                        ) : (\n                            <User className=\"w-10 h-10 text-primary\" />\n                        )}\n                    </div>\n                    <h1 className=\"text-3xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent\">\n                        Setup Profile\n                    </h1>\n                    <p className=\"text-muted-foreground mt-2\">Let others know who you are.</p>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-medium text-muted-foreground\">Username</label>\n                        <input\n                            type=\"text\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                            className=\"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50\"\n                            placeholder=\"@username\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label className=\"text-sm font-medium text-muted-foreground\">Bio</label>\n                        <textarea\n                            value={bio}\n                            onChange={(e) => setBio(e.target.value)}\n                            className=\"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50 resize-none h-24\"\n                            placeholder=\"Tell us about yourself...\"\n                        />\n                    </div>\n\n                    <div className=\"p-4 rounded-xl bg-white/5 border border-white/10 flex items-center justify-between\">\n                        <div className=\"mr-4\">\n                            <h3 className=\"font-medium text-white\">Public Profile</h3>\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                                Allow others to find you in Discover.\n                            </p>\n                        </div>\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\n                            <input\n                                type=\"checkbox\"\n                                checked={isPublic}\n                                onChange={(e) => setIsPublic(e.target.checked)}\n                                className=\"sr-only peer\"\n                            />\n                            <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary\"></div>\n                        </label>\n                    </div>\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"w-full py-4 rounded-xl bg-gradient-to-r from-primary to-accent font-bold text-white shadow-lg hover:shadow-primary/25 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:pointer-events-none\"\n                    >\n                        {loading ? \"Saving...\" : \"Complete Setup\"}\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"gjBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,wBCiBzC,CAAA,CAAA,CAAA,CAAM,AAAN,CAAA,CAAM,CAAA,CAAA,CAAA,AAAO,CAAP,AAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBM,CAClC,AAeoC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAemC,CAfnC,AAAQ,AAe2B,CAf3B,AAAE,AAeyB,CAAU,CAAA,AAfhC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAA6C,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC1E,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAU,CAAE,CAAA,CAAA,CAAA,AAAI,IAAA,CAAA,AAAM,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAG,AAAH,CAAG,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CACzD,oECJA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEe,SAAS,IACpB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACnC,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzB,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAgBN,CAfkB,UACd,GAAM,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EAAM,OACP,EAAO,IAAI,CAAC,UAIhB,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,KAAM,EAAK,EAAE,EAAE,MAAM,GAC1F,IACA,EAAY,EAAQ,CADX,OACmB,EAAI,IAChC,EAAO,EAAQ,GAAG,EAAI,IACtB,EAAY,EAAQ,SAAS,GAAI,GACjC,EAAa,EAAQ,UAAU,EAAI,IAE3C,IAEJ,EAAG,CAAC,EAAQ,EAAS,EAErB,IAAM,EAAe,MAAO,IACxB,EAAE,cAAc,GAChB,GAAW,GAEX,GAAM,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GACtD,GAAI,CAAC,EAAM,OAEX,IAAM,EAAU,CACZ,GAAI,EAAK,EAAE,UACX,MACA,EACA,UAAW,EACX,WAAY,GAAa,CAAC,gDAAgD,EAAE,EAAK,KAAK,CAAA,CAAE,CACxF,WAAY,IAAI,OAAO,WAAW,EACtC,EAEM,OAAE,CAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,YAAY,MAAM,CAAC,GAErD,GACA,IADO,EACD,EAAM,OAAO,EACnB,GAAW,IAEX,EAAO,IAAI,CAAC,QAEpB,EAF8B,AAI9B,MACI,CAAA,EAAA,EAAA,GALwC,CAKxC,EAAC,MAAA,CAAI,UAAU,qGAEX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qHACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sHAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+IACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sIACV,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAW,IAAI,SAAS,UAAU,4CAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,6BAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oGAA2F,kBAGzG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,oCAG9C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qDAA4C,aAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,UAAU,4LACV,YAAY,YACZ,QAAQ,CAAA,CAAA,OAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qDAA4C,QAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EACP,SAAU,AAAC,GAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EACtC,UAAU,6MACV,YAAY,iCAIpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+FACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,mBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,6CAItD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,WACL,QAAS,EACT,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,OAAO,EAC7C,UAAU,iBAEd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sVAIvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,SAAU,EACV,UAAU,wOAET,EAAU,YAAc,2BAMjD","ignoreList":[0,1,2,3]}
module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},67831,(a,b,c)=>{"use strict";b.exports=a.r(17727).vendored.contexts.AppRouterContext},97060,(a,b,c)=>{"use strict";b.exports=a.r(17727).vendored.contexts.HooksClientContext},55869,(a,b,c)=>{"use strict";b.exports=a.r(17727).vendored.contexts.ServerInsertedHtml},5016,a=>{"use strict";let b=(0,a.i(70981).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],5016)},83926,a=>{"use strict";var b=a.i(99881),c=a.i(57120),d=a.i(42323),e=a.i(84494),f=a.i(5016);function g(){let[a,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(""),p=(0,e.useRouter)(),q=(0,d.createClient)();(0,c.useEffect)(()=>{(async()=>{let{data:{user:a}}=await q.auth.getUser();if(!a)return p.push("/login");let{data:b}=await q.from("profiles").select("*").eq("id",a.id).single();b&&(i(b.username||""),k(b.bio||""),m(b.is_public??!0),o(b.avatar_url||""))})()},[p,q]);let r=async a=>{a.preventDefault(),g(!0);let{data:{user:b}}=await q.auth.getUser();if(!b)return;let c={id:b.id,username:h,bio:j,is_public:l,avatar_url:n||`https://api.dicebear.com/7.x/avataaars/svg?seed=${b.email}`,updated_at:new Date().toISOString()},{error:d}=await q.from("profiles").upsert(c);d?(alert(d.message),g(!1)):p.push("/chat")};return(0,b.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px] pointer-events-none"}),(0,b.jsx)("div",{className:"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-accent/20 rounded-full blur-[100px] pointer-events-none"}),(0,b.jsxs)("div",{className:"glass-card w-full max-w-md p-8 rounded-2xl border border-white/10 shadow-2xl relative z-10 animate-in fade-in zoom-in duration-500",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/10",children:n?(0,b.jsx)("img",{src:n,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):(0,b.jsx)(f.User,{className:"w-10 h-10 text-primary"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent",children:"Setup Profile"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Let others know who you are."})]}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Username"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50",placeholder:"@username",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Bio"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-primary/50 focus:ring-1 focus:ring-primary/50 outline-none transition-all placeholder:text-muted-foreground/50 resize-none h-24",placeholder:"Tell us about yourself..."})]}),(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"mr-4",children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:"Public Profile"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Allow others to find you in Discover."})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:l,onChange:a=>m(a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),(0,b.jsx)("button",{type:"submit",disabled:a,className:"w-full py-4 rounded-xl bg-gradient-to-r from-primary to-accent font-bold text-white shadow-lg hover:shadow-primary/25 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:pointer-events-none",children:a?"Saving...":"Complete Setup"})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5715d445._.js.map
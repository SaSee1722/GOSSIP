module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},17727,(a,b,c)=>{"use strict";b.exports=a.r(18622)},99881,(a,b,c)=>{"use strict";b.exports=a.r(17727).vendored["react-ssr"].ReactJsxRuntime},57120,(a,b,c)=>{"use strict";b.exports=a.r(17727).vendored["react-ssr"].React},70981,a=>{"use strict";var b=a.i(57120);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70981)},22536,a=>{"use strict";var b=a.i(99881),c=a.i(57120),d=a.i(42323);let e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),l=(0,d.createClient)(),m=async a=>{let{data:b}=await l.from("profiles").select("*").eq("id",a.id).single();g({id:a.id,email:a.email||"",username:b?.username||a.user_metadata?.username||a.email?.split("@")[0],full_name:b?.full_name||a.user_metadata?.full_name,avatar_url:b?.avatar_url||a.user_metadata?.avatar_url,age:b?.age,phone:b?.phone,bio:b?.bio,gender:b?.gender,created_at:a.created_at,updated_at:a.updated_at||a.created_at})};(0,c.useEffect)(()=>{(async()=>{let{data:{session:a}}=await l.auth.getSession();a?.user&&await m(a.user),i(!1);let{data:{subscription:b}}=l.auth.onAuthStateChange(async(a,b)=>{b?.user?await m(b.user):g(null),i(!1)});return()=>b.unsubscribe()})()},[]);let n=async(a,b)=>{k(!0);let{error:c}=await l.auth.signInWithPassword({email:a,password:b});return k(!1),{error:c?.message}},o=async(a,b,c)=>{k(!0);let{data:d,error:e}=await l.auth.signUp({email:a,password:b,options:{data:c}});return k(!1),{error:e?.message,needsEmailConfirmation:!!(d.user&&!d.session)}},p=async()=>{await l.auth.signOut(),g(null)};return(0,b.jsx)(e.Provider,{value:{user:f,loading:h,operationLoading:j,signInWithPassword:n,signUpWithPassword:o,logout:p},children:a})}a.s(["AuthProvider",()=>f,"useAuth",0,()=>{let a=(0,c.useContext)(e);if(!a)throw Error("useAuth must be used within AuthProvider");return a}])},14359,a=>{"use strict";let b=(0,a.i(70981).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],14359)},52053,a=>{"use strict";var b=a.i(99881),c=a.i(83749);function d({src:a,fallback:d,className:e}){return(0,b.jsx)("div",{className:(0,c.cn)("relative w-10 h-10 rounded-full overflow-hidden bg-muted flex items-center justify-center",e),children:a?(0,b.jsx)("img",{src:a,alt:d,className:"w-full h-full object-cover"}):(0,b.jsx)("span",{className:"font-medium text-muted-foreground uppercase",children:d.slice(0,2)})})}a.s(["Avatar",()=>d])},23810,72828,a=>{"use strict";var b=a.i(70981);let c=(0,b.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>c],23810);let d=(0,b.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>d],72828)},50920,a=>{"use strict";let b=(0,a.i(70981).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],50920)},54720,a=>{"use strict";var b=a.i(99881),c=a.i(57120),d=a.i(14359),e=a.i(23810),f=a.i(72828),g=a.i(50920);let h=(0,a.i(70981).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=a.i(83749);let j=(0,c.createContext)(void 0);function k({children:a}){let[k,l]=(0,c.useState)([]),m=(0,c.useCallback)((a,b="info")=>{let c=Math.random().toString(36).substring(2,9);l(d=>[...d,{id:c,message:a,type:b}]),setTimeout(()=>{l(a=>a.filter(a=>a.id!==c))},3e3)},[]),n=(0,c.useCallback)(a=>{l(b=>b.filter(b=>b.id!==a))},[]);return(0,b.jsxs)(j.Provider,{value:{toasts:k,addToast:m,removeToast:n},children:[a,(0,b.jsx)("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:k.map(a=>(0,b.jsxs)("div",{className:(0,i.cn)("pointer-events-auto min-w-[300px] max-w-sm p-4 rounded-xl shadow-lg border backdrop-blur-md flex items-start gap-3 animate-in slide-in-from-right-full fade-in duration-300","success"===a.type&&"bg-green-500/10 border-green-500/20 text-green-500","error"===a.type&&"bg-red-500/10 border-red-500/20 text-red-500","warning"===a.type&&"bg-yellow-500/10 border-yellow-500/20 text-yellow-500","info"===a.type&&"bg-blue-500/10 border-blue-500/20 text-blue-500"),children:["success"===a.type&&(0,b.jsx)(e.CheckCircle,{className:"w-5 h-5 shrink-0"}),"error"===a.type&&(0,b.jsx)(f.AlertCircle,{className:"w-5 h-5 shrink-0"}),"warning"===a.type&&(0,b.jsx)(h,{className:"w-5 h-5 shrink-0"}),"info"===a.type&&(0,b.jsx)(g.Info,{className:"w-5 h-5 shrink-0"}),(0,b.jsx)("div",{className:"flex-1 text-sm font-medium",children:a.message}),(0,b.jsx)("button",{onClick:()=>n(a.id),className:"opacity-70 hover:opacity-100",children:(0,b.jsx)(d.X,{className:"w-4 h-4"})})]},a.id))})]})}function l(){let a=(0,c.useContext)(j);if(!a)throw Error("useToast must be used within a ToastProvider");return a}a.s(["ToastProvider",()=>k,"useToast",()=>l],54720)},78540,a=>{"use strict";var b=a.i(99881),c=a.i(57120),d=a.i(22536),e=a.i(42323);let f={async getStatuses(){try{return await (0,e.safeSupabaseOperation)(async a=>{let b=new Date(Date.now()-864e5).toISOString(),{data:c,error:d}=await a.from("statuses").select(`
            *,
            profiles (
              id,
              username,
              full_name,
              avatar_url
            )
          `).gt("created_at",b).order("created_at",{ascending:!1});return d?{data:[],error:d.message}:{data:c||[],error:null}})}catch(a){return{data:[],error:a.message}}},async uploadStatus(a,b){try{return await (0,e.safeSupabaseOperation)(async c=>{let{data:{user:d}}=await c.auth.getUser();if(!d)throw Error("Not authenticated");let{error:e}=await c.from("statuses").insert({user_id:d.id,media_url:a,caption:b});return e?{error:e.message}:{error:null}})}catch(a){return{error:a.message}}}},g=(0,c.createContext)(void 0);function h({children:a}){let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),{user:l}=(0,d.useAuth)(),m=(0,e.createClient)(),n=async()=>{k(!0);let{data:a}=await f.getStatuses();a&&i(a),k(!1)};(0,c.useEffect)(()=>{if(l){n();let a=m.channel("public-statuses").on("postgres_changes",{event:"*",schema:"public",table:"statuses"},()=>{n()}).subscribe();return()=>{m.removeChannel(a)}}},[l?.id]);let o=async(a,b)=>{let{error:c}=await f.uploadStatus(a,b);if(c)throw Error(c)};return(0,b.jsx)(g.Provider,{value:{statuses:h,loading:j,uploadStatus:o,refreshStatuses:n},children:a})}function i(){let a=(0,c.useContext)(g);if(!a)throw Error("useStatus must be used within StatusProvider");return a}a.s(["StatusProvider",()=>h,"useStatus",()=>i],78540)},44352,a=>{"use strict";var b=a.i(99881),c=a.i(22536),d=a.i(29476),e=a.i(78540),f=a.i(65374),g=a.i(54720);function h({children:a}){return(0,b.jsx)(c.AuthProvider,{children:(0,b.jsx)(g.ToastProvider,{children:(0,b.jsx)(e.StatusProvider,{children:(0,b.jsx)(d.ChatProvider,{children:(0,b.jsx)(f.CallProvider,{children:a})})})})})}a.s(["Providers",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5fd87a25._.js.map
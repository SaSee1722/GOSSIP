module.exports=[5016,a=>{"use strict";let b=(0,a.i(70981).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],5016)},88409,93311,a=>{"use strict";let b=(0,a.i(70981).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);a.s(["Camera",()=>b],88409);var c=a.i(42323);a.s(["ProfileService",0,{getProfile:async a=>await (0,c.safeSupabaseOperation)(async b=>{let{data:c,error:d}=await b.from("profiles").select("*").eq("id",a).single();return d?{data:null,error:d.message}:{data:c,error:null}}),updateProfile:async(a,b)=>await (0,c.safeSupabaseOperation)(async c=>{let{error:d}=await c.from("profiles").update(b).eq("id",a);return{error:d?.message||null}}),searchProfiles:async a=>await (0,c.safeSupabaseOperation)(async b=>{let{data:c,error:d}=await b.from("profiles").select("*").or(`username.ilike.%${a}%,full_name.ilike.%${a}%`).limit(20);return d?{data:[],error:d.message}:{data:c,error:null}}),uploadAvatar:async(a,b)=>await (0,c.safeSupabaseOperation)(async c=>{try{console.log("[ProfileService] Starting upload for file:",b.name);let d=b.name.split(".").pop()||"jpg",e=`${a}_${Date.now()}.${d}`,f=`avatars/${e}`,{error:g}=await c.storage.from("gossip-avatars").upload(f,b,{contentType:b.type,upsert:!1});if(g)throw console.error("[ProfileService] Upload error:",g),g;let{data:h}=c.storage.from("gossip-avatars").getPublicUrl(f);return console.log("[ProfileService] Upload successful, URL:",h.publicUrl),{data:h.publicUrl,error:null}}catch(a){return console.error("[ProfileService] Upload failed:",a),{data:null,error:a.message}}}),updatePushToken:async(a,b)=>await (0,c.safeSupabaseOperation)(async c=>{let{error:d}=await c.from("profiles").update({push_token:b}).eq("id",a);return d&&console.error("[ProfileService] Update Token Error:",d),{error:d?.message||null}})}],93311)},96496,34240,a=>{"use strict";let b=(0,a.i(70981).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96496);var c=a.i(99881),d=a.i(83749);function e({text:a,className:b,colors:e=["#00BFFF","#FFB6C1"]}){return(0,c.jsx)("span",{className:(0,d.cn)("bg-clip-text text-transparent",b),style:{backgroundImage:`linear-gradient(to right, ${e[0]}, ${e[1]})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:a})}a.s(["GradientText",()=>e],34240)},6846,a=>{"use strict";let b=(0,a.i(70981).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],6846)},53004,a=>{"use strict";let b=(0,a.i(70981).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>b],53004)},26486,52437,a=>{"use strict";var b=a.i(70981);let c=(0,b.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Ban",()=>c],26486);let d=(0,b.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);a.s(["LogOut",()=>d],52437)},42876,a=>{"use strict";var b=a.i(99881),c=a.i(57120),d=a.i(5016),e=a.i(70981);let f=(0,e.default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),g=(0,e.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var h=a.i(74831),i=a.i(50920),j=a.i(53004),k=a.i(26486),l=a.i(52437),m=a.i(88409),n=a.i(14359),o=a.i(96496),p=a.i(6846);let q=(0,e.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),r=(0,e.default)("accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);var s=a.i(34240),t=a.i(52053),u=a.i(22536),v=a.i(93311),w=a.i(83749),x=a.i(54720);function y(){let{user:a,logout:e}=(0,u.useAuth)(),{addToast:y}=(0,x.useToast)(),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!0),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)({}),N=(0,c.useRef)(null),O=D?L.gender:B?.gender,P=(a=>{switch(a){case"Male":return"#00BFFF";case"Female":return"#FFB6C1";case"Other":return"#FFD700";default:return}})(O);(0,c.useEffect)(()=>{a&&Q()},[a]);let Q=async()=>{if(!a)return;G(!0);let{data:b,error:c}=await v.ProfileService.getProfile(a.id);b&&(C(b),M({full_name:b.full_name,username:b.username,age:b.age,phone:b.phone,bio:b.bio,gender:b.gender})),G(!1)},R=async()=>{if(!a)return;I(!0);let{error:b}=await v.ProfileService.updateProfile(a.id,L);b?y(b,"error"):(await Q(),E(!1),y("Profile updated successfully","success")),I(!1)},S=async b=>{let c=b.target.files?.[0];if(!c||!a)return;I(!0);let{data:d,error:e}=await v.ProfileService.uploadAvatar(a.id,c);if(d){let{error:b}=await v.ProfileService.updateProfile(a.id,{avatar_url:d});b||(await Q(),y("Avatar updated successfully","success"))}else e&&y(e,"error");I(!1)};return F?(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center bg-black",children:(0,b.jsx)(o.Loader2,{className:"w-10 h-10 text-primary animate-spin"})}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col bg-black h-full overflow-hidden relative",children:[P&&(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10 transition-colors duration-500",style:{background:`radial-gradient(circle at top center, ${P}, transparent 70%)`}}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative z-10",children:[(0,b.jsxs)("div",{className:"pt-8 pb-8 flex flex-col items-center relative z-10",children:[(0,b.jsxs)("div",{className:"relative w-[140px] h-[140px] flex items-center justify-center",children:[(0,b.jsx)("div",{className:(0,w.cn)("absolute inset-0 rounded-full opacity-60 bg-gradient-to-br","Male"===O?"from-[#00BFFF] to-transparent":"Female"===O?"from-[#FFB6C1] to-transparent":"Other"===O?"from-[#FFD700] to-transparent":"from-white/20 to-transparent")}),(0,b.jsxs)("div",{className:"p-1 bg-black rounded-full relative",children:[(0,b.jsx)(t.Avatar,{src:B?.avatar_url,fallback:B?.username?.[0]||"?",className:"w-[120px] h-[120px] rounded-full border-0"}),(0,b.jsx)("button",{onClick:()=>N.current?.click(),className:"absolute bottom-0 right-2 w-9 h-9 bg-black rounded-full flex items-center justify-center border-[4px] border-black hover:scale-110 transition-transform",children:(0,b.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{backgroundColor:P||"#00BFFF"},children:(0,b.jsx)(m.Camera,{className:"w-4 h-4 text-white"})})})]}),(0,b.jsx)("input",{ref:N,type:"file",className:"hidden",accept:"image/*",onChange:S})]}),(0,b.jsxs)("div",{className:"mt-5 text-center",children:[(0,b.jsx)(s.GradientText,{text:B?.full_name||B?.username||"User",className:"text-[34px] font-bold tracking-[0.5px]"}),(0,b.jsx)("p",{className:"text-[14px] text-white/60 mt-2 font-medium",children:a?.email})]})]}),(0,b.jsxs)("div",{className:"px-5 space-y-8 pb-32",children:[(0,b.jsxs)("div",{className:"mb-[30px]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-[15px] px-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,b.jsx)(s.GradientText,{text:"PERSONAL INFO",className:"text-[15px] font-[800] tracking-[1.5px]"}),(0,b.jsx)("img",{src:"/images/profile_doodle.png",alt:"",className:"w-[45px] h-[45px] object-contain opacity-80"})]}),!D&&(0,b.jsx)("button",{onClick:()=>E(!0),className:"px-3 py-1.5 rounded-[20px] border transition-colors bg-white/5 border-white/10",style:{backgroundColor:P?`${P}1A`:"rgba(0,191,255,0.1)",borderColor:P?`${P}33`:"rgba(0,191,255,0.2)"},children:(0,b.jsx)("span",{className:"font-bold text-[13px]",style:{color:P||"#00BFFF"},children:"Edit"})})]}),(0,b.jsx)("div",{className:"rounded-[30px] p-[25px] flex flex-col gap-[15px] bg-[rgba(30,30,30,0.4)] border border-[rgba(255,255,255,0.08)] backdrop-blur-md",children:D?(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Full Name"}),(0,b.jsx)("input",{value:L.full_name,onChange:a=>M({...L,full_name:a.target.value}),placeholder:"Full Name",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Username"}),(0,b.jsx)("input",{value:L.username,onChange:a=>M({...L,username:a.target.value}),placeholder:"Username",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Age"}),(0,b.jsx)("input",{type:"number",value:L.age||"",onChange:a=>M({...L,age:parseInt(a.target.value)}),placeholder:"Age",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Phone"}),(0,b.jsx)("input",{value:L.phone||"",onChange:a=>M({...L,phone:a.target.value}),placeholder:"Phone",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Bio"}),(0,b.jsx)("textarea",{value:L.bio||"",onChange:a=>M({...L,bio:a.target.value}),placeholder:"Bio",className:"w-full bg-white/5 border border-white/5 rounded-2xl p-4 text-white font-bold outline-none focus:border-primary/50 resize-none h-24"})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-white/20 uppercase tracking-widest ml-4",children:"Gender"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["Male","Female","Other"].map(a=>(0,b.jsx)("button",{onClick:()=>M({...L,gender:a}),className:(0,w.cn)("py-3 rounded-2xl font-bold transition-all border",L.gender===a?"bg-primary text-black border-primary shadow-lg shadow-primary/20":"bg-white/5 text-white/40 border-transparent hover:border-white/10"),children:a},a))})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:()=>E(!1),className:"flex-1 py-4 text-white/40 font-black uppercase tracking-widest text-[12px]",children:"Cancel"}),(0,b.jsx)("button",{onClick:R,disabled:H,className:"flex-3 py-4 bg-primary text-black font-black uppercase tracking-widest text-[12px] rounded-2xl shadow-xl shadow-primary/20 flex items-center justify-center gap-2",children:H?(0,b.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):"Save Changes"})]})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(z,{icon:d.User,label:"Full Name",value:B?.full_name,color:P||"#00BFFF"}),(0,b.jsx)(z,{icon:f,label:"Username",value:B?.username,color:P||"#00BFFF"}),(0,b.jsx)(z,{icon:g,label:"Age",value:B?.age?.toString(),color:P||"#00BFFF"}),(0,b.jsx)(z,{icon:h.Phone,label:"Phone",value:B?.phone,color:P||"#00BFFF"}),(0,b.jsx)(z,{icon:r,label:"Gender",value:B?.gender,color:P||"#00BFFF"}),(0,b.jsx)(z,{icon:i.Info,label:"Bio",value:B?.bio||"New to GOSSIP!",color:P||"#00BFFF"})]})})]}),(0,b.jsxs)("div",{className:"mb-[30px]",children:[(0,b.jsx)(s.GradientText,{text:"SETTINGS",className:"text-[15px] font-[800] tracking-[1.5px] mb-[15px]"}),(0,b.jsxs)("div",{className:"rounded-[30px] p-[25px] flex flex-col gap-[15px] bg-[rgba(30,30,30,0.4)] border border-[rgba(255,255,255,0.08)] backdrop-blur-md",children:[(0,b.jsx)(A,{icon:j.Bell,label:"Notifications",value:(0,b.jsx)("div",{className:(0,w.cn)("w-[50px] h-[30px] rounded-full p-1 cursor-pointer transition-colors","bg-[#00BFFF]"),children:(0,b.jsx)("div",{className:"w-[22px] h-[22px] bg-white rounded-full shadow-sm translate-x-[20px]"})})}),(0,b.jsx)(A,{icon:q,label:"Language",value:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 cursor-pointer",children:[(0,b.jsx)("span",{className:"text-[#FFB6C1] font-bold",children:"English"}),(0,b.jsx)(p.ChevronRight,{className:"w-4 h-4 text-[#666]"})]})}),(0,b.jsx)("div",{onClick:()=>K(!0),className:"cursor-pointer",children:(0,b.jsx)(A,{icon:k.Ban,label:"Blocked Users",value:(0,b.jsx)(p.ChevronRight,{className:"w-4 h-4 text-[#666]"})})})]})]}),(0,b.jsxs)("button",{onClick:e,className:"mx-5 mb-5 flex items-center justify-center gap-2.5 p-[18px] bg-[rgba(255,182,193,0.05)] rounded-[25px] group hover:bg-[rgba(255,182,193,0.1)] transition-colors",children:[(0,b.jsx)(l.LogOut,{className:"w-5 h-5 text-[#FFB6C1]"}),(0,b.jsx)("span",{className:"text-[#FFB6C1] text-[16px] font-[800]",children:"Logout"})]}),(0,b.jsx)("p",{className:"text-center text-[10px] font-black text-white/20 uppercase tracking-widest pb-12",children:"GOSSIP v1.2.0 â€¢ English"})]})]}),J&&(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-[rgba(0,0,0,0.85)] p-[25px] backdrop-blur-sm sm:items-center",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-[rgba(30,30,30,0.95)] h-[80%] rounded-[35px] border border-[rgba(255,255,255,0.1)] p-[30px] flex flex-col backdrop-blur-xl animate-in slide-in-from-bottom duration-300",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-[25px]",children:[(0,b.jsx)(s.GradientText,{text:"Blocked Users",className:"text-[24px] font-[800]"}),(0,b.jsx)("button",{onClick:()=>K(!1),children:(0,b.jsx)(n.X,{className:"w-8 h-8 text-[#444]"})})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center pb-12",children:[(0,b.jsx)("div",{className:"w-[90px] h-[90px] rounded-[30px] bg-[#111] flex items-center justify-center mb-5",children:(0,b.jsx)(k.Ban,{className:"w-[40px] h-[40px] text-[#333]"})}),(0,b.jsx)("p",{className:"text-[#666] text-[16px]",children:"No one is blocked."})]}),(0,b.jsx)("button",{onClick:()=>K(!1),className:"self-center mt-4",children:(0,b.jsx)("span",{className:"text-[#FFB6C1] font-bold text-[16px]",children:"Close"})})]})})]})}function z({icon:a,label:c,value:d,color:e}){return(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-[42px] h-[42px] rounded-[14px] flex items-center justify-center",style:{backgroundColor:`${e}1A`},children:(0,b.jsx)(a,{className:"w-5 h-5",style:{color:e}})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[11px] text-[#888] font-bold uppercase mb-0.5",children:c}),(0,b.jsx)("p",{className:"text-[17px] text-white font-medium",children:d||"Not set"})]})]})}function A({icon:a,label:c,value:d}){return(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-[15px]",children:[(0,b.jsx)("div",{className:"w-[36px] h-[36px] rounded-[10px] bg-[rgba(255,255,255,0.05)] flex items-center justify-center",children:(0,b.jsx)(a,{className:"w-[18px] h-[18px] text-[#CCC]"})}),(0,b.jsx)("span",{className:"text-[16px] text-[#EEE] font-medium",children:c})]}),d]})}a.s(["default",()=>y],42876)}];

//# sourceMappingURL=Desktop_GOSSIP_6c28e47d._.js.map
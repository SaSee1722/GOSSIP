(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23130,4476,e=>{"use strict";let t=(0,e.i(7711).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],23130);var s=e.i(49982),l=e.i(77600),a=e.i(36835);function r(e){let t,r,i,n,o=(0,l.c)(10),{text:c,className:d,colors:x}=e;o[0]!==x?(t=void 0===x?["#00BFFF","#FFB6C1"]:x,o[0]=x,o[1]=t):t=o[1];let m=t;o[2]!==d?(r=(0,a.cn)("bg-clip-text text-transparent",d),o[2]=d,o[3]=r):r=o[3];let u=`linear-gradient(to right, ${m[0]}, ${m[1]})`;return o[4]!==u?(i={backgroundImage:u,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},o[4]=u,o[5]=i):i=o[5],o[6]!==r||o[7]!==i||o[8]!==c?(n=(0,s.jsx)("span",{className:r,style:i,children:c}),o[6]=r,o[7]=i,o[8]=c,o[9]=n):n=o[9],n}e.s(["GradientText",()=>r],4476)},48966,e=>{"use strict";let t=(0,e.i(7711).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],48966)},5036,e=>{"use strict";let t=(0,e.i(7711).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],5036)},47738,e=>{"use strict";let t=(0,e.i(7711).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],47738)},76732,e=>{"use strict";var t=e.i(49982),s=e.i(77600),l=e.i(72013),a=e.i(48966),r=e.i(65044),i=e.i(5036),n=e.i(76845),o=e.i(23130),c=e.i(47738),d=e.i(18409),x=e.i(4476),m=e.i(65027),u=e.i(66635),h=e.i(58086),p=e.i(76930),f=e.i(36835);function b(){let e,b,w=(0,s.c)(31),{chats:y}=(0,m.useChat)();(0,u.useAuth)();let k=(0,p.useRouter)(),[C,F]=(0,l.useState)(!1);w[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],w[0]=e):e=w[0];let[B,S]=(0,l.useState)(e),[T,_]=(0,l.useState)(""),[G,A]=(0,l.useState)(!1);if(w[1]!==y||w[2]!==T||w[3]!==G||w[4]!==k||w[5]!==B||w[6]!==C){let e,s,l,m,u,p,M,R,I,P,W=y.filter(N).map(v);w[8]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},w[8]=e):e=w[8];let z=e;w[9]!==T||w[10]!==k||w[11]!==B?(s=async()=>{if(!T.trim()||B.length<1)return;A(!0);let{data:e,error:t}=await h.ChatService.createGroupChat(T,B);!t&&e&&(F(!1),k.push(`/chat?roomId=${e}`)),A(!1)},w[9]=T,w[10]=k,w[11]=B,w[12]=s):s=w[12];let D=s;if(w[13]!==y||w[14]!==k){let e,s,n=y.filter(j);p="flex-1 flex flex-col bg-black h-full relative overflow-hidden",w[21]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-secondary/5 rounded-full blur-[120px] pointer-events-none"}),w[21]=M):M=w[21],w[22]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-0.5",children:[(0,t.jsx)(x.GradientText,{text:"Groups",className:"text-[32px] font-bold tracking-[0.5px]"}),(0,t.jsx)("img",{src:"/images/groups_doodle.png",alt:"",className:"w-[65px] h-[65px] object-contain opacity-80"})]}),(0,t.jsx)("p",{className:"text-[#666] text-[14px] mt-0.5",children:"Communities you belong to."})]}),s=()=>F(!0),w[22]=e,w[23]=s):(e=w[22],s=w[23]),w[24]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsxs)("header",{className:"px-5 py-5 flex items-center justify-between",children:[e,(0,t.jsx)("button",{onClick:s,className:"w-[50px] h-[50px] rounded-full bg-gradient-to-br from-[#00BFFF] to-[#FFB6C1] flex items-center justify-center shadow-lg active:scale-95 transition-transform",children:(0,t.jsx)(a.Plus,{className:"w-7 h-7 text-white"})})]}),w[24]=R):R=w[24],u="flex-1 w-full max-w-5xl mx-auto p-5 pt-2 min-h-0 flex flex-col relative z-10",l="flex-1 bg-[#111] border border-[#222] rounded-[40px] overflow-hidden flex flex-col shadow-2xl relative",m=0===n.length?(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center pb-12",children:[(0,t.jsx)(r.Users,{className:"w-[80px] h-[80px] text-[#222]",strokeWidth:1.5}),(0,t.jsx)("p",{className:"text-[#444] text-[18px] font-semibold mt-5",children:"No group gossips yet."}),(0,t.jsx)("button",{onClick:()=>F(!0),className:"mt-5 px-6 py-3 rounded-full border border-[#333] text-[#FFB6C1] font-bold hover:bg-white/5 transition-colors",children:"Create Your First Group"})]}):(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:(0,t.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,t.jsxs)("div",{onClick:()=>k.push(`/chat?roomId=${e.id}`),className:"flex items-center gap-[15px] py-[15px] px-[20px] rounded-[25px] hover:bg-white/[0.03] active:bg-white/[0.05] transition-colors cursor-pointer border-b border-[#222] last:border-none",children:[(0,t.jsx)(d.Avatar,{src:e.userAvatar,fallback:e.userName[0],className:"w-[60px] h-[60px] rounded-full ring-2 ring-black"}),(0,t.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("h3",{className:"text-[#FFF] text-[17px] font-bold truncate",children:e.userName}),(0,t.jsx)("span",{className:"text-[#444] text-[12px]",children:e.lastMessageTime?new Date(e.lastMessageTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),(0,t.jsx)("p",{className:"text-[#888] text-[14px] truncate",children:e.lastMessage})]}),(0,t.jsx)(i.ChevronRight,{className:"w-[18px] h-[18px] text-[#333]"})]},e.id))})}),w[13]=y,w[14]=k,w[15]=l,w[16]=m,w[17]=u,w[18]=p,w[19]=M,w[20]=R}else l=w[15],m=w[16],u=w[17],p=w[18],M=w[19],R=w[20];w[25]!==l||w[26]!==m?(I=(0,t.jsx)("div",{className:l,children:m}),w[25]=l,w[26]=m,w[27]=I):I=w[27],w[28]!==I||w[29]!==u?(P=(0,t.jsx)("div",{className:u,children:I}),w[28]=I,w[29]=u,w[30]=P):P=w[30],b=(0,t.jsxs)("div",{className:p,children:[M,R,P,C&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-[rgba(0,0,0,0.9)] sm:items-center p-0 sm:p-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-md bg-[#050505] h-[85%] rounded-t-[30px] sm:rounded-[30px] p-[25px] flex flex-col animate-in slide-in-from-bottom duration-300",onClick:g,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,t.jsx)(x.GradientText,{text:"New Group",className:"text-[24px] font-extrabold"}),(0,t.jsx)("button",{onClick:()=>F(!1),children:(0,t.jsx)(n.X,{className:"w-8 h-8 text-[#444]"})})]}),(0,t.jsx)("input",{value:T,onChange:e=>_(e.target.value),placeholder:"Group Name...",className:"w-full bg-[#111] text-white text-[16px] p-[15px] rounded-[15px] border border-[#222] mb-5 outline-none focus:border-[#444] placeholder-[#444]"}),(0,t.jsx)("p",{className:"text-[#444] text-[12px] font-extrabold tracking-[1px] mb-[15px]",children:"ADD FRIENDS"}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2",children:W.map(e=>{let s=B.includes(e.id);return(0,t.jsxs)("div",{onClick:()=>z(e.id),className:(0,f.cn)("flex items-center gap-[15px] py-[10px] cursor-pointer transition-colors rounded-xl px-2",s?"bg-[rgba(0,191,255,0.05)]":"hover:bg-white/[0.02]"),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Avatar,{src:e.avatar,fallback:e.name[0],className:"w-[50px] h-[50px] rounded-full"}),s&&(0,t.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-[18px] h-[18px] rounded-full bg-[#FFB6C1] flex items-center justify-center border-2 border-black",children:(0,t.jsx)(c.Check,{className:"w-3 h-3 text-black",strokeWidth:3})})]}),(0,t.jsx)("span",{className:(0,f.cn)("flex-1 text-[16px] font-semibold",s?"text-[#00BFFF]":"text-white"),children:e.name}),s?(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-[#FFB6C1] flex items-center justify-center",children:(0,t.jsx)(c.Check,{className:"w-4 h-4 text-black",strokeWidth:3})}):(0,t.jsx)("div",{className:"w-6 h-6 rounded border-2 border-[#333]"})]},e.id)})}),(0,t.jsx)("button",{onClick:D,disabled:G,className:"mt-5 w-full h-[55px] rounded-[20px] bg-gradient-to-br from-[#00BFFF] to-[#FFB6C1] flex items-center justify-center disabled:opacity-70 transition-opacity button-shadow",children:G?(0,t.jsx)(o.Loader2,{className:"w-6 h-6 text-white animate-spin"}):(0,t.jsx)("span",{className:"text-white text-[16px] font-bold",children:"Create Gossip Group"})})]}),(0,t.jsx)("div",{className:"absolute inset-0 -z-10",onClick:()=>F(!1)})]})]}),w[1]=y,w[2]=T,w[3]=G,w[4]=k,w[5]=B,w[6]=C,w[7]=b}else b=w[7];return b}function g(e){return e.stopPropagation()}function j(e){return"group"===e.type}function v(e){return{id:e.userId,name:e.userName,avatar:e.userAvatar,gender:e.gender}}function N(e){return"direct"===e.type}e.s(["default",()=>b])}]);
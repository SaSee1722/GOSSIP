{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { Eye, EyeOff, Mail, Lock, User, Shield, ArrowRight } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nexport default function LoginPage() {\n    const router = useRouter();\n    const { user, signInWithPassword, signUpWithPassword, operationLoading } = useAuth();\n    const { addToast } = useToast();\n\n    const [isLogin, setIsLogin] = useState(true);\n    const [email, setEmail] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n    const [focusedInput, setFocusedInput] = useState<string | null>(null);\n\n    useEffect(() => {\n        if (user) {\n            router.replace(\"/chat\");\n        }\n    }, [user, router]);\n\n    const handleAuth = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (isLogin) {\n            if (!email || !password) {\n                addToast(\"Please fill in all fields\", \"error\");\n                return;\n            }\n            const { error } = await signInWithPassword(email, password);\n            if (error) addToast(error, \"error\");\n        } else {\n            if (!email || !password || !username) {\n                addToast(\"Please fill in all fields\", \"error\");\n                return;\n            }\n            if (password !== confirmPassword) {\n                addToast(\"Passwords do not match\", \"error\");\n                return;\n            }\n            const { error, needsEmailConfirmation } = await signUpWithPassword(email, password, {\n                username,\n                full_name: username,\n            });\n            if (error) {\n                addToast(error, \"error\");\n            } else if (needsEmailConfirmation) {\n                addToast(\"Check your email to confirm your account\", \"success\");\n            }\n        }\n    };\n\n    return (\n        <div className=\"relative min-h-screen bg-black text-white flex flex-col items-center justify-center p-6 overflow-hidden\">\n            {/* Background Blobs */}\n            <div className=\"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[120px] animate-pulse\" />\n            <div className=\"absolute bottom-[10%] left-[-10%] w-[400px] h-[400px] bg-secondary/10 rounded-full blur-[100px] animate-pulse\" />\n\n            <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"w-full max-w-sm z-10\"\n            >\n                {/* Header */}\n                <div className=\"mb-10\">\n                    <h1 className=\"text-3xl font-black text-white tracking-tight mb-2\">\n                        {isLogin ? \"Welcome Back\" : \"Create Account\"}\n                    </h1>\n                    <p className=\"text-[#888] font-medium text-sm\">\n                        {isLogin ? \"Sign in to continue chatting\" : \"Join the conversation today\"}\n                    </p>\n                </div>\n\n                {/* Form Card */}\n                <div className=\"bg-[#111] border border-[#222] rounded-[30px] p-6 shadow-2xl\">\n                    {/* Toggle */}\n                    <div className=\"flex bg-[#222] p-1.5 rounded-xl mb-6\">\n                        <button\n                            onClick={() => setIsLogin(true)}\n                            className={`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all duration-300 ${isLogin ? \"bg-white text-black shadow-md\" : \"text-[#888] hover:text-white\"\n                                }`}\n                        >\n                            Login\n                        </button>\n                        <button\n                            onClick={() => setIsLogin(false)}\n                            className={`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all duration-300 ${!isLogin ? \"bg-white text-black shadow-md\" : \"text-[#888] hover:text-white\"\n                                }`}\n                        >\n                            Signup\n                        </button>\n                    </div>\n\n                    <form onSubmit={handleAuth} className=\"space-y-4\">\n                        <div className=\"space-y-4\">\n                            {/* Email Input */}\n                            <div className={`relative group transition-all duration-300 rounded-[18px] border ${focusedInput === 'email' ? 'border-[#00BFFF] bg-[#00BFFF]/5' : 'border-[#222] bg-[#1A1A1A]'\n                                }`}>\n                                <div className=\"absolute left-4 top-1/2 -translate-y-1/2\">\n                                    <Mail size={18} className={focusedInput === 'email' ? 'text-[#00BFFF]' : 'text-[#666]'} />\n                                </div>\n                                <input\n                                    type=\"email\"\n                                    placeholder=\"Email Address\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    onFocus={() => setFocusedInput('email')}\n                                    onBlur={() => setFocusedInput(null)}\n                                    className=\"w-full h-[52px] bg-transparent pl-12 pr-4 outline-none text-white text-[15px] font-medium placeholder:text-[#444]\"\n                                />\n                            </div>\n\n                            {/* Username Input (Signup only) */}\n                            <AnimatePresence>\n                                {!isLogin && (\n                                    <motion.div\n                                        initial={{ opacity: 0, height: 0 }}\n                                        animate={{ opacity: 1, height: \"auto\" }}\n                                        exit={{ opacity: 0, height: 0 }}\n                                        className=\"overflow-hidden\"\n                                    >\n                                        <div className={`relative group transition-all duration-300 rounded-[18px] border ${focusedInput === 'username' ? 'border-[#00BFFF] bg-[#00BFFF]/5' : 'border-[#222] bg-[#1A1A1A]'\n                                            }`}>\n                                            <div className=\"absolute left-4 top-1/2 -translate-y-1/2\">\n                                                <User size={18} className={focusedInput === 'username' ? 'text-[#00BFFF]' : 'text-[#666]'} />\n                                            </div>\n                                            <input\n                                                type=\"text\"\n                                                placeholder=\"Username\"\n                                                value={username}\n                                                onChange={(e) => setUsername(e.target.value)}\n                                                onFocus={() => setFocusedInput('username')}\n                                                onBlur={() => setFocusedInput(null)}\n                                                className=\"w-full h-[52px] bg-transparent pl-12 pr-4 outline-none text-white text-[15px] font-medium placeholder:text-[#444]\"\n                                            />\n                                        </div>\n                                    </motion.div>\n                                )}\n                            </AnimatePresence>\n\n                            {/* Password Input */}\n                            <div className={`relative group transition-all duration-300 rounded-[18px] border ${focusedInput === 'pass' ? 'border-[#00BFFF] bg-[#00BFFF]/5' : 'border-[#222] bg-[#1A1A1A]'\n                                }`}>\n                                <div className=\"absolute left-4 top-1/2 -translate-y-1/2\">\n                                    <Lock size={18} className={focusedInput === 'pass' ? 'text-[#00BFFF]' : 'text-[#666]'} />\n                                </div>\n                                <input\n                                    type={showPassword ? \"text\" : \"password\"}\n                                    placeholder=\"Password\"\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                    onFocus={() => setFocusedInput('pass')}\n                                    onBlur={() => setFocusedInput(null)}\n                                    className=\"w-full h-[52px] bg-transparent pl-12 pr-12 outline-none text-white text-[15px] font-medium placeholder:text-[#444]\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setShowPassword(!showPassword)}\n                                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[#666] hover:text-white transition-colors\"\n                                >\n                                    {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                                </button>\n                            </div>\n\n                            {/* Confirm Password (Signup only) */}\n                            <AnimatePresence>\n                                {!isLogin && (\n                                    <motion.div\n                                        initial={{ opacity: 0, height: 0 }}\n                                        animate={{ opacity: 1, height: \"auto\" }}\n                                        exit={{ opacity: 0, height: 0 }}\n                                        className=\"overflow-hidden pt-4\"\n                                    >\n                                        <div className={`relative group transition-all duration-300 rounded-[18px] border ${focusedInput === 'confirm' ? 'border-[#00BFFF] bg-[#00BFFF]/5' : 'border-[#222] bg-[#1A1A1A]'\n                                            }`}>\n                                            <div className=\"absolute left-4 top-1/2 -translate-y-1/2\">\n                                                <Shield size={18} className={focusedInput === 'confirm' ? 'text-[#00BFFF]' : 'text-[#666]'} />\n                                            </div>\n                                            <input\n                                                type={showPassword ? \"text\" : \"password\"}\n                                                placeholder=\"Confirm Password\"\n                                                value={confirmPassword}\n                                                onChange={(e) => setConfirmPassword(e.target.value)}\n                                                onFocus={() => setFocusedInput('confirm')}\n                                                onBlur={() => setFocusedInput(null)}\n                                                className=\"w-full h-[52px] bg-transparent pl-12 pr-4 outline-none text-white text-[15px] font-medium placeholder:text-[#444]\"\n                                            />\n                                        </div>\n                                    </motion.div>\n                                )}\n                            </AnimatePresence>\n                        </div>\n\n                        {/* Submit Button */}\n                        <button\n                            type=\"submit\"\n                            disabled={operationLoading}\n                            className=\"w-full mt-6 h-[56px] rounded-[18px] font-bold text-[16px] relative overflow-hidden group disabled:opacity-50 shadow-lg shadow-[#00BFFF]/20\"\n                        >\n                            <div className=\"absolute inset-0 bg-gradient-to-r from-[#00BFFF] to-[#FFB6C1] transition-transform duration-300 group-hover:scale-105\" />\n                            <span className=\"relative flex items-center justify-center gap-2 text-white\">\n                                {operationLoading ? (\n                                    <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                                ) : (\n                                    <>\n                                        {isLogin ? \"Sign In\" : \"Create Account\"}\n                                    </>\n                                )}\n                            </span>\n                        </button>\n                    </form>\n\n                    {isLogin && (\n                        <button className=\"w-full mt-6 text-[#00BFFF] text-xs font-bold hover:underline transition-all\">\n                            Forgot Password?\n                        </button>\n                    )}\n                </div>\n\n                {/* Footer Toggle */}\n                <p className=\"mt-8 text-center text-[#666] text-xs\">\n                    {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\n                    <button\n                        onClick={() => setIsLogin(!isLogin)}\n                        className=\"text-[#00BFFF] font-bold hover:underline ml-1\"\n                    >\n                        {isLogin ? \"Sign Up\" : \"Log In\"}\n                    </button>\n                </p>\n            </motion.div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/group-info.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { X, UserPlus, Trash2, Shield, ShieldAlert, LogOut } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\n\ninterface GroupInfoProps {\n    roomId: string;\n    onClose: () => void;\n    currentUserId: string;\n}\n\ninterface Participant extends Profile {\n    role: 'owner' | 'admin' | 'member';\n}\n\nexport function GroupInfo({ roomId, onClose, currentUserId }: GroupInfoProps) {\n    const [participants, setParticipants] = useState<Participant[]>([]);\n    const [roomName, setRoomName] = useState(\"\");\n    const [isGroup, setIsGroup] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [isAdmin, setIsAdmin] = useState(false);\n\n    // For adding members\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchResults, setSearchResults] = useState<Profile[]>([]);\n    const [showAdd, setShowAdd] = useState(false);\n\n    const supabase = createClient();\n\n    useEffect(() => {\n        fetchDetails();\n    }, [roomId]);\n\n    const fetchDetails = async () => {\n        // Fetch Room\n        const { data: room } = await supabase.from('rooms').select('*').eq('id', roomId).single();\n        if (room) {\n            setRoomName(room.name || \"Chat\");\n            setIsGroup(room.is_group);\n        }\n\n        // Fetch Participants\n        const { data: parts } = await supabase\n            .from('room_participants')\n            .select(`role, profiles(*)`)\n            .eq('room_id', roomId);\n\n        if (parts) {\n            const mapped = parts.map((p: any) => ({\n                ...p.profiles,\n                role: p.role\n            }));\n            setParticipants(mapped);\n\n            const me = mapped.find((p: any) => p.id === currentUserId);\n            if (me && (me.role === 'owner' || me.role === 'admin')) setIsAdmin(true);\n        }\n        setLoading(false);\n    };\n\n    const handleUpdateName = async () => {\n        if (!roomName.trim()) return;\n        await supabase.from('rooms').update({ name: roomName }).eq('id', roomId);\n        alert(\"Group name updated\");\n    };\n\n    const handleSearch = async () => {\n        if (!searchQuery) return;\n        const { data } = await supabase.from('profiles')\n            .select('*')\n            .ilike('username', `%${searchQuery}%`)\n            .limit(5);\n        if (data) setSearchResults(data);\n    };\n\n    const addMember = async (userId: string) => {\n        const { error } = await supabase.from('room_participants').insert({\n            room_id: roomId,\n            user_id: userId,\n            role: 'member'\n        });\n        if (error) alert(error.message);\n        else {\n            alert(\"Member added\");\n            setShowAdd(false);\n            fetchDetails();\n        }\n    };\n\n    const removeMember = async (userId: string) => {\n        if (!confirm(\"Remove this user?\")) return;\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', userId);\n        setParticipants(prev => prev.filter(p => p.id !== userId));\n    };\n\n    const promoteMember = async (userId: string) => {\n        await supabase.from('room_participants').update({ role: 'admin' }).eq('room_id', roomId).eq('user_id', userId);\n        fetchDetails();\n    };\n\n    const leaveGroup = async () => {\n        if (!confirm(\"Leave this group?\")) return;\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', currentUserId);\n        onClose();\n        window.location.href = '/chat';\n    };\n\n    if (loading) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white\">Group Info</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 overflow-y-auto custom-scrollbar flex-1 space-y-6\">\n                    {/* Header Info */}\n                    <div className=\"flex flex-col items-center gap-3\">\n                        <Avatar fallback={roomName} className=\"w-20 h-20 text-2xl\" />\n                        {isAdmin ? (\n                            <div className=\"flex gap-2 w-full\">\n                                <input\n                                    value={roomName}\n                                    onChange={(e) => setRoomName(e.target.value)}\n                                    className=\"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-center font-bold text-white focus:border-primary outline-none\"\n                                />\n                                <button onClick={handleUpdateName} className=\"text-xs text-primary hover:underline\">Save</button>\n                            </div>\n                        ) : (\n                            <h3 className=\"text-xl font-bold text-white\">{roomName}</h3>\n                        )}\n                        <p className=\"text-xs text-white/40\">{participants.length} members</p>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex justify-center gap-4\">\n                        {isAdmin && (\n                            <button onClick={() => setShowAdd(!showAdd)} className=\"flex flex-col items-center gap-1 text-primary hover:opacity-80\">\n                                <div className=\"p-3 bg-primary/10 rounded-full\"><UserPlus className=\"w-5 h-5\" /></div>\n                                <span className=\"text-xs\">Add</span>\n                            </button>\n                        )}\n                        <button onClick={leaveGroup} className=\"flex flex-col items-center gap-1 text-red-400 hover:opacity-80\">\n                            <div className=\"p-3 bg-red-500/10 rounded-full\"><LogOut className=\"w-5 h-5\" /></div>\n                            <span className=\"text-xs\">Leave</span>\n                        </button>\n                    </div>\n\n                    {/* Add Member Search */}\n                    {showAdd && (\n                        <div className=\"bg-white/5 p-3 rounded-xl space-y-2 animate-in slide-in-from-top-2\">\n                            <div className=\"flex gap-2\">\n                                <input\n                                    className=\"flex-1 bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white\"\n                                    placeholder=\"Search username...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                />\n                                <button onClick={handleSearch} className=\"px-3 bg-primary rounded-lg text-white text-xs\">Search</button>\n                            </div>\n                            <div className=\"space-y-1 max-h-32 overflow-y-auto\">\n                                {searchResults.map(u => (\n                                    <div key={u.id} className=\"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Avatar src={u.avatar_url || undefined} fallback={u.username || \"?\"} className=\"w-6 h-6\" />\n                                            <span className=\"text-sm text-white\">{u.username}</span>\n                                        </div>\n                                        <button onClick={() => addMember(u.id)} className=\"text-primary text-xs hover:underline\">Add</button>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Participants List */}\n                    <div>\n                        <h4 className=\"text-sm font-bold text-white/50 mb-2 uppercase tracking-wider\">Participants</h4>\n                        <div className=\"space-y-2\">\n                            {participants.map((p) => (\n                                <div key={p.id} className=\"flex items-center justify-between p-2 rounded-xl hover:bg-white/5 transition-colors group\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <Avatar src={p.avatar_url || undefined} fallback={p.username || \"?\"} />\n                                        <div>\n                                            <p className=\"text-sm font-medium text-white flex items-center gap-1\">\n                                                {p.full_name || p.username}\n                                                {p.role === 'owner' && <ShieldAlert className=\"w-3 h-3 text-yellow-500\" />}\n                                                {p.role === 'admin' && <Shield className=\"w-3 h-3 text-blue-400\" />}\n                                            </p>\n                                            <p className=\"text-xs text-white/40 capitalize\">{p.role}</p>\n                                        </div>\n                                    </div>\n\n                                    {isAdmin && currentUserId !== p.id && (\n                                        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                            {p.role === 'member' && (\n                                                <button onClick={() => promoteMember(p.id)} className=\"p-1 hover:bg-blue-500/20 text-blue-400 rounded\" title=\"Promote\">\n                                                    <Shield className=\"w-4 h-4\" />\n                                                </button>\n                                            )}\n                                            <button onClick={() => removeMember(p.id)} className=\"p-1 hover:bg-red-500/20 text-red-400 rounded\" title=\"Remove\">\n                                                <Trash2 className=\"w-4 h-4\" />\n                                            </button>\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","X","UserPlus","Trash2","Shield","ShieldAlert","LogOut","Profile","cn","GroupInfoProps","roomId","onClose","currentUserId","Participant","role","GroupInfo","participants","setParticipants","roomName","setRoomName","isGroup","setIsGroup","loading","setLoading","isAdmin","setIsAdmin","searchQuery","setSearchQuery","searchResults","setSearchResults","showAdd","setShowAdd","supabase","fetchDetails","data","room","from","select","eq","single","name","is_group","parts","mapped","map","p","profiles","me","find","id","handleUpdateName","trim","update","alert","handleSearch","ilike","limit","addMember","userId","error","insert","room_id","user_id","message","removeMember","confirm","delete","prev","filter","promoteMember","leaveGroup","window","location","href","e","target","value","length","u","avatar_url","undefined","username","full_name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/chat-window.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { ArrowLeft, Mic, Send, Paperclip, X, Image as ImageIcon, Check, CheckCheck, Trash2, Ban, Phone, Video, MoreVertical, Loader2, Square, Reply as ReplyIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { useCall } from \"@/contexts/call-context\";\nimport { Message, MessageType } from \"@/lib/types\";\nimport { GroupInfo } from \"./group-info\";\nimport { useParams, useRouter } from \"next/navigation\";\n\nexport default function ChatWindow({ roomId, user }: { roomId: string; user: any }) {\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [newMessage, setNewMessage] = useState(\"\");\n    const [room, setRoom] = useState<any>(null);\n    const [uploading, setUploading] = useState(false);\n    const [showGroupInfo, setShowGroupInfo] = useState(false);\n    const [recording, setRecording] = useState(false);\n    const [audioBlob, setAudioBlob] = useState<Blob | null>(null);\n    const [replyingTo, setReplyingTo] = useState<Message | null>(null);\n    const [isBlocked, setIsBlocked] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [headerName, setHeaderName] = useState(\"Chat Room\");\n    const [headerAvatar, setHeaderAvatar] = useState<string | undefined>(undefined);\n    const [headerGender, setHeaderGender] = useState<string | undefined>(undefined);\n\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n    const chunksRef = useRef<Blob[]>([]);\n    const scrollRef = useRef<HTMLDivElement>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const supabase = createClient();\n    const router = useRouter();\n\n    const { startCall } = useCall();\n    const { addToast } = useToast();\n\n    useEffect(() => {\n        const fetchRoomAndMessages = async () => {\n            setLoading(true);\n            const { data: roomData } = await supabase\n                .from(\"rooms\")\n                .select(`*, room_participants(user_id, profiles(username, full_name, avatar_url, gender))`)\n                .eq(\"id\", roomId)\n                .single();\n\n            setRoom(roomData);\n\n            if (roomData) {\n                if (roomData.is_group === false && roomData.room_participants) {\n                    const other = roomData.room_participants.find((p: any) => p.user_id !== user.id);\n                    if (other && other.profiles) {\n                        const name = (other.profiles.full_name || other.profiles.username || \"Unknown User\").toUpperCase();\n                        setHeaderName(name);\n                        setHeaderAvatar(other.profiles.avatar_url);\n                        setHeaderGender(other.profiles.gender);\n\n                        const { data: blockData } = await supabase\n                            .from(\"blocked_users\")\n                            .select(\"*\")\n                            .eq(\"blocker_id\", user.id)\n                            .eq(\"blocked_id\", other.user_id)\n                            .maybeSingle();\n\n                        setIsBlocked(!!blockData);\n                    }\n                } else {\n                    setHeaderName((roomData.name || \"Group Chat\").toUpperCase());\n                }\n            }\n\n            const { data: msgData } = await supabase\n                .from(\"messages\")\n                .select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`)\n                .eq(\"room_id\", roomId)\n                .order(\"created_at\", { ascending: true });\n\n            if (msgData) setMessages(msgData as any);\n            setLoading(false);\n        };\n\n        fetchRoomAndMessages();\n\n        const channel = supabase\n            .channel(`room:${roomId}`)\n            .on(\"postgres_changes\", { event: \"INSERT\", schema: \"public\", table: \"messages\", filter: `room_id=eq.${roomId}` },\n                async (payload) => {\n                    const { data } = await supabase.from(\"messages\").select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`).eq(\"id\", payload.new.id).single();\n                    if (data) setMessages((prev) => [...prev, data as any]);\n                })\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(channel);\n        };\n    }, [roomId, user.id, supabase]);\n\n    useEffect(() => {\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n\n        const unreadIds = messages\n            .filter(m => m.user_id !== user.id && !m.read_at)\n            .map(m => m.id);\n\n        if (unreadIds.length > 0) {\n            supabase\n                .from(\"messages\")\n                .update({ read_at: new Date().toISOString() })\n                .in(\"id\", unreadIds)\n                .then(() => { });\n        }\n    }, [messages, user.id, supabase]);\n\n    const getNameColor = (gender?: string) => {\n        switch (gender?.toLowerCase()) {\n            case 'male': return '#00BFFF';\n            case 'female': return '#FFB6C1';\n            case 'other': return '#FFD700';\n            default: return '#FFF';\n        }\n    };\n\n    const handleSendMessage = async (e?: React.FormEvent, type: MessageType = 'text', mediaUrl?: string, meta?: any) => {\n        if (e) e.preventDefault();\n        if (isBlocked) return;\n\n        let content = type === 'text' ? newMessage : null;\n        if (type === 'text' && !content?.trim()) return;\n\n        if (!content && type !== 'text') {\n            if (type === 'image') content = 'ðŸ“· Image';\n            else if (type === 'video') content = 'ðŸ“¹ Video';\n            else if (type === 'audio') content = 'ðŸŽ¤ Voice Note';\n            else content = 'ðŸ“Ž Attachment';\n        }\n\n        const { error } = await supabase.from(\"messages\").insert({\n            room_id: roomId,\n            user_id: user.id,\n            content: content,\n            message_type: type,\n            media_url: mediaUrl,\n            media_meta: meta,\n            reply_to: replyingTo?.id,\n            status: 'sent',\n            is_deleted: false\n        });\n\n        if (!error) {\n            if (type === 'text') setNewMessage(\"\");\n            setReplyingTo(null);\n\n            // Update room updated_at\n            await supabase.from(\"rooms\").update({ updated_at: new Date().toISOString() }).eq(\"id\", roomId);\n        }\n    };\n\n    const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file || isBlocked) return;\n\n        setUploading(true);\n        const fileName = `${Date.now()}_${file.name}`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, file);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n\n        let type: MessageType = 'document';\n        if (file.type.startsWith('image/')) type = 'image';\n        else if (file.type.startsWith('video/')) type = 'video';\n        else if (file.type.startsWith('audio/')) type = 'audio';\n\n        await handleSendMessage(undefined, type, publicUrl, { size: file.size, name: file.name });\n        setUploading(false);\n    };\n\n    const handleDeleteMessage = async (messageId: string) => {\n        const { error } = await supabase\n            .from(\"messages\")\n            .update({ content: \"ðŸš« Message deleted\", is_deleted: true, media_url: null, media_meta: null })\n            .eq(\"id\", messageId);\n\n        if (error) addToast(\"Failed to delete message\", \"error\");\n    };\n\n    const startRecording = async () => {\n        if (isBlocked) return;\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            const mediaRecorder = new MediaRecorder(stream);\n            mediaRecorderRef.current = mediaRecorder;\n            chunksRef.current = [];\n\n            mediaRecorder.ondataavailable = (e) => {\n                if (e.data.size > 0) chunksRef.current.push(e.data);\n            };\n\n            mediaRecorder.onstop = () => {\n                const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n                setAudioBlob(blob);\n                stream.getTracks().forEach(track => track.stop());\n            };\n\n            mediaRecorder.start();\n            setRecording(true);\n        } catch (err) {\n            console.error(\"Error accessing microphone:\", err);\n            addToast(\"Could not access microphone\", \"error\");\n        }\n    };\n\n    const stopRecording = () => {\n        if (mediaRecorderRef.current && recording) {\n            mediaRecorderRef.current.stop();\n            setRecording(false);\n        }\n    };\n\n    const cancelRecording = () => {\n        stopRecording();\n        setAudioBlob(null);\n        chunksRef.current = [];\n    };\n\n    const sendVoiceNote = async () => {\n        if (!audioBlob || isBlocked) return;\n        setUploading(true);\n        const fileName = `${Date.now()}.webm`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, audioBlob);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n        await handleSendMessage(undefined, 'audio', publicUrl, { duration: 0 });\n        setAudioBlob(null);\n        setUploading(false);\n    };\n\n    const handleBlockUser = async () => {\n        if (!room || room.is_group) return;\n        const other = room.room_participants?.find((p: any) => p.user_id !== user?.id);\n        if (!other) return;\n\n        try {\n            if (isBlocked) {\n                await supabase.from(\"blocked_users\").delete().eq(\"blocker_id\", user?.id).eq(\"blocked_id\", other.user_id);\n                setIsBlocked(false);\n                addToast(\"User unblocked\", \"success\");\n            } else {\n                await supabase.from(\"blocked_users\").insert({ blocker_id: user?.id, blocked_id: other.user_id });\n                setIsBlocked(true);\n                addToast(\"User blocked\", \"error\");\n                router.push('/chat');\n            }\n        } catch (err: any) {\n            addToast(\"Action failed\", \"error\");\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex-1 flex flex-col items-center justify-center bg-black\">\n                <Loader2 className=\"w-10 h-10 text-primary animate-spin\" />\n                <p className=\"mt-4 text-white/50 font-bold tracking-widest uppercase text-[10px]\">Establishing Secure Line...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-full bg-black relative\">\n            {/* Background Glow */}\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] pointer-events-none\" />\n\n            {/* Chat Header */}\n            <div className=\"px-6 py-4 flex items-center justify-between bg-black/80 backdrop-blur-xl border-b border-white/5 z-20\">\n                <div className=\"flex items-center gap-4\">\n                    <button onClick={() => router.push('/chat')} className=\"p-2 -ml-2 hover:bg-white/5 rounded-xl text-white/30 hover:text-white transition-all\">\n                        <ArrowLeft className=\"w-6 h-6\" strokeWidth={3} />\n                    </button>\n                    <div className=\"relative\">\n                        <div className=\"w-11 h-11 rounded-2xl p-0.5 bg-gradient-to-br from-primary/30 to-secondary/30\">\n                            <Avatar src={headerAvatar} fallback={headerName[0] || \"?\"} className=\"w-full h-full rounded-[14px]\" />\n                        </div>\n                        <div className=\"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-online border-[3px] border-black rounded-full shadow-lg shadow-online/20\"></div>\n                    </div>\n                    <div>\n                        <h3 className=\"text-[17px] font-black tracking-tight\" style={{ color: getNameColor(headerGender) }}>{headerName}</h3>\n                        <div className=\"flex items-center gap-1.5 mt-0.5\">\n                            <div className=\"w-1.5 h-1.5 bg-online rounded-full animate-pulse shadow-sm shadow-online\" />\n                            <p className=\"text-[11px] font-black text-primary uppercase tracking-widest\">Active Now</p>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-1\">\n                    <button onClick={() => startCall(roomId, false)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-primary transition-all\">\n                        <Phone className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                    <button onClick={() => startCall(roomId, true)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-secondary transition-all\">\n                        <Video className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                    <button onClick={() => setShowGroupInfo(true)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-white transition-all\">\n                        <MoreVertical className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Messages Area */}\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar relative z-10\" ref={scrollRef}>\n                <div className=\"flex justify-center mb-8\">\n                    <div className=\"px-4 py-1 rounded-full bg-white/5 border border-white/10\">\n                        <span className=\"text-[10px] font-black text-white/30 uppercase tracking-[0.2em]\">Today</span>\n                    </div>\n                </div>\n\n                {messages.map((msg, index) => {\n                    const isMe = msg.user_id === user.id;\n                    const prevMsg = messages[index - 1];\n                    const isSameUser = prevMsg?.user_id === msg.user_id;\n\n                    return (\n                        <div key={msg.id} className={cn(\"flex flex-col\", isMe ? \"items-end\" : \"items-start\")}>\n                            {!isMe && !isSameUser && (\n                                <span className=\"text-[10px] font-black text-white/20 mb-1.5 ml-14 uppercase tracking-wider\" style={{ color: getNameColor((msg.profiles as any)?.gender) }}>\n                                    {(msg.profiles as any)?.username}\n                                </span>\n                            )}\n                            <div className={cn(\"flex items-end gap-3 max-w-[85%]\", isMe && \"flex-row-reverse\")}>\n                                {!isMe && (\n                                    <div className=\"w-8 h-8 rounded-xl overflow-hidden ring-1 ring-white/10 flex-shrink-0\">\n                                        {!isSameUser ? (\n                                            <Avatar src={(msg.profiles as any)?.avatar_url || ''} fallback={(msg.profiles as any)?.username?.[0] || \"?\"} className=\"w-full h-full\" />\n                                        ) : <div className=\"w-full h-full\" />}\n                                    </div>\n                                )}\n\n                                <div className={cn(\n                                    \"px-4 py-3 relative group transition-all\",\n                                    isMe\n                                        ? \"bg-primary text-black rounded-[22px] rounded-br-[4px] shadow-lg shadow-primary/10\"\n                                        : \"bg-white/5 text-white rounded-[22px] rounded-bl-[4px] border border-white/5\"\n                                )}>\n                                    {/* Action Buttons */}\n                                    <div className={cn(\n                                        \"absolute -top-8 px-2 py-1 bg-black/60 backdrop-blur-md rounded-xl border border-white/10 flex gap-2 opacity-0 group-hover:opacity-100 transition-all z-20\",\n                                        isMe ? \"right-0\" : \"left-0\"\n                                    )}>\n                                        <button\n                                            onClick={() => setReplyingTo(msg)}\n                                            className=\"text-white/60 hover:text-primary transition-colors\"\n                                        >\n                                            <ReplyIcon size={14} />\n                                        </button>\n                                        {isMe && !msg.is_deleted && (\n                                            <button\n                                                onClick={() => handleDeleteMessage(msg.id)}\n                                                className=\"text-white/60 hover:text-secondary transition-colors\"\n                                            >\n                                                <Trash2 size={14} />\n                                            </button>\n                                        )}\n                                    </div>\n\n                                    {msg.is_deleted ? (\n                                        <p className=\"italic text-[13px] opacity-40 font-medium tracking-tight\">ðŸš« Ghost message deleted</p>\n                                    ) : (\n                                        <>\n                                            {/* Replying To Preview */}\n                                            {msg.reply_item && (\n                                                <div className={cn(\n                                                    \"mb-2 p-2 rounded-xl flex flex-col gap-0.5 border-l-4\",\n                                                    isMe ? \"bg-black/5 border-black/20\" : \"bg-white/5 border-primary/40\"\n                                                )}>\n                                                    <span className={cn(\"text-[9px] font-black uppercase tracking-widest\", isMe ? \"text-black/50\" : \"text-primary/70\")}>\n                                                        {msg.reply_item.profiles?.username || 'GOSSIPER'}\n                                                    </span>\n                                                    <p className={cn(\"text-[11px] font-bold truncate italic opacity-60\", isMe ? \"text-black\" : \"text-white\")}>\n                                                        {msg.reply_item.message_type === 'text' ? msg.reply_item.content : `[MEDIA ${msg.reply_item.message_type.toUpperCase()}]`}\n                                                    </p>\n                                                </div>\n                                            )}\n\n                                            {msg.message_type === 'text' && <p className=\"text-[15px] font-medium leading-relaxed tracking-tight\">{msg.content}</p>}\n                                            {msg.message_type === 'image' && (\n                                                <div className=\"rounded-2xl overflow-hidden my-1 border border-white/10\">\n                                                    <img src={msg.media_url || ''} alt=\"\" className=\"max-w-full max-h-[400px] w-auto h-auto object-cover\" />\n                                                </div>\n                                            )}\n                                        </>\n                                    )}\n\n                                    <div className={cn(\"flex items-center gap-1.5 mt-1.5\", isMe ? \"justify-end\" : \"justify-start\")}>\n                                        <span className={cn(\"text-[10px] font-black uppercase tracking-widest\", isMe ? \"text-black/40\" : \"text-white/20\")}>\n                                            {new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                        {isMe && (\n                                            msg.read_at\n                                                ? <CheckCheck size={12} className=\"text-black/60\" />\n                                                : <Check size={12} className=\"text-black/40\" />\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n                {uploading && (\n                    <div className=\"flex justify-end pr-4\">\n                        <div className=\"bg-primary/20 p-2 rounded-xl flex items-center gap-2 border border-primary/20\">\n                            <Loader2 className=\"w-4 h-4 animate-spin text-primary\" />\n                            <span className=\"text-[11px] font-black text-primary uppercase tracking-widest\">Transmitting...</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Input Area */}\n            <form onSubmit={(e) => handleSendMessage(e, 'text')} className=\"p-4 bg-background border-t border-divider\">\n                {replyingTo && (\n                    <div className=\"flex items-center justify-between bg-surface/50 p-2 rounded-t-xl border border-primary/20 mb-2 backdrop-blur-sm\">\n                        <div className=\"flex items-center gap-2 overflow-hidden\">\n                            <div className=\"w-1 h-8 bg-primary rounded-full\"></div>\n                            <div className=\"flex flex-col\">\n                                <span className=\"text-small font-bold text-primary\">\n                                    Replying to {\n                                        replyingTo.profiles?.username || 'user'\n                                    }\n                                </span>\n                                <span className=\"text-small text-text-secondary truncate max-w-[200px]\">{replyingTo.content || 'Media message'}</span>\n                            </div>\n                        </div>\n                        <button type=\"button\" onClick={() => setReplyingTo(null)} className=\"p-1 hover:bg-surface rounded-full\">\n                            <X className=\"w-4 h-4 text-text-secondary\" />\n                        </button>\n                    </div>\n                )}\n                <input\n                    type=\"file\"\n                    ref={fileInputRef}\n                    className=\"hidden\"\n                    onChange={handleFileUpload}\n                    accept=\"image/*,video/*,audio/*\"\n                />\n                <div className=\"flex gap-3 items-center bg-surface p-2 pl-4 rounded-xl shadow-reference-sm border border-divider focus-within:border-primary/50 transition-all\">\n                    {recording ? (\n                        <div className=\"flex-1 flex items-center gap-3 animate-pulse\">\n                            <span className=\"text-red-500 text-small font-bold uppercase tracking-wider\">Recording...</span>\n                            <div className=\"w-2 h-2 rounded-full bg-red-500 animate-ping\"></div>\n                        </div>\n                    ) : audioBlob ? (\n                        <div className=\"flex-1 flex items-center gap-3\">\n                            <span className=\"text-small text-primary font-bold\">Voice Note</span>\n                            <audio src={URL.createObjectURL(audioBlob)} controls className=\"h-8 w-40\" />\n                        </div>\n                    ) : (\n                        <>\n                            <button\n                                type=\"button\"\n                                onClick={() => fileInputRef.current?.click()}\n                                className=\"p-2 text-text-secondary hover:text-primary transition-colors\"\n                                disabled={uploading}\n                            >\n                                <Paperclip className=\"w-5 h-5\" />\n                            </button>\n\n                            <input\n                                value={newMessage}\n                                onChange={(e) => setNewMessage(e.target.value)}\n                                placeholder=\"Type a message...\"\n                                className=\"flex-1 bg-transparent border-none outline-none px-2 text-body text-foreground placeholder:text-text-tertiary h-10\"\n                                disabled={uploading}\n                            />\n                        </>\n                    )}\n\n                    {recording ? (\n                        <button type=\"button\" onClick={stopRecording} className=\"p-2 bg-red-500/20 text-red-500 rounded-lg hover:bg-red-500/30\">\n                            <Square className=\"w-4 h-4 fill-current\" />\n                        </button>\n                    ) : audioBlob ? (\n                        <>\n                            <button type=\"button\" onClick={cancelRecording} className=\"p-2 text-text-secondary hover:text-red-400\">\n                                <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                            <button type=\"button\" onClick={sendVoiceNote} className=\"p-2 bg-primary-dark text-white rounded-full h-10 w-10 flex items-center justify-center hover:bg-primary/90 shadow-md\">\n                                <Send className=\"w-4 h-4 ml-0.5\" />\n                            </button>\n                        </>\n                    ) : (\n                        newMessage.trim() ? (\n                            <button\n                                type=\"submit\"\n                                disabled={uploading}\n                                className=\"p-2 bg-primary-dark text-white rounded-full h-10 w-10 flex items-center justify-center hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md\"\n                            >\n                                <Send className=\"w-4 h-4 ml-0.5\" />\n                            </button>\n                        ) : (\n                            <button\n                                type=\"button\"\n                                onClick={startRecording}\n                                disabled={uploading}\n                                className=\"p-2 text-text-secondary hover:text-primary transition-all\"\n                            >\n                                <Mic className=\"w-5 h-5\" />\n                            </button>\n                        )\n                    )}\n                </div>\n            </form>\n            {showGroupInfo && <GroupInfo roomId={roomId} onClose={() => setShowGroupInfo(false)} currentUserId={user.id} />}\n        </div>\n    );\n}\n"],"names":["c","_c","useEffect","useState","useRef","createClient","Avatar","ArrowLeft","Mic","Send","Paperclip","X","Image","ImageIcon","Check","CheckCheck","Trash2","Ban","Phone","Video","MoreVertical","Loader2","Square","Reply","ReplyIcon","cn","useToast","useCall","Message","MessageType","GroupInfo","useParams","useRouter","ChatWindow","t0","$","$i","Symbol","for","roomId","user","t1","messages","setMessages","newMessage","setNewMessage","setRoom","uploading","setUploading","showGroupInfo","setShowGroupInfo","recording","setRecording","audioBlob","setAudioBlob","replyingTo","setReplyingTo","isBlocked","setIsBlocked","loading","setLoading","headerName","setHeaderName","headerAvatar","setHeaderAvatar","undefined","headerGender","setHeaderGender","mediaRecorderRef","t2","chunksRef","scrollRef","fileInputRef","t3","supabase","router","startCall","addToast","t4","t5","id","ChatWindow[useEffect()]","fetchRoomAndMessages","ChatWindow[useEffect() > fetchRoomAndMessages]","data","roomData","from","select","eq","single","is_group","room_participants","other","find","p","user_id","profiles","name","full_name","username","toUpperCase","avatar_url","gender","blockData","maybeSingle","msgData","order","ascending","channel","on","event","schema","table","filter","payload","new","prev","subscribe","removeChannel","t6","t7","current","scrollTop","scrollHeight","unreadIds","m","read_at","map","_ChatWindowUseEffectAnonymous","length","update","Date","toISOString","in","then","_ChatWindowUseEffectAnonymous2","getNameColor","_ChatWindowGetNameColor","t8","ChatWindow[handleSendMessage]","e","t9","mediaUrl","meta","type","preventDefault","content","trim","error","insert","room_id","message_type","media_url","media_meta","reply_to","status","is_deleted","updated_at","handleSendMessage","e_0","file","target","files","fileName","now","filePath","uploadError","storage","upload","message","t10","getPublicUrl","publicUrl","type_0","startsWith","size","handleFileUpload","messageId","error_0","handleDeleteMessage","t11","ChatWindow[startRecording]","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","e_1","push","onstop","blob","Blob","getTracks","forEach","_ChatWindowStartRecordingAnonymousAnonymous","start","t12","err","console","startRecording","ChatWindow[stopRecording]","stop","stopRecording","t13","ChatWindow[cancelRecording]","cancelRecording","t14","ChatWindow[sendVoiceNote]","fileName_0","filePath_0","uploadError_0","t15","publicUrl_0","duration","sendVoiceNote","t16","ChatWindow[<button>.onClick]","t17","t18","t19","t20","t21","t22","t23","t24","color","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","t38","t39","t40","ChatWindow[messages.map()]","msg","index","isMe","prevMsg","isSameUser","ChatWindow[messages.map() > <button>.onClick]","reply_item","created_at","toLocaleTimeString","hour","minute","t41","t42","t43","e_2","t44","t45","t46","URL","createObjectURL","click","e_3","value","t47","t48","t49","t50","ChatWindow[<GroupInfo>.onClose]","t51","track","toLowerCase","m_0"],"mappings":"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","ignoreList":[]}}]
}
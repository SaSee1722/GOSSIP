{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/chat-actions.tsx"],"sourcesContent":["\"use client\";\n\nimport { X, Phone, Video, Lock, Ban } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ChatActionsProps {\n    onClose: () => void;\n    onVoiceCall: () => void;\n    onVideoCall: () => void;\n    onBlockUser: () => void;\n    isBlocked: boolean;\n    isGroup: boolean;\n}\n\nexport function ChatActions({ onClose, onVoiceCall, onVideoCall, onBlockUser, isBlocked, isGroup }: ChatActionsProps) {\n    return (\n        <div className=\"fixed inset-0 z-[100] flex items-end justify-center bg-black/40 backdrop-blur-sm p-0 sm:p-4\">\n            <div\n                className=\"w-full max-w-2xl bg-[#0A0A0A] border-t border-x border-white/10 rounded-t-[32px] sm:rounded-b-[32px] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300\"\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* Header */}\n                <div className=\"p-6 flex items-center justify-between border-b border-white/5\">\n                    <h2 className=\"text-xl font-bold tracking-tighter\">\n                        <span className=\"text-primary font-black\">GOSSIP</span>{\" \"}\n                        <span className=\"text-secondary font-black\">ACTIONS</span>\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-full transition-colors\">\n                        <X className=\"w-6 h-6 text-white\" />\n                    </button>\n                </div>\n\n                {/* Actions List */}\n                <div className=\"p-4 space-y-3 pb-12\">\n                    <button\n                        onClick={onVoiceCall}\n                        className=\"w-full flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-2xl transition-all group\"\n                    >\n                        <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform\">\n                            <Phone className=\"w-5 h-5\" />\n                        </div>\n                        <span className=\"text-white font-bold text-[15px]\">Voice Call</span>\n                    </button>\n\n                    <button\n                        onClick={onVideoCall}\n                        className=\"w-full flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-2xl transition-all group\"\n                    >\n                        <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform\">\n                            <Video className=\"w-5 h-5\" />\n                        </div>\n                        <span className=\"text-white font-bold text-[15px]\">Video Call</span>\n                    </button>\n\n                    <button\n                        className=\"w-full flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 rounded-2xl transition-all group\"\n                    >\n                        <div className=\"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center text-yellow-500 group-hover:scale-110 transition-transform\">\n                            <Lock className=\"w-5 h-5\" />\n                        </div>\n                        <span className=\"text-white font-bold text-[15px]\">Lock Chat</span>\n                    </button>\n\n                    <button\n                        onClick={onBlockUser}\n                        className={cn(\n                            \"w-full flex items-center gap-4 p-4 border rounded-2xl transition-all group\",\n                            isBlocked\n                                ? \"bg-green-500/5 border-green-500/20 hover:bg-green-500/10\"\n                                : \"bg-red-500/5 border-red-500/20 hover:bg-red-500/10\"\n                        )}\n                    >\n                        <div className={cn(\n                            \"w-10 h-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform\",\n                            isBlocked ? \"bg-green-500/10 text-green-500\" : \"bg-red-500/10 text-red-500\"\n                        )}>\n                            <Ban className=\"w-5 h-5\" />\n                        </div>\n                        <span className={cn(\n                            \"font-bold text-[15px]\",\n                            isBlocked ? \"text-green-500\" : \"text-red-500\"\n                        )}>\n                            {isBlocked ? \"Unblock User\" : \"Block User\"}\n                        </span>\n                    </button>\n                </div>\n            </div>\n\n            {/* Click outside to close */}\n            <div className=\"absolute inset-0 -z-10\" onClick={onClose} />\n        </div>\n    );\n}\n"],"names":["c","_c","X","Phone","Video","Lock","Ban","cn","ChatActionsProps","onClose","onVoiceCall","onVideoCall","onBlockUser","isBlocked","isGroup","ChatActions","t0","$","$i","Symbol","for","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","_ChatActionsDivOnClick","t25","t26","e","stopPropagation"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/group-info.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { X, UserPlus, Trash2, Shield, ShieldAlert, LogOut, Users } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\n\ninterface GroupInfoProps {\n    roomId: string;\n    onClose: () => void;\n    currentUserId: string;\n}\n\ninterface Participant extends Profile {\n    role: 'owner' | 'admin' | 'member';\n}\n\nexport function GroupInfo({ roomId, onClose, currentUserId }: GroupInfoProps) {\n    const [participants, setParticipants] = useState<Participant[]>([]);\n    const [roomName, setRoomName] = useState(\"\");\n    const [roomDescription, setRoomDescription] = useState(\"ELLARUM VANGA ALWAYS WELCOME YOU\");\n    const [isGroup, setIsGroup] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [showParticipants, setShowParticipants] = useState(false);\n\n    // For adding members\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchResults, setSearchResults] = useState<Profile[]>([]);\n    const [showAdd, setShowAdd] = useState(false);\n\n    const supabase = createClient();\n\n    useEffect(() => {\n        fetchDetails();\n    }, [roomId]);\n\n    const fetchDetails = async () => {\n        // Fetch Room\n        const { data: room } = await supabase.from('rooms').select('*').eq('id', roomId).single();\n        if (room) {\n            setRoomName(room.name || \"Chat\");\n            setIsGroup(room.is_group);\n        }\n\n        // Fetch Participants\n        const { data: parts } = await supabase\n            .from('room_participants')\n            .select(`role, profiles(*)`)\n            .eq('room_id', roomId);\n\n        if (parts) {\n            const mapped = parts.map((p: any) => ({\n                ...p.profiles,\n                role: p.role\n            }));\n            setParticipants(mapped);\n\n            const me = mapped.find((p: any) => p.id === currentUserId);\n            if (me && (me.role === 'owner' || me.role === 'admin')) setIsAdmin(true);\n        }\n        setLoading(false);\n    };\n\n    const handleUpdateName = async () => {\n        if (!roomName.trim()) return;\n        await supabase.from('rooms').update({ name: roomName }).eq('id', roomId);\n    };\n\n    const handleSearch = async () => {\n        if (!searchQuery) return;\n        const { data } = await supabase.from('profiles')\n            .select('*')\n            .ilike('username', `%${searchQuery}%`)\n            .limit(5);\n        if (data) setSearchResults(data);\n    };\n\n    const addMember = async (userId: string) => {\n        const { error } = await supabase.from('room_participants').insert({\n            room_id: roomId,\n            user_id: userId,\n            role: 'member'\n        });\n        if (!error) {\n            setShowAdd(false);\n            fetchDetails();\n        }\n    };\n\n    const removeMember = async (userId: string) => {\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', userId);\n        setParticipants(prev => prev.filter(p => p.id !== userId));\n    };\n\n    const promoteMember = async (userId: string) => {\n        await supabase.from('room_participants').update({ role: 'admin' }).eq('room_id', roomId).eq('user_id', userId);\n        fetchDetails();\n    };\n\n    const leaveGroup = async () => {\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', currentUserId);\n        onClose();\n        window.location.href = '/chat';\n    };\n\n    if (loading) return null;\n\n    if (showParticipants) {\n        return (\n            <div className=\"fixed inset-0 z-[100] flex items-end justify-center bg-black/40 backdrop-blur-sm\">\n                <div className=\"w-full max-w-2xl bg-[#0A0A0A] border-t border-x border-white/10 rounded-t-[32px] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300 max-h-[80vh] flex flex-col\">\n                    <div className=\"p-6 flex items-center justify-between border-b border-white/5\">\n                        <button onClick={() => setShowParticipants(false)} className=\"text-primary font-bold\">Back</button>\n                        <h2 className=\"text-xl font-bold tracking-tighter\">\n                            <span className=\"text-primary font-black\">GROUP</span>{\" \"}\n                            <span className=\"text-secondary font-black\">MEMBERS</span>\n                        </h2>\n                        <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-full transition-colors\">\n                            <X className=\"w-6 h-6 text-white\" />\n                        </button>\n                    </div>\n                    <div className=\"p-4 overflow-y-auto custom-scrollbar flex-1\">\n                        <div className=\"space-y-3\">\n                            {participants.map((p) => (\n                                <div key={p.id} className=\"flex items-center justify-between p-4 bg-white/5 rounded-2xl\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <Avatar src={p.avatar_url || undefined} fallback={p.username || \"?\"} className=\"w-10 h-10\" />\n                                        <div>\n                                            <p className=\"font-bold text-white\">{p.full_name || p.username}</p>\n                                            <p className=\"text-[10px] text-white/40 uppercase font-black\">{p.role}</p>\n                                        </div>\n                                    </div>\n                                    {isAdmin && currentUserId !== p.id && (\n                                        <div className=\"flex gap-2\">\n                                            <button onClick={() => removeMember(p.id)} className=\"text-red-500 text-xs font-bold\">REMOVE</button>\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"fixed inset-0 z-[100] flex items-end justify-center bg-black/40 backdrop-blur-sm p-0 sm:p-4\">\n            <div\n                className=\"w-full max-w-2xl bg-[#0A0A0A] border-t border-x border-white/10 rounded-t-[32px] sm:rounded-b-[32px] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300\"\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* Header matches Image 3 */}\n                <div className=\"p-6 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-bold tracking-tighter\">\n                        <span className=\"text-primary font-black\">GROUP</span>{\" \"}\n                        <span className=\"text-secondary font-black\">SETTINGS</span>\n                    </h2>\n                    <button onClick={onClose} className=\"p-1 px-[3px] border-2 border-primary rounded-md text-primary hover:bg-primary/10 transition-colors\">\n                        <X className=\"w-4 h-4 text-primary\" strokeWidth={4} />\n                    </button>\n                </div>\n\n                <div className=\"flex flex-col items-center p-6 pt-0 space-y-8\">\n                    {/* Centered Avatar */}\n                    <div className=\"flex flex-col items-center gap-2\">\n                        <Avatar src={participants[0]?.avatar_url} fallback={roomName[0]} className=\"w-[100px] h-[100px] rounded-full border-4 border-white/5\" />\n                        <span className=\"text-[11px] font-black text-white/40 uppercase tracking-widest\">Group Avatar</span>\n                    </div>\n\n                    {/* Inputs matches Image 3 */}\n                    <div className=\"w-full space-y-6 pb-12\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] ml-2\">Group Name</label>\n                            <div className=\"p-4 bg-[#0A0A0A] border border-white/10 rounded-2xl\">\n                                <input\n                                    value={roomName}\n                                    onChange={(e) => setRoomName(e.target.value)}\n                                    onBlur={handleUpdateName}\n                                    className=\"w-full bg-transparent border-none outline-none text-white font-bold\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] ml-2\">Description</label>\n                            <div className=\"p-4 bg-[#0A0A0A] border border-white/10 rounded-2xl min-h-[80px]\">\n                                <textarea\n                                    value={roomDescription}\n                                    onChange={(e) => setRoomDescription(e.target.value)}\n                                    className=\"w-full bg-transparent border-none outline-none text-white font-bold resize-none h-full\"\n                                />\n                            </div>\n                        </div>\n\n                        <button\n                            onClick={() => setShowParticipants(true)}\n                            className=\"w-full flex items-center gap-4 p-4 bg-[#0A0A0A] border border-white/10 rounded-2xl hover:bg-white/5 transition-all group\"\n                        >\n                            <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform\">\n                                <Users className=\"w-5 h-5\" />\n                            </div>\n                            <span className=\"text-white font-bold text-[15px]\">View Members</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            {/* Click outside to close */}\n            <div className=\"absolute inset-0 -z-10\" onClick={onClose} />\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","X","UserPlus","Trash2","Shield","ShieldAlert","LogOut","Users","Profile","cn","GroupInfoProps","roomId","onClose","currentUserId","Participant","role","GroupInfo","participants","setParticipants","roomName","setRoomName","roomDescription","setRoomDescription","isGroup","setIsGroup","loading","setLoading","isAdmin","setIsAdmin","showParticipants","setShowParticipants","searchQuery","setSearchQuery","searchResults","setSearchResults","showAdd","setShowAdd","supabase","fetchDetails","data","room","from","select","eq","single","name","is_group","parts","mapped","map","p","profiles","me","find","id","handleUpdateName","trim","update","handleSearch","ilike","limit","addMember","userId","error","insert","room_id","user_id","removeMember","delete","prev","filter","promoteMember","leaveGroup","window","location","href","avatar_url","undefined","username","full_name","e","stopPropagation","target","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/chat-window.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { ArrowLeft, Mic, Send, Paperclip, X, Image as ImageIcon, Check, CheckCheck, Trash2, Ban, Phone, Video, MoreVertical, Loader2, Square, Reply as ReplyIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { useCall } from \"@/contexts/call-context\";\nimport { Message, MessageType } from \"@/lib/types\";\nimport { ChatActions } from \"./chat-actions\";\nimport { GroupInfo } from \"./group-info\";\nimport { useParams, useRouter } from \"next/navigation\";\n\nexport default function ChatWindow({ roomId, user }: { roomId: string; user: any }) {\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [newMessage, setNewMessage] = useState(\"\");\n    const [room, setRoom] = useState<any>(null);\n    const [uploading, setUploading] = useState(false);\n    const [showActions, setShowActions] = useState(false);\n    const [showGroupInfo, setShowGroupInfo] = useState(false);\n    const [recording, setRecording] = useState(false);\n    const [audioBlob, setAudioBlob] = useState<Blob | null>(null);\n    const [replyingTo, setReplyingTo] = useState<Message | null>(null);\n    const [isBlocked, setIsBlocked] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [headerName, setHeaderName] = useState(\"Chat Room\");\n    const [headerAvatar, setHeaderAvatar] = useState<string | undefined>(undefined);\n    const [headerGender, setHeaderGender] = useState<string | undefined>(undefined);\n\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n    const chunksRef = useRef<Blob[]>([]);\n    const scrollRef = useRef<HTMLDivElement>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const supabase = createClient();\n    const router = useRouter();\n\n    const { startCall } = useCall();\n    const { addToast } = useToast();\n\n    useEffect(() => {\n        const fetchRoomAndMessages = async () => {\n            setLoading(true);\n            const { data: roomData } = await supabase\n                .from(\"rooms\")\n                .select(`*, room_participants(user_id, profiles(username, full_name, avatar_url, gender))`)\n                .eq(\"id\", roomId)\n                .single();\n\n            setRoom(roomData);\n\n            if (roomData) {\n                if (roomData.is_group === false && roomData.room_participants) {\n                    const other = roomData.room_participants.find((p: any) => p.user_id !== user.id);\n                    if (other && other.profiles) {\n                        const name = (other.profiles.full_name || other.profiles.username || \"Unknown User\").toUpperCase();\n                        setHeaderName(name);\n                        setHeaderAvatar(other.profiles.avatar_url);\n                        setHeaderGender(other.profiles.gender);\n\n                        const { data: blockData } = await supabase\n                            .from(\"blocked_users\")\n                            .select(\"*\")\n                            .eq(\"blocker_id\", user.id)\n                            .eq(\"blocked_id\", other.user_id)\n                            .maybeSingle();\n\n                        setIsBlocked(!!blockData);\n                    }\n                } else {\n                    setHeaderName(`${(roomData.name || \"Group Chat\").toUpperCase()}...ðŸ’–`);\n                }\n            }\n\n            const { data: msgData } = await supabase\n                .from(\"messages\")\n                .select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`)\n                .eq(\"room_id\", roomId)\n                .order(\"created_at\", { ascending: true });\n\n            if (msgData) setMessages(msgData as any);\n            setLoading(false);\n        };\n\n        fetchRoomAndMessages();\n\n        const channel = supabase\n            .channel(`room:${roomId}`)\n            .on(\"postgres_changes\", { event: \"INSERT\", schema: \"public\", table: \"messages\", filter: `room_id=eq.${roomId}` },\n                async (payload) => {\n                    const { data } = await supabase.from(\"messages\").select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`).eq(\"id\", payload.new.id).single();\n                    if (data) setMessages((prev) => [...prev, data as any]);\n                })\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(channel);\n        };\n    }, [roomId, user.id, supabase]);\n\n    useEffect(() => {\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n\n        const unreadIds = messages\n            .filter(m => m.user_id !== user.id && !m.read_at)\n            .map(m => m.id);\n\n        if (unreadIds.length > 0) {\n            supabase\n                .from(\"messages\")\n                .update({ read_at: new Date().toISOString() })\n                .in(\"id\", unreadIds)\n                .then(() => { });\n        }\n    }, [messages, user.id, supabase]);\n\n    const getNameColor = (gender?: string) => {\n        switch (gender?.toLowerCase()) {\n            case 'male': return '#00BFFF';\n            case 'female': return '#FFB6C1';\n            case 'other': return '#FFD700';\n            default: return '#FFF';\n        }\n    };\n\n    const handleSendMessage = async (e?: React.FormEvent, type: MessageType = 'text', mediaUrl?: string, meta?: any) => {\n        if (e) e.preventDefault();\n        if (isBlocked) return;\n\n        let content = type === 'text' ? newMessage : null;\n        if (type === 'text' && !content?.trim()) return;\n\n        if (!content && type !== 'text') {\n            if (type === 'image') content = 'ðŸ“· Image';\n            else if (type === 'video') content = 'ðŸ“¹ Video';\n            else if (type === 'audio') content = 'ðŸŽ¤ Voice Note';\n            else content = 'ðŸ“Ž Attachment';\n        }\n\n        const { error } = await supabase.from(\"messages\").insert({\n            room_id: roomId,\n            user_id: user.id,\n            content: content,\n            message_type: type,\n            media_url: mediaUrl,\n            media_meta: meta,\n            reply_to: replyingTo?.id,\n            status: 'sent',\n            is_deleted: false\n        });\n\n        if (!error) {\n            if (type === 'text') setNewMessage(\"\");\n            setReplyingTo(null);\n\n            // Update room updated_at\n            await supabase.from(\"rooms\").update({ updated_at: new Date().toISOString() }).eq(\"id\", roomId);\n        }\n    };\n\n    const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file || isBlocked) return;\n\n        setUploading(true);\n        const fileName = `${Date.now()}_${file.name}`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, file);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n\n        let type: MessageType = 'document';\n        if (file.type.startsWith('image/')) type = 'image';\n        else if (file.type.startsWith('video/')) type = 'video';\n        else if (file.type.startsWith('audio/')) type = 'audio';\n\n        await handleSendMessage(undefined, type, publicUrl, { size: file.size, name: file.name });\n        setUploading(false);\n    };\n\n    const handleDeleteMessage = async (messageId: string) => {\n        const { error } = await supabase\n            .from(\"messages\")\n            .update({ content: \"ðŸš« Message deleted\", is_deleted: true, media_url: null, media_meta: null })\n            .eq(\"id\", messageId);\n\n        if (error) addToast(\"Failed to delete message\", \"error\");\n    };\n\n    const startRecording = async () => {\n        if (isBlocked) return;\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            const mediaRecorder = new MediaRecorder(stream);\n            mediaRecorderRef.current = mediaRecorder;\n            chunksRef.current = [];\n\n            mediaRecorder.ondataavailable = (e) => {\n                if (e.data.size > 0) chunksRef.current.push(e.data);\n            };\n\n            mediaRecorder.onstop = () => {\n                const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n                setAudioBlob(blob);\n                stream.getTracks().forEach(track => track.stop());\n            };\n\n            mediaRecorder.start();\n            setRecording(true);\n        } catch (err) {\n            console.error(\"Error accessing microphone:\", err);\n            addToast(\"Could not access microphone\", \"error\");\n        }\n    };\n\n    const stopRecording = () => {\n        if (mediaRecorderRef.current && recording) {\n            mediaRecorderRef.current.stop();\n            setRecording(false);\n        }\n    };\n\n    const cancelRecording = () => {\n        stopRecording();\n        setAudioBlob(null);\n        chunksRef.current = [];\n    };\n\n    const sendVoiceNote = async () => {\n        if (!audioBlob || isBlocked) return;\n        setUploading(true);\n        const fileName = `${Date.now()}.webm`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, audioBlob);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n        await handleSendMessage(undefined, 'audio', publicUrl, { duration: 0 });\n        setAudioBlob(null);\n        setUploading(false);\n    };\n\n    const handleBlockUser = async () => {\n        if (!room || room.is_group) return;\n        const other = room.room_participants?.find((p: any) => p.user_id !== user?.id);\n        if (!other) return;\n\n        try {\n            if (isBlocked) {\n                await supabase.from(\"blocked_users\").delete().eq(\"blocker_id\", user?.id).eq(\"blocked_id\", other.user_id);\n                setIsBlocked(false);\n                addToast(\"User unblocked\", \"success\");\n            } else {\n                await supabase.from(\"blocked_users\").insert({ blocker_id: user?.id, blocked_id: other.user_id });\n                setIsBlocked(true);\n                addToast(\"User blocked\", \"error\");\n                router.push('/chat');\n            }\n        } catch (err: any) {\n            addToast(\"Action failed\", \"error\");\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex-1 flex flex-col items-center justify-center bg-black\">\n                <Loader2 className=\"w-10 h-10 text-primary animate-spin\" />\n                <p className=\"mt-4 text-white/50 font-bold tracking-widest uppercase text-[10px]\">Establishing Secure Line...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-full bg-black relative\">\n            {/* Background Glow */}\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] pointer-events-none\" />\n\n            {/* Chat Header */}\n            <div className=\"px-6 py-4 flex items-center justify-between bg-black/80 backdrop-blur-xl border-b border-white/5 z-20\">\n                <div className=\"flex items-center gap-4\">\n                    <button onClick={() => router.push('/chat')} className=\"p-2 -ml-2 hover:bg-white/5 rounded-xl text-white/30 hover:text-white transition-all\">\n                        <ArrowLeft className=\"w-6 h-6\" strokeWidth={3} />\n                    </button>\n                    <div className=\"relative\">\n                        <div className=\"w-11 h-11 rounded-2xl p-0.5 bg-gradient-to-br from-primary/30 to-secondary/30\">\n                            <Avatar src={headerAvatar} fallback={headerName[0] || \"?\"} className=\"w-full h-full rounded-[14px]\" />\n                        </div>\n                        <div className=\"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-online border-[3px] border-black rounded-full shadow-lg shadow-online/20\"></div>\n                    </div>\n                    <div>\n                        <h3 className=\"text-[17px] font-black tracking-tight\" style={{ color: getNameColor(headerGender) }}>{headerName}</h3>\n                        {room?.is_group ? (\n                            <p className=\"text-[11px] font-black text-online uppercase tracking-widest mt-0.5\">\n                                {room.room_participants?.length || 0} online â€¢ {room.room_participants?.length || 0} members\n                            </p>\n                        ) : (\n                            <p className=\"text-[11px] font-black text-online uppercase tracking-widest mt-0.5\">Online</p>\n                        )}\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-1\">\n                    <button\n                        onClick={() => {\n                            if (room?.is_group) setShowGroupInfo(true);\n                            else setShowActions(true);\n                        }}\n                        className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-white transition-all\"\n                    >\n                        <MoreVertical className=\"w-6 h-6\" strokeWidth={2.5} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Messages Area */}\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar relative z-10\" ref={scrollRef}>\n                <div className=\"flex justify-center mb-8\">\n                    <div className=\"px-4 py-1 rounded-full bg-white/5 border border-white/10\">\n                        <span className=\"text-[10px] font-black text-white/30 uppercase tracking-[0.2em]\">Today</span>\n                    </div>\n                </div>\n\n                {messages.map((msg, index) => {\n                    const isMe = msg.user_id === user.id;\n                    const prevMsg = messages[index - 1];\n                    const isSameUser = prevMsg?.user_id === msg.user_id;\n\n                    return (\n                        <div key={msg.id} className={cn(\"flex flex-col\", isMe ? \"items-end\" : \"items-start\")}>\n                            {!isMe && !isSameUser && (\n                                <span className=\"text-[10px] font-black text-white/20 mb-1.5 ml-14 uppercase tracking-wider\" style={{ color: getNameColor((msg.profiles as any)?.gender) }}>\n                                    {(msg.profiles as any)?.username}\n                                </span>\n                            )}\n                            <div className={cn(\"flex items-end gap-3 max-w-[85%]\", isMe && \"flex-row-reverse\")}>\n                                {!isMe && (\n                                    <div className=\"w-8 h-8 rounded-xl overflow-hidden ring-1 ring-white/10 flex-shrink-0\">\n                                        {!isSameUser ? (\n                                            <Avatar src={(msg.profiles as any)?.avatar_url || ''} fallback={(msg.profiles as any)?.username?.[0] || \"?\"} className=\"w-full h-full\" />\n                                        ) : <div className=\"w-full h-full\" />}\n                                    </div>\n                                )}\n\n                                <div className={cn(\n                                    \"px-4 py-2.5 relative group transition-all\",\n                                    isMe\n                                        ? \"bg-primary text-black rounded-[18px] rounded-br-[4px]\"\n                                        : \"bg-[#1A1A1A] text-white rounded-[18px] rounded-bl-[4px]\"\n                                )}>\n                                    {/* Action Buttons */}\n                                    <div className={cn(\n                                        \"absolute -top-8 px-2 py-1 bg-black/60 backdrop-blur-md rounded-xl border border-white/10 flex gap-2 opacity-0 group-hover:opacity-100 transition-all z-20\",\n                                        isMe ? \"right-0\" : \"left-0\"\n                                    )}>\n                                        <button\n                                            onClick={() => setReplyingTo(msg)}\n                                            className=\"text-white/60 hover:text-primary transition-colors\"\n                                        >\n                                            <ReplyIcon size={14} />\n                                        </button>\n                                        {isMe && !msg.is_deleted && (\n                                            <button\n                                                onClick={() => handleDeleteMessage(msg.id)}\n                                                className=\"text-white/60 hover:text-secondary transition-colors\"\n                                            >\n                                                <Trash2 size={14} />\n                                            </button>\n                                        )}\n                                    </div>\n\n                                    {msg.is_deleted ? (\n                                        <p className=\"italic text-[13px] opacity-40 font-medium tracking-tight\">ðŸš« Ghost message deleted</p>\n                                    ) : (\n                                        <>\n                                            {/* Replying To Preview */}\n                                            {msg.reply_item && (\n                                                <div className={cn(\n                                                    \"mb-2 p-2 rounded-xl flex flex-col gap-0.5 border-l-4\",\n                                                    isMe ? \"bg-black/5 border-black/20\" : \"bg-white/5 border-primary/40\"\n                                                )}>\n                                                    <span className={cn(\"text-[9px] font-black uppercase tracking-widest\", isMe ? \"text-black/50\" : \"text-primary/70\")}>\n                                                        {msg.reply_item.profiles?.username || 'GOSSIPER'}\n                                                    </span>\n                                                    <p className={cn(\"text-[11px] font-bold truncate italic opacity-60\", isMe ? \"text-black\" : \"text-white\")}>\n                                                        {msg.reply_item.message_type === 'text' ? msg.reply_item.content : `[MEDIA ${msg.reply_item.message_type.toUpperCase()}]`}\n                                                    </p>\n                                                </div>\n                                            )}\n\n                                            {msg.message_type === 'text' && <p className=\"text-[15px] font-medium leading-relaxed tracking-tight\">{msg.content}</p>}\n                                            {msg.message_type === 'image' && (\n                                                <div className=\"rounded-2xl overflow-hidden my-1 border border-white/10\">\n                                                    <img src={msg.media_url || ''} alt=\"\" className=\"max-w-full max-h-[400px] w-auto h-auto object-cover\" />\n                                                </div>\n                                            )}\n                                        </>\n                                    )}\n\n                                    <div className={cn(\"flex items-center gap-1.5 mt-1.5\", isMe ? \"justify-end\" : \"justify-start\")}>\n                                        <span className={cn(\"text-[10px] font-black uppercase tracking-widest\", isMe ? \"text-black/40\" : \"text-white/20\")}>\n                                            {new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                        {isMe && (\n                                            msg.read_at\n                                                ? <CheckCheck size={12} className=\"text-black/60\" />\n                                                : <Check size={12} className=\"text-black/40\" />\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n                {uploading && (\n                    <div className=\"flex justify-end pr-4\">\n                        <div className=\"bg-primary/20 p-2 rounded-xl flex items-center gap-2 border border-primary/20\">\n                            <Loader2 className=\"w-4 h-4 animate-spin text-primary\" />\n                            <span className=\"text-[11px] font-black text-primary uppercase tracking-widest\">Transmitting...</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Input Area matches Image 2 */}\n            <form onSubmit={(e) => handleSendMessage(e, 'text')} className=\"p-4 bg-black\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-1 flex items-center bg-[#1A1A1A] rounded-[28px] px-4 py-1 border border-white/5\">\n                        <button type=\"button\" className=\"p-2 text-white/40 hover:text-white\">\n                            <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                <circle cx=\"12\" cy=\"12\" r=\"10\" />\n                                <path d=\"M8 14s1.5 2 4 2 4-2 4-2\" />\n                                <line x1=\"9\" y1=\"9\" x2=\"9.01\" y2=\"9\" />\n                                <line x1=\"15\" y1=\"9\" x2=\"15.01\" y2=\"9\" />\n                            </svg>\n                        </button>\n                        <input\n                            value={newMessage}\n                            onChange={(e) => setNewMessage(e.target.value)}\n                            placeholder=\"Message...\"\n                            className=\"flex-1 bg-transparent border-none outline-none px-2 text-[15px] text-white placeholder:text-white/20 h-11\"\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => fileInputRef.current?.click()}\n                            className=\"p-2 text-white/40 hover:text-white\"\n                        >\n                            <Paperclip className=\"w-5 h-5\" />\n                        </button>\n                    </div>\n\n                    <button\n                        type={newMessage.trim() ? \"submit\" : \"button\"}\n                        onClick={!newMessage.trim() ? (recording ? stopRecording : startRecording) : undefined}\n                        className={cn(\n                            \"w-12 h-12 rounded-full flex items-center justify-center transition-all\",\n                            newMessage.trim() ? \"bg-primary text-black\" : \"bg-[#1A1A1A] text-white/60\"\n                        )}\n                    >\n                        {newMessage.trim() ? (\n                            <Send className=\"w-5 h-5 ml-0.5\" />\n                        ) : (\n                            <Mic className={cn(\"w-5 h-5\", recording && \"text-red-500 animate-pulse\")} />\n                        )}\n                    </button>\n                </div>\n            </form>\n            {showGroupInfo && <GroupInfo roomId={roomId} onClose={() => setShowGroupInfo(false)} currentUserId={user.id} />}\n            {showActions && (\n                <ChatActions\n                    onClose={() => setShowActions(false)}\n                    onVoiceCall={() => {\n                        setShowActions(false);\n                        startCall(roomId, false);\n                    }}\n                    onVideoCall={() => {\n                        setShowActions(false);\n                        startCall(roomId, true);\n                    }}\n                    onBlockUser={() => {\n                        setShowActions(false);\n                        handleBlockUser();\n                    }}\n                    isBlocked={isBlocked}\n                    isGroup={false}\n                />\n            )}\n        </div>\n    );\n}\n"],"names":["useEffect","useState","useRef","createClient","Avatar","ArrowLeft","Mic","Send","Paperclip","X","Image","ImageIcon","Check","CheckCheck","Trash2","Ban","Phone","Video","MoreVertical","Loader2","Square","Reply","ReplyIcon","cn","useToast","useCall","Message","MessageType","ChatActions","GroupInfo","useParams","useRouter","ChatWindow","roomId","user","messages","setMessages","newMessage","setNewMessage","room","setRoom","uploading","setUploading","showActions","setShowActions","showGroupInfo","setShowGroupInfo","recording","setRecording","audioBlob","setAudioBlob","Blob","replyingTo","setReplyingTo","isBlocked","setIsBlocked","loading","setLoading","headerName","setHeaderName","headerAvatar","setHeaderAvatar","undefined","headerGender","setHeaderGender","mediaRecorderRef","MediaRecorder","chunksRef","scrollRef","HTMLDivElement","fileInputRef","HTMLInputElement","supabase","router","startCall","addToast","fetchRoomAndMessages","data","roomData","from","select","eq","single","is_group","room_participants","other","find","p","user_id","id","profiles","name","full_name","username","toUpperCase","avatar_url","gender","blockData","maybeSingle","msgData","order","ascending","channel","on","event","schema","table","filter","payload","new","prev","subscribe","removeChannel","current","scrollTop","scrollHeight","unreadIds","m","read_at","map","length","update","Date","toISOString","in","then","getNameColor","toLowerCase","handleSendMessage","e","React","FormEvent","type","mediaUrl","meta","preventDefault","content","trim","error","insert","room_id","message_type","media_url","media_meta","reply_to","status","is_deleted","updated_at","handleFileUpload","ChangeEvent","file","target","files","fileName","now","filePath","uploadError","storage","upload","message","publicUrl","getPublicUrl","startsWith","size","handleDeleteMessage","messageId","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","ondataavailable","push","onstop","blob","getTracks","forEach","track","stop","start","err","console","stopRecording","cancelRecording","sendVoiceNote","duration","handleBlockUser","delete","blocker_id","blocked_id","color","msg","index","isMe","prevMsg","isSameUser","reply_item","created_at","toLocaleTimeString","hour","minute","value","click"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1828, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/user-search.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Search, UserPlus, Check, X } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\n\ninterface UserSearchProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function UserSearch({ onClose, currentUserId }: UserSearchProps) {\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState<Profile[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [requested, setRequested] = useState<Set<string>>(new Set());\n    const supabase = createClient();\n    const { addToast } = useToast();\n\n    const handleSearch = async () => {\n        if (!query.trim()) return;\n        setLoading(true);\n\n        // Simple search by username or full_name\n        const { data, error } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .or(`username.ilike.%${query}%,full_name.ilike.%${query}%`)\n            .neq(\"id\", currentUserId)\n            .limit(10);\n\n        if (data) {\n            // Filter out already connected users? For now showing all.\n            setResults(data);\n        }\n        setLoading(false);\n    };\n\n    const sendRequest = async (targetId: string) => {\n        // Optimistic update\n        setRequested((prev) => new Set(prev).add(targetId));\n\n        // 1. Check if a connection tuple already exists (in either direction)\n        const { data: existing, error: fetchError } = await supabase\n            .from(\"connections\")\n            .select(\"*\")\n            .or(`and(requester_id.eq.${currentUserId},addressee_id.eq.${targetId}),and(requester_id.eq.${targetId},addressee_id.eq.${currentUserId})`)\n            .maybeSingle();\n\n        if (fetchError) {\n            console.error(\"Error checking connection:\", fetchError);\n            return;\n        }\n\n        let error = null;\n\n        if (existing) {\n            // 2. If exists, handle based on status\n            if (existing.status === 'rejected') {\n                // Re-activate as a new request from me\n                const { error: updateError } = await supabase\n                    .from(\"connections\")\n                    .update({ status: 'pending', requester_id: currentUserId, addressee_id: targetId })\n                    .eq(\"id\", existing.id);\n                error = updateError;\n            } else {\n                // 'pending' or 'accepted' - Do nothing to prevent duplicate key error\n                // The UI already shows a checkmark optimistically\n                console.log(\"Connection already exists or is pending.\");\n            }\n        } else {\n            // 3. New Record\n            const { error: insertError } = await supabase\n                .from(\"connections\")\n                .insert({ requester_id: currentUserId, addressee_id: targetId });\n            error = insertError;\n        }\n\n        if (error) {\n            console.error(\"Failed to send request\", error);\n            // Revert on error\n            setRequested((prev) => {\n                const next = new Set(prev);\n                next.delete(targetId);\n                return next;\n            });\n            addToast(\"Failed to send request: \" + error.message, \"error\");\n        } else {\n            addToast(\"Request sent!\", \"success\");\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white\">Find People</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-4\">\n                    <div className=\"flex gap-2\">\n                        <div className=\"relative flex-1\">\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50\" />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Search by username...\"\n                                className=\"w-full bg-white/5 border border-white/10 rounded-xl py-2 pl-9 pr-4 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all\"\n                                value={query}\n                                onChange={(e) => setQuery(e.target.value)}\n                                onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n                            />\n                        </div>\n                        <button\n                            onClick={handleSearch}\n                            disabled={loading}\n                            className=\"px-4 py-2 bg-primary text-primary-foreground font-medium rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50\"\n                        >\n                            {loading ? \"...\" : \"Search\"}\n                        </button>\n                    </div>\n\n                    <div className=\"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar\">\n                        {results.length === 0 && !loading && query && (\n                            <p className=\"text-center text-white/30 py-4\">No users found.</p>\n                        )}\n\n                        {results.map((user) => (\n                            <div key={user.id} className=\"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/5 transition-all\">\n                                <Avatar src={user.avatar_url || undefined} fallback={user.username || user.full_name || \"?\"} />\n                                <div className=\"flex-1 overflow-hidden\">\n                                    <p className=\"font-semibold text-white truncate\">{user.full_name || user.username || \"Unknown\"}</p>\n                                    <p className=\"text-xs text-white/50 truncate\">@{user.username}</p>\n                                </div>\n                                <button\n                                    onClick={() => sendRequest(user.id)}\n                                    disabled={requested.has(user.id)}\n                                    className={cn(\n                                        \"p-2 rounded-full transition-all\",\n                                        requested.has(user.id) ? \"bg-green-500/20 text-green-400\" : \"bg-primary/10 text-primary hover:bg-primary/20\"\n                                    )}\n                                >\n                                    {requested.has(user.id) ? <Check className=\"w-4 h-4\" /> : <UserPlus className=\"w-4 h-4\" />}\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useState","createClient","Avatar","Search","UserPlus","Check","X","Profile","cn","useToast","UserSearchProps","onClose","currentUserId","UserSearch","t0","$","$i","Symbol","for","query","setQuery","t1","results","setResults","loading","setLoading","t2","Set","requested","setRequested","supabase","addToast","handleSearch","UserSearch[handleSearch]","trim","data","from","select","or","neq","limit","sendRequest","targetId","prev","add","existing","error","fetchError","maybeSingle","console","error_0","status","updateError","update","requester_id","addressee_id","eq","id","log","insertError","insert","prev_0","next","delete","message","t3","t4","t5","t6","t7","e","target","value","t8","t9","t10","t11","length","t12","map","user","avatar_url","undefined","username","full_name","UserSearch[results.map() > <button>.onClick]","has","t13","e_0","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2220, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/connection-requests.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Check, X, UserCheck, MessageCircle } from \"lucide-react\";\nimport { Connection } from \"@/lib/types\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ConnectionRequestsProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function ConnectionRequests({ onClose, currentUserId }: ConnectionRequestsProps) {\n    const [requests, setRequests] = useState<Connection[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n    const router = useRouter();\n\n    useEffect(() => {\n        fetchRequests();\n    }, []);\n\n    const fetchRequests = async () => {\n        const { data, error } = await supabase\n            .from(\"connections\")\n            .select(\"*, requester:profiles!requester_id(*)\")\n            .eq(\"addressee_id\", currentUserId)\n            .eq(\"status\", \"pending\");\n\n        if (data) {\n            setRequests(data as any); // Cast because Supabase joined types are tricky\n        }\n        setLoading(false);\n    };\n\n    const handleResponse = async (id: string, status: 'accepted' | 'rejected') => {\n        const { error } = await supabase\n            .from(\"connections\")\n            .update({ status })\n            .eq(\"id\", id);\n\n        if (!error) {\n            setRequests((prev) => prev.filter(req => req.id !== id));\n            if (status === 'accepted') {\n                // Find and get request details to get the other user ID\n                const req = requests.find(r => r.id === id);\n                if (req) {\n                    await getOrCreateDm(req.requester_id);\n                }\n            }\n        }\n    };\n\n    const getOrCreateDm = async (otherUserId: string) => {\n        setLoading(true);\n        // 1. Check if a DM room already exists\n        // This is a bit complex in Supabase SQL without a function, but we can try a simple creating approach\n        // or just create a new one for now and rely on unique constraints if we had them (we might not).\n        // Better approach: Create a new room with is_group=false. \n        // Real-world app would query room_participants to find common room.\n\n        // Let's create a new DM room for simplicity and reliability in this session\n        const { data: roomData, error: roomError } = await supabase\n            .from(\"rooms\")\n            .insert({ is_group: false, name: \"Direct Message\" }) // Name is often ignored for DMs in UI\n            .select()\n            .single();\n\n        if (roomData) {\n            // Add participants\n            await supabase.from(\"room_participants\").insert([\n                { room_id: roomData.id, user_id: currentUserId },\n                { room_id: roomData.id, user_id: otherUserId }\n            ]);\n\n            onClose();\n            router.push(`/chat?roomId=${roomData.id}`);\n        } else {\n            console.error(\"Failed to create room\", roomError);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                        <UserCheck className=\"w-5 h-5 text-primary\" />\n                        Connection Requests\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar\">\n                    {loading && <p className=\"text-center text-white/30 py-4\">Loading...</p>}\n                    {!loading && requests.length === 0 && (\n                        <div className=\"text-center text-white/30 py-8 flex flex-col items-center gap-2\">\n                            <UserCheck className=\"w-10 h-10 opacity-20\" />\n                            <p>No pending requests.</p>\n                        </div>\n                    )}\n\n                    {requests.map((req) => (\n                        <div key={req.id} className=\"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/5\">\n                            <Avatar\n                                src={req.requester?.avatar_url || undefined}\n                                fallback={req.requester?.username || \"?\"}\n                            />\n                            <div className=\"flex-1 overflow-hidden\">\n                                <p className=\"font-semibold text-white truncate\">\n                                    {req.requester?.full_name || req.requester?.username || \"Unknown User\"}\n                                </p>\n                                <p className=\"text-xs text-white/50 truncate\">\n                                    wants to connect\n                                </p>\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                                <button\n                                    onClick={() => handleResponse(req.id, 'accepted')}\n                                    className=\"p-2 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded-full transition-colors\"\n                                    title=\"Accept\"\n                                >\n                                    <Check className=\"w-4 h-4\" />\n                                </button>\n                                <button\n                                    onClick={() => handleResponse(req.id, 'rejected')}\n                                    className=\"p-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-full transition-colors\"\n                                    title=\"Reject\"\n                                >\n                                    <X className=\"w-4 h-4\" />\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","Check","X","UserCheck","MessageCircle","Connection","useRouter","ConnectionRequestsProps","onClose","currentUserId","ConnectionRequests","requests","setRequests","loading","setLoading","supabase","router","fetchRequests","data","error","from","select","eq","handleResponse","id","status","update","prev","filter","req","find","r","getOrCreateDm","requester_id","otherUserId","roomData","roomError","insert","is_group","name","single","room_id","user_id","push","console","length","map","requester","avatar_url","undefined","username","full_name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2501, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/services/profile-service.ts"],"sourcesContent":["import { safeSupabaseOperation } from '@/lib/supabase/client';\n\nexport interface Profile {\n    id: string;\n    username: string;\n    full_name: string;\n    avatar_url: string;\n    is_online: boolean;\n    last_seen: string;\n    age?: number;\n    phone?: string;\n    bio?: string;\n    gender?: string;\n}\n\nexport interface UpdateProfileData {\n    username?: string;\n    full_name?: string;\n    avatar_url?: string;\n    age?: number;\n    phone?: string;\n    bio?: string;\n    gender?: string;\n}\n\nexport const ProfileService = {\n    async getProfile(userId: string): Promise<{ data: Profile | null; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { data, error } = await client\n                .from('profiles')\n                .select('*')\n                .eq('id', userId)\n                .single();\n            if (error) return { data: null, error: error.message };\n            return { data: data as Profile, error: null };\n        });\n    },\n\n    async updateProfile(userId: string, updates: UpdateProfileData): Promise<{ error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { error } = await client\n                .from('profiles')\n                .update(updates)\n                .eq('id', userId);\n            return { error: error?.message || null };\n        });\n    },\n\n    async searchProfiles(query: string): Promise<{ data: Profile[]; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { data, error } = await client\n                .from('profiles')\n                .select('*')\n                .or(`username.ilike.%${query}%,full_name.ilike.%${query}%`)\n                .limit(20);\n            if (error) return { data: [], error: error.message };\n            return { data: data as Profile[], error: null };\n        });\n    },\n\n    async uploadAvatar(userId: string, file: File): Promise<{ data: string | null; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            try {\n                console.log('[ProfileService] Starting upload for file:', file.name);\n\n                const fileExt = file.name.split('.').pop() || 'jpg';\n                const fileName = `${userId}_${Date.now()}.${fileExt}`;\n                const filePath = `avatars/${fileName}`;\n\n                const { error: uploadError } = await client.storage\n                    .from('gossip-avatars')\n                    .upload(filePath, file, {\n                        contentType: file.type,\n                        upsert: false\n                    });\n\n                if (uploadError) {\n                    console.error('[ProfileService] Upload error:', uploadError);\n                    throw uploadError;\n                }\n\n                const { data } = client.storage\n                    .from('gossip-avatars')\n                    .getPublicUrl(filePath);\n\n                console.log('[ProfileService] Upload successful, URL:', data.publicUrl);\n                return { data: data.publicUrl, error: null };\n            } catch (err: any) {\n                console.error('[ProfileService] Upload failed:', err);\n                return { data: null, error: err.message };\n            }\n        });\n    },\n\n    async updatePushToken(userId: string, token: string): Promise<{ error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { error } = await client\n                .from('profiles')\n                .update({ push_token: token })\n                .eq('id', userId);\n\n            if (error) console.error('[ProfileService] Update Token Error:', error);\n\n            return { error: error?.message || null };\n        });\n    }\n};\n"],"names":[],"mappings":";;;;AAAA;;AAyBO,MAAM,iBAAiB;IAC1B,MAAM,YAAW,MAAc;QAC3B,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OACzB,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QACT,MAAM;YACX,IAAI,OAAO,OAAO;gBAAE,MAAM;gBAAM,OAAO,MAAM,OAAO;YAAC;YACrD,OAAO;gBAAE,MAAM;gBAAiB,OAAO;YAAK;QAChD;IACJ;IAEA,MAAM,eAAc,MAAc,EAAE,OAA0B;QAC1D,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OACnB,IAAI,CAAC,YACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM;YACd,OAAO;gBAAE,OAAO,OAAO,WAAW;YAAK;QAC3C;IACJ;IAEA,MAAM,gBAAe,KAAa;QAC9B,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OACzB,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,CAAC,gBAAgB,EAAE,MAAM,mBAAmB,EAAE,MAAM,CAAC,CAAC,EACzD,KAAK,CAAC;YACX,IAAI,OAAO,OAAO;gBAAE,MAAM,EAAE;gBAAE,OAAO,MAAM,OAAO;YAAC;YACnD,OAAO;gBAAE,MAAM;gBAAmB,OAAO;YAAK;QAClD;IACJ;IAEA,MAAM,cAAa,MAAc,EAAE,IAAU;QACzC,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,IAAI;gBACA,QAAQ,GAAG,CAAC,8CAA8C,KAAK,IAAI;gBAEnE,MAAM,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM;gBAC9C,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,SAAS;gBACrD,MAAM,WAAW,CAAC,QAAQ,EAAE,UAAU;gBAEtC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,OAAO,OAAO,CAC9C,IAAI,CAAC,kBACL,MAAM,CAAC,UAAU,MAAM;oBACpB,aAAa,KAAK,IAAI;oBACtB,QAAQ;gBACZ;gBAEJ,IAAI,aAAa;oBACb,QAAQ,KAAK,CAAC,kCAAkC;oBAChD,MAAM;gBACV;gBAEA,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,OAAO,CAC1B,IAAI,CAAC,kBACL,YAAY,CAAC;gBAElB,QAAQ,GAAG,CAAC,4CAA4C,KAAK,SAAS;gBACtE,OAAO;oBAAE,MAAM,KAAK,SAAS;oBAAE,OAAO;gBAAK;YAC/C,EAAE,OAAO,KAAU;gBACf,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,OAAO;oBAAE,MAAM;oBAAM,OAAO,IAAI,OAAO;gBAAC;YAC5C;QACJ;IACJ;IAEA,MAAM,iBAAgB,MAAc,EAAE,KAAa;QAC/C,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OACnB,IAAI,CAAC,YACL,MAAM,CAAC;gBAAE,YAAY;YAAM,GAC3B,EAAE,CAAC,MAAM;YAEd,IAAI,OAAO,QAAQ,KAAK,CAAC,wCAAwC;YAEjE,OAAO;gBAAE,OAAO,OAAO,WAAW;YAAK;QAC3C;IACJ;AACJ"}},
    {"offset": {"line": 2591, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/ui/gradient-text.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface GradientTextProps {\n    text: string;\n    className?: string;\n    colors?: [string, string];\n}\n\nexport function GradientText({ text, className, colors = ['#00BFFF', '#FFB6C1'] }: GradientTextProps) {\n    return (\n        <span\n            className={cn(\"bg-clip-text text-transparent\", className)}\n            style={{\n                backgroundImage: `linear-gradient(to right, ${colors[0]}, ${colors[1]})`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent'\n            }}\n        >\n            {text}\n        </span>\n    );\n}\n"],"names":["c","_c","React","cn","GradientTextProps","text","className","colors","GradientText","t0","$","$i","Symbol","for","t1","t2","undefined","t3","t4","t5","backgroundImage","WebkitBackgroundClip","WebkitTextFillColor","t6"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAGb,SAASE,EAAE,QAAQ,aAAa;AAHhC,YAAY;;;;AAWL,sBAAAM,EAAA;IAAA,MAAAC,CAAA,OAAAT,qMAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAsB,MAAA,EAAAL,IAAA,EAAAC,SAAA,EAAAC,MAAA,EAAAO,EAAAA,EAAA,GAAAL,EAAuE;IAAA,IAAAM,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAI,EAAA,EAAA;QAApDC,EAAA,GAAAD,EAA+B,KAA/BE,SAA+B,GAA/B;YAAU,SAAS;YAAE,SAAS;SAAC,GAA/BF,EAA+B;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAA/B,MAAAH,MAAA,GAAAQ,EAA+B;IAAA,IAAAE,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAJ,SAAA,EAAA;QAGxDW,EAAA,OAAAd,iJAAE,EAAC,+BAA+B,EAAEG,SAAS,CAAC;QAAAI,CAAA,CAAA,EAAA,GAAAJ,SAAA;QAAAI,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAEpC,MAAAQ,EAAA,GAAA,CAAA,0BAAA,EAA6BX,MAAM,CAAA,EAAG,CAAA,EAAA,EAAKA,MAAM,CAAA,EAAG,CAAA,CAAA,CAAG;IAAA,IAAAY,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAQ,EAAA,EAAA;QADrEC,EAAA,GAAA;YAAAC,eAAA,EACcF,EAAuD;YAAAG,oBAAA,EAClD,MAAM;YAAAC,mBAAA,EACP;QACzB,CAAC;QAAAZ,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,EAAA,KAAAS,EAAA,IAAAT,CAAA,CAAA,EAAA,KAAAL,IAAA,EAAA;QANLkB,EAAA,iBAAA,kNAAA,IASO;YARQ,SAA8C,CAA9C,CAAAN,EAA6C,CAAC;YAClD,KAIN,CAJM,CAAAE,EAIP,CAAC,CAEAd;sBAAAA,IAAG,CACR,EATA,IASO;;;;;;QAAAK,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAL,IAAA;QAAAK,CAAA,CAAA,GAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,GAAA;IAAA;IAAA,OATPa,EASO;AAAA;KAXRf","ignoreList":[]}},
    {"offset": {"line": 2674, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/settings-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { X, Shield, Eye, UserX, Loader2, Unlock, Camera, Edit3, Save, Languages, Bell, LogOut, ChevronRight } from \"lucide-react\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { ProfileService, Profile } from \"@/services/profile-service\";\nimport { GradientText } from \"@/components/ui/gradient-text\";\n\nconst translations: Record<string, Record<string, string>> = {\n    'English': {\n        profile: 'Profile',\n        personalInfo: 'PERSONAL INFO',\n        settings: 'SETTINGS',\n        notifications: 'Notifications',\n        language: 'Language',\n        logout: 'Logout',\n        fullName: 'Full Name',\n        username: 'Username',\n        age: 'Age',\n        phone: 'Phone',\n        bio: 'Bio',\n        edit: 'Edit',\n        save: 'Save Changes',\n        cancel: 'Cancel',\n        gender: 'Gender',\n        male: 'Male',\n        female: 'Female',\n        other: 'Other'\n    },\n    'Tamil': {\n        profile: 'à®šà¯à®¯à®µà®¿à®µà®°à®®à¯',\n        personalInfo: 'à®¤à®©à®¿à®ªà¯à®ªà®Ÿà¯à®Ÿ à®¤à®•à®µà®²à¯',\n        settings: 'à®…à®®à¯ˆà®ªà¯à®ªà¯à®•à®³à¯',\n        notifications: 'à®…à®±à®¿à®µà®¿à®ªà¯à®ªà¯à®•à®³à¯',\n        language: 'à®®à¯Šà®´à®¿',\n        logout: 'à®µà¯†à®³à®¿à®¯à¯‡à®±à¯',\n        fullName: 'à®®à¯à®´à¯ à®ªà¯†à®¯à®°à¯',\n        username: 'à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯',\n        age: 'à®µà®¯à®¤à¯',\n        phone: 'à®¤à¯Šà®²à¯ˆà®ªà¯‡à®šà®¿',\n        bio: 'à®šà¯à®¯à®šà®°à®¿à®¤à¯ˆ',\n        edit: 'à®¤à¯Šà®•à¯',\n        save: 'à®®à®¾à®±à¯à®±à®™à¯à®•à®³à¯ˆ à®šà¯‡à®®à®¿',\n        cancel: 'à®°à®¤à¯à®¤à¯à®šà¯†à®¯à¯',\n        gender: 'à®ªà®¾à®²à®¿à®©à®®à¯',\n        male: 'à®†à®£à¯',\n        female: 'à®ªà¯†à®£à¯',\n        other: 'à®®à®±à¯à®±à®µà¯ˆ'\n    }\n};\n\nexport function SettingsModal({ onClose, user }: { onClose: () => void; user: any }) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [language, setLanguage] = useState('English');\n    const [profile, setProfile] = useState<Profile | null>(null);\n    const [blockedUsers, setBlockedUsers] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n    const [activeTab, setActiveTab] = useState<'info' | 'settings' | 'blocked'>('info');\n\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const supabase = createClient();\n    const { addToast } = useToast();\n    const { logout } = useAuth();\n    const t = translations[language];\n\n    const [form, setForm] = useState({\n        full_name: '',\n        username: '',\n        age: '',\n        phone: '',\n        bio: '',\n        gender: ''\n    });\n\n    useEffect(() => {\n        const fetchData = async () => {\n            setLoading(true);\n            const { data: prof } = await ProfileService.getProfile(user.id);\n            if (prof) {\n                setProfile(prof);\n                setForm({\n                    full_name: prof.full_name || '',\n                    username: prof.username || '',\n                    age: prof.age?.toString() || '',\n                    phone: prof.phone || '',\n                    bio: prof.bio || '',\n                    gender: prof.gender || ''\n                });\n            }\n\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(`*, blocked:profiles!blocked_id(*)`)\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) setBlockedUsers(blocks);\n            setLoading(false);\n        };\n\n        fetchData();\n    }, [user.id, supabase]);\n\n    const handleSave = async () => {\n        setSaving(true);\n        const { error } = await ProfileService.updateProfile(user.id, {\n            ...form,\n            age: parseInt(form.age) || undefined\n        });\n\n        if (!error) {\n            addToast(\"Profile updated\", \"success\");\n            setIsEditing(false);\n            setProfile(prev => prev ? { ...prev, ...form, age: parseInt(form.age) || undefined } : null);\n        } else {\n            addToast(error, \"error\");\n        }\n        setSaving(false);\n    };\n\n    const handleAvatarClick = () => {\n        fileInputRef.current?.click();\n    };\n\n    const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        setSaving(true);\n        const { data: url, error } = await ProfileService.uploadAvatar(user.id, file);\n        if (url) {\n            await ProfileService.updateProfile(user.id, { avatar_url: url });\n            setProfile(prev => prev ? { ...prev, avatar_url: url } : null);\n            addToast(\"Avatar updated\", \"success\");\n        } else if (error) {\n            addToast(error, \"error\");\n        }\n        setSaving(false);\n    };\n\n    const handleUnblock = async (blockId: string) => {\n        const { error } = await supabase.from(\"blocked_users\").delete().eq(\"id\", blockId);\n        if (!error) {\n            setBlockedUsers(prev => prev.filter(b => b.id !== blockId));\n            addToast(\"User unblocked\", \"success\");\n        }\n    };\n\n    const getGlowColor = () => {\n        switch (form.gender?.toLowerCase()) {\n            case 'male': return 'from-[#00BFFF] to-transparent';\n            case 'female': return 'from-[#FFB6C1] to-transparent';\n            case 'other': return 'from-[#FFD700] to-transparent';\n            default: return 'from-primary/20 to-transparent';\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-black border border-white/10 w-full max-w-2xl rounded-[40px] shadow-2xl overflow-hidden relative flex flex-col max-h-[90vh]\">\n                {/* Background Decor */}\n                <div className={`absolute top-0 left-0 right-0 h-64 bg-gradient-to-b ${getGlowColor()} opacity-20 pointer-events-none transition-all duration-500`} />\n\n                {/* Header */}\n                <div className=\"p-8 pb-4 flex items-center justify-between relative z-10\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-3 rounded-2xl bg-white/5 border border-white/10\">\n                            <Shield className=\"w-6 h-6 text-primary\" />\n                        </div>\n                        <h2 className=\"text-2xl font-black text-white italic uppercase tracking-tight\">\n                            Identity <span className=\"text-primary\">&</span> Settings\n                        </h2>\n                    </div>\n                    <button onClick={onClose} className=\"p-3 bg-white/5 hover:bg-white/10 rounded-2xl text-white/40 hover:text-white transition-all shadow-lg\">\n                        <X className=\"w-6 h-6\" />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-8 pt-0 relative z-10\">\n                    <div className=\"flex flex-col md:flex-row gap-8\">\n                        {/* Left Sidebar */}\n                        <div className=\"flex flex-col gap-4 md:w-48\">\n                            <button\n                                onClick={() => setActiveTab('info')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'info' ? 'bg-primary/10 border-primary/20 text-primary shadow-lg shadow-primary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <Edit3 className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Profile</span>\n                            </button>\n                            <button\n                                onClick={() => setActiveTab('settings')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'settings' ? 'bg-primary/10 border-primary/20 text-primary shadow-lg shadow-primary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <Languages className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Options</span>\n                            </button>\n                            <button\n                                onClick={() => setActiveTab('blocked')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'blocked' ? 'bg-secondary/10 border-secondary/20 text-secondary shadow-lg shadow-secondary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <UserX className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Ghosts</span>\n                            </button>\n\n                            <div className=\"mt-auto pt-8\">\n                                <button onClick={logout} className=\"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-secondary opacity-80 hover:opacity-100 transition-all text-black font-black uppercase text-[10px] tracking-widest shadow-lg shadow-secondary/10\">\n                                    <LogOut className=\"w-4 h-4\" />\n                                    {t.logout}\n                                </button>\n                                <p className=\"text-center text-[9px] font-black text-white/20 mt-4 tracking-[0.3em] uppercase\">GOSSIP v1.2.0 â€¢ Web</p>\n                            </div>\n                        </div>\n\n                        {/* Right Content */}\n                        <div className=\"flex-1\">\n                            {activeTab === 'info' && (\n                                <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    {/* Avatar/Header Item */}\n                                    <div className=\"flex flex-col items-center gap-6\">\n                                        <div className=\"relative group\">\n                                            <div className=\"w-32 h-32 rounded-[40px] p-1 bg-gradient-to-br from-primary via-white/10 to-secondary shadow-2xl relative overflow-hidden\">\n                                                <div className={`absolute inset-0 bg-gradient-to-br ${getGlowColor()} opacity-40 blur-xl group-hover:opacity-60 transition-opacity`} />\n                                                <Avatar src={profile?.avatar_url || user.user_metadata?.avatar_url} fallback={profile?.username?.[0] || \"?\"} className=\"w-full h-full rounded-[36px] relative z-10\" />\n                                            </div>\n                                            <button\n                                                onClick={handleAvatarClick}\n                                                className=\"absolute -bottom-2 -right-2 p-3 bg-primary text-black rounded-2xl shadow-xl hover:scale-110 transition-transform z-20 border-4 border-black\"\n                                                disabled={saving}\n                                            >\n                                                <Camera className=\"w-4 h-4\" />\n                                            </button>\n                                            <input type=\"file\" ref={fileInputRef} className=\"hidden\" onChange={handleFileChange} accept=\"image/*\" />\n                                        </div>\n                                        <div className=\"text-center\">\n                                            <GradientText text={profile?.full_name || 'NEW GOSSIPER'} className=\"text-3xl font-black italic uppercase tracking-tighter\" />\n                                            <p className=\"text-white/30 text-[10px] font-black tracking-[0.3em] uppercase mt-1\">@{profile?.username || 'unknown'}</p>\n                                        </div>\n                                    </div>\n\n                                    {/* Form */}\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.fullName}</label>\n                                            <input\n                                                value={form.full_name}\n                                                onChange={(e) => setForm(f => ({ ...f, full_name: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"Enter full name\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.username}</label>\n                                            <input\n                                                value={form.username}\n                                                onChange={(e) => setForm(f => ({ ...f, username: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"username\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.gender}</label>\n                                            <div className=\"grid grid-cols-3 gap-2\">\n                                                {['Male', 'Female', 'Other'].map(g => (\n                                                    <button\n                                                        key={g}\n                                                        onClick={() => setForm(f => ({ ...f, gender: g }))}\n                                                        className={`p-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all border ${form.gender === g ? 'bg-primary text-black border-primary' : 'bg-white/5 text-white/30 border-white/5 hover:border-white/10'}`}\n                                                    >\n                                                        {t[g.toLowerCase()]}\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.age}</label>\n                                            <input\n                                                value={form.age}\n                                                onChange={(e) => setForm(f => ({ ...f, age: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"25\"\n                                                type=\"number\"\n                                            />\n                                        </div>\n                                        <div className=\"md:col-span-2 space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.bio}</label>\n                                            <textarea\n                                                value={form.bio}\n                                                onChange={(e) => setForm(f => ({ ...f, bio: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none h-24 resize-none\"\n                                                placeholder=\"Tell Your Story...\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <button\n                                        onClick={handleSave}\n                                        disabled={saving}\n                                        className=\"w-full py-5 bg-gradient-to-r from-primary to-primary-dark text-black font-black uppercase italic tracking-[0.2em] rounded-2xl shadow-xl shadow-primary/10 hover:scale-[1.02] transition-all flex items-center justify-center gap-3 active:scale-95\"\n                                    >\n                                        {saving ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <Save className=\"w-5 h-5\" />}\n                                        {t.save}\n                                    </button>\n                                </div>\n                            )}\n\n                            {activeTab === 'settings' && (\n                                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    <div className=\"p-6 rounded-3xl bg-white/5 border border-white/10 space-y-6\">\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-primary/10 rounded-2xl\">\n                                                    <Bell className=\"w-5 h-5 text-primary\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">{t.notifications}</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Real-time alerts</p>\n                                                </div>\n                                            </div>\n                                            <button\n                                                onClick={() => setNotificationsEnabled(!notificationsEnabled)}\n                                                className={`w-14 h-8 rounded-full relative transition-all duration-300 ${notificationsEnabled ? 'bg-primary' : 'bg-white/10'}`}\n                                            >\n                                                <div className={`absolute top-1 w-6 h-6 bg-white rounded-full transition-all duration-300 ${notificationsEnabled ? 'left-7 shadow-lg shadow-black/20' : 'left-1'}`} />\n                                            </button>\n                                        </div>\n\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-secondary/10 rounded-2xl\">\n                                                    <Languages className=\"w-5 h-5 text-secondary\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">{t.language}</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Tamil & English supported</p>\n                                                </div>\n                                            </div>\n                                            <select\n                                                value={language}\n                                                onChange={(e) => setLanguage(e.target.value)}\n                                                className=\"bg-white/10 border-none rounded-xl p-3 text-[10px] font-black text-white uppercase tracking-widest outline-none cursor-pointer\"\n                                            >\n                                                <option value=\"English\" className=\"bg-black\">English</option>\n                                                <option value=\"Tamil\" className=\"bg-black\">Tamil</option>\n                                            </select>\n                                        </div>\n\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-white/5 rounded-2xl\">\n                                                    <Eye className=\"w-5 h-5 text-white/40\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">Last Seen</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Privacy control</p>\n                                                </div>\n                                            </div>\n                                            <button className=\"w-14 h-8 rounded-full bg-primary relative\"><div className=\"absolute top-1 left-7 w-6 h-6 bg-white rounded-full shadow-lg\" /></button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"p-6 rounded-3xl bg-secondary/10 border border-secondary/20 flex items-center justify-between\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <Shield className=\"w-6 h-6 text-secondary\" />\n                                            <p className=\"text-[11px] font-black text-secondary uppercase tracking-widest leading-loose\">End-to-End Encryption<br /><span className=\"text-white/40\">Verified & Active</span></p>\n                                        </div>\n                                        <ChevronRight className=\"w-5 h-5 text-secondary opacity-40\" />\n                                    </div>\n                                </div>\n                            )}\n\n                            {activeTab === 'blocked' && (\n                                <div className=\"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    <div className=\"p-6 rounded-3xl bg-white/5 border border-white/10\">\n                                        <h3 className=\"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] mb-6\">Blocked Manifest</h3>\n\n                                        {loading ? (\n                                            <div className=\"flex flex-col items-center justify-center p-12\">\n                                                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n                                            </div>\n                                        ) : blockedUsers.length === 0 ? (\n                                            <div className=\"flex flex-col items-center justify-center p-12 space-y-4\">\n                                                <div className=\"p-6 bg-white/5 rounded-full border border-white/10\">\n                                                    <UserX className=\"w-10 h-10 text-white/20\" />\n                                                </div>\n                                                <p className=\"text-xs font-bold text-white/20 uppercase tracking-widest italic text-center\">Your ghost list is empty</p>\n                                            </div>\n                                        ) : (\n                                            <div className=\"space-y-3\">\n                                                {blockedUsers.map((block) => (\n                                                    <div key={block.id} className=\"flex items-center justify-between bg-black/40 p-3 rounded-2xl border border-white/5 group hover:border-white/20 transition-all\">\n                                                        <div className=\"flex items-center gap-4\">\n                                                            <Avatar src={block.blocked?.avatar_url} fallback={block.blocked?.username?.[0] || \"?\"} className=\"w-10 h-10 rounded-xl\" />\n                                                            <div>\n                                                                <p className=\"text-[13px] font-black text-white uppercase tracking-tight\">{block.blocked?.username || \"Unknown Entity\"}</p>\n                                                                <p className=\"text-[9px] font-bold text-white/20 uppercase tracking-[0.2em]\">Restricted Access</p>\n                                                            </div>\n                                                        </div>\n                                                        <button\n                                                            onClick={() => handleUnblock(block.id)}\n                                                            className=\"flex items-center gap-2 px-4 py-2 bg-secondary/10 hover:bg-secondary text-secondary hover:text-black rounded-xl transition-all font-black text-[9px] uppercase tracking-widest\"\n                                                        >\n                                                            <Unlock className=\"w-3 h-3\" />\n                                                            Restore\n                                                        </button>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useEffect","useState","useRef","createClient","X","Shield","Eye","UserX","Loader2","Unlock","Camera","Edit3","Save","Languages","Bell","LogOut","ChevronRight","Avatar","useToast","useAuth","ProfileService","Profile","GradientText","translations","Record","profile","personalInfo","settings","notifications","language","logout","fullName","username","age","phone","bio","edit","save","cancel","gender","male","female","other","SettingsModal","t0","$","$i","Symbol","for","onClose","user","setIsEditing","setLanguage","setProfile","t1","blockedUsers","setBlockedUsers","loading","setLoading","saving","setSaving","notificationsEnabled","setNotificationsEnabled","activeTab","setActiveTab","fileInputRef","t2","supabase","addToast","t","t3","full_name","form","setForm","t4","t5","id","SettingsModal[useEffect()]","fetchData","SettingsModal[useEffect() > fetchData]","data","prof","getProfile","toString","blocks","from","select","eq","t6","SettingsModal[handleSave]","error","updateProfile","parseInt","undefined","prev","handleSave","t7","SettingsModal[handleAvatarClick]","current","click","handleAvatarClick","t8","e","file","target","files","url","error_0","uploadAvatar","avatar_url","prev_0","handleFileChange","t9","blockId","error_1","delete","prev_1","filter","b","handleUnblock","t10","SettingsModal[getGlowColor]","toLowerCase","getGlowColor","t11","t12","t13","t14","t15","t16","t17","SettingsModal[<button>.onClick]","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","user_metadata","e_0","f","value","e_1","f_0","map","g","SettingsModal[(anonymous)() > <button>.onClick]","f_1","e_2","f_2","e_3","f_3","t38","e_4","t39","length","block","blocked","SettingsModal[blockedUsers.map() > <button>.onClick]","t40","t41","t42"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4245, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { LogOut, MessageSquare, Plus, Search, UserPlus, Users, Phone, Radio } from \"lucide-react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { UserSearch } from \"./user-search\";\nimport { ConnectionRequests } from \"./connection-requests\";\nimport { SettingsModal } from \"./settings-modal\";\nimport { Settings } from \"lucide-react\";\nimport { useStatus } from \"@/contexts/status-context\";\nimport { GradientText } from \"./ui/gradient-text\";\n\ninterface Room {\n    id: string;\n    name: string | null;\n    is_group: boolean;\n    last_message?: string;\n    updated_at: string;\n    room_participants?: {\n        user_id: string;\n        profiles: {\n            username: string;\n            full_name: string;\n            avatar_url: string;\n            gender?: string;\n        }\n    }[];\n}\n\ninterface Connection {\n    id: string;\n    addressee_id: string;\n    requester_id: string;\n    status: string;\n    requester?: { username: string; avatar_url: string; full_name: string; gender?: string };\n    addressee?: { username: string; avatar_url: string; full_name: string; gender?: string };\n}\n\nexport function Sidebar({ user }: { user: any }) {\n    const [rooms, setRooms] = useState<Room[]>([]);\n    const [matches, setMatches] = useState<Connection[]>([]);\n    const [showSearch, setShowSearch] = useState(false);\n    const [showRequests, setShowRequests] = useState(false);\n    const [showSettings, setShowSettings] = useState(false);\n    const [pendingCount, setPendingCount] = useState(0);\n    const [blockedIds, setBlockedIds] = useState<Set<string>>(new Set());\n    const { statuses } = useStatus();\n    const supabase = createClient();\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const router = useRouter();\n    const currentRoomId = searchParams.get(\"roomId\");\n\n    useEffect(() => {\n        const fetchRooms = async () => {\n            const { data } = await supabase\n                .from(\"rooms\")\n                .select(`\n                    *,\n                    room_participants(\n                        user_id,\n                        profiles(username, full_name, avatar_url, gender)\n                    )\n                `)\n                .order(\"updated_at\", { ascending: false });\n\n            if (data) setRooms(data as any);\n        };\n\n        const fetchPendingCount = async () => {\n            const { count } = await supabase\n                .from(\"connections\")\n                .select(\"*\", { count: 'exact', head: true })\n                .eq(\"addressee_id\", user?.id)\n                .eq(\"status\", \"pending\");\n            setPendingCount(count || 0);\n\n            const { data: matchesData } = await supabase\n                .from(\"connections\")\n                .select(`\n                    *,\n                    requester:profiles!requester_id(username, avatar_url, full_name, gender),\n                    addressee:profiles!addressee_id(username, avatar_url, full_name, gender)\n                `)\n                .or(`requester_id.eq.${user.id},addressee_id.eq.${user.id}`)\n                .eq(\"status\", \"accepted\")\n                .limit(10);\n\n            if (matchesData) setMatches(matchesData as any);\n\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(\"blocked_id\")\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) {\n                setBlockedIds(new Set(blocks.map(b => b.blocked_id)));\n            }\n        };\n\n        if (user) {\n            fetchRooms();\n            fetchPendingCount();\n        }\n\n        const roomChannel = supabase\n            .channel(\"rooms_realtime\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"rooms\" }, () => fetchRooms())\n            .subscribe();\n\n        const connectionChannel = supabase\n            .channel(\"connections_sidebar\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"connections\" }, () => fetchPendingCount())\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(roomChannel);\n            supabase.removeChannel(connectionChannel);\n        };\n    }, [user, supabase]);\n\n    const handleCreateRoom = async () => {\n        const name = prompt(\"Enter room name:\");\n        if (!name) return;\n\n        const { data, error } = await supabase.from(\"rooms\").insert({ name, is_group: true, updated_at: new Date().toISOString() }).select().single();\n        if (error) alert(error.message);\n        else {\n            await supabase.from(\"room_participants\").insert({ room_id: data.id, user_id: user.id });\n            router.push(`/chat?roomId=${data.id}`);\n        }\n    };\n\n    const handleLogout = async () => {\n        await supabase.auth.signOut();\n        router.push(\"/login\");\n    };\n\n    const getNameColor = (gender?: string) => {\n        switch (gender?.toLowerCase()) {\n            case 'male': return '#00BFFF';\n            case 'female': return '#FFB6C1';\n            case 'other': return '#FFD700';\n            default: return '#FFF';\n        }\n    };\n\n    const formatTime = (dateStr: string) => {\n        if (!dateStr) return \"\";\n        const date = new Date(dateStr);\n        const now = new Date();\n        const diff = now.getTime() - date.getTime();\n        const minutes = Math.floor(diff / 60000);\n        if (minutes < 1) return 'Just now';\n        if (minutes < 60) return `${minutes}m`;\n        const hours = Math.floor(minutes / 60);\n        if (hours < 24) return `${hours}h`;\n        return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n    };\n\n    return (\n        <>\n            <aside className=\"w-full h-full bg-black text-foreground flex flex-col font-sans overflow-hidden\">\n                {/* Header */}\n                <div className=\"px-[20px] pt-[10px] pb-[15px]\">\n                    <div className=\"flex justify-between items-center mb-1\">\n                        <div className=\"flex items-center gap-1\">\n                            <GradientText text=\"GOSSIP.\" className=\"text-[32px] font-[900] tracking-[0.5px]\" />\n                            <img\n                                src=\"/images/gossip_header_doodle.png\"\n                                alt=\"Gossip Doodle\"\n                                className=\"w-[50px] h-[50px] object-contain -mt-2 opacity-80\"\n                            />\n                        </div>\n                        <button\n                            onClick={() => setShowRequests(true)}\n                            className=\"relative p-1\"\n                        >\n                            <div className=\"w-[28px] h-[28px]\">\n                                <img src=\"data:image/svg+xml;base64,...\" alt=\"\" className=\"hidden\" />\n                                {/* Using Lucide icon to match Expo Ionicons name=\"notifications-outline\" */}\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\" /><path d=\"M10.3 21a1.94 1.94 0 0 0 3.4 0\" /></svg>\n                            </div>\n                            {pendingCount > 0 && (\n                                <div className=\"absolute -top-1 -right-1 min-w-[18px] h-[18px] rounded-full bg-red-500 border-2 border-black flex items-center justify-center\">\n                                    <span className=\"text-white text-[10px] font-[900]\">{pendingCount}</span>\n                                </div>\n                            )}\n                        </button>\n                    </div>\n                    <p className=\"text-[13px] text-[#888] font-medium mt-1\">Connect, share, and whisper in style.</p>\n                </div>\n\n                {/* Search Bar */}\n                <div className=\"px-[20px] mb-[15px]\">\n                    <div className=\"bg-[#111] h-[48px] rounded-[24px] flex items-center px-[15px] gap-3 border border-[#222]\">\n                        <Search className=\"w-5 h-5 text-[#666]\" />\n                        <input\n                            placeholder=\"Search friends or gossip...\"\n                            className=\"bg-transparent border-none outline-none text-[15px] w-full placeholder-[#666] text-white font-normal\"\n                            readOnly\n                            onClick={() => setShowSearch(true)}\n                        />\n                    </div>\n                </div>\n\n                {/* Vibes Card */}\n                <div className=\"px-4 mb-4\">\n                    <div className=\"bg-[#111] border border-[#222] rounded-[35px] p-5\">\n                        <h3 className=\"text-[11px] font-[800] tracking-[1.5px] text-[#444] mb-4 uppercase ml-1\">VIBES</h3>\n                        <div className=\"flex gap-5 overflow-x-auto pb-2 scrollbar-hide\">\n                            <button onClick={() => router.push('/chat/status')} className=\"flex flex-col items-center gap-3 min-w-[58px]\">\n                                <div className=\"relative\">\n                                    <Avatar src={user?.user_metadata?.avatar_url} fallback={user?.email?.[0] || \"?\"} className=\"w-[58px] h-[58px] rounded-full border-2 border-[#333] opacity-50\" />\n                                    <div className=\"absolute bottom-0 right-0 w-[20px] h-[20px] bg-[#00BFFF] rounded-full flex items-center justify-center border-2 border-black\">\n                                        <Plus className=\"w-[12px] h-[12px] text-black\" strokeWidth={3} />\n                                    </div>\n                                </div>\n                                <span className=\"text-[11px] font-bold text-white/60\">Your Vibe</span>\n                            </button>\n\n                            {/* Active Statuses List */}\n                            {Array.from(new Set(statuses.filter((s: any) => s.user_id !== user.id).map((s: any) => s.user_id))).map((userId: any) => {\n                                const status = statuses.find((s: any) => s.user_id === userId);\n                                if (!status || !status.profiles) return null;\n                                const profile = status.profiles;\n\n                                return (\n                                    <button\n                                        key={userId}\n                                        onClick={() => router.push('/chat/status')}\n                                        className=\"flex flex-col items-center gap-3 min-w-[58px]\"\n                                    >\n                                        <div className=\"relative p-[2px] rounded-full bg-gradient-to-tr from-[#00BFFF] to-[#FFB6C1]\">\n                                            <div className=\"p-[2px] bg-black rounded-full\">\n                                                <Avatar src={profile.avatar_url} fallback={profile.username?.[0] || \"?\"} className=\"w-[50px] h-[50px]\" />\n                                            </div>\n                                        </div>\n                                        <span className=\"text-[11px] font-black text-center truncate w-full text-white tracking-tight uppercase\">{profile.username}</span>\n                                    </button>\n                                );\n                            })}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Recent Gossips Card */}\n                <div className=\"flex-1 px-4 mb-4 min-h-0 flex flex-col\">\n                    <div className=\"bg-[#111] border border-[#222] rounded-[35px] flex-1 flex flex-col overflow-hidden\">\n                        {/* Header */}\n                        <div className=\"px-6 pt-5 pb-2 flex items-center gap-[10px]\">\n                            <h3 className=\"text-[11px] font-[800] tracking-[1.5px] text-[#444] uppercase\">RECENT GOSSIPS</h3>\n                        </div>\n\n                        {/* Chat List */}\n                        <div className=\"flex-1 overflow-y-auto custom-scrollbar p-2\">\n                            <div className=\"space-y-1\">\n                                {rooms.filter(room => {\n                                    const other = room.room_participants?.find(p => p.user_id !== user?.id);\n                                    if (other && blockedIds.has(other.user_id)) return false;\n                                    return true;\n                                }).map((room) => {\n                                    let displayName = room.name || \"UNNAMED CHAT\";\n                                    let displayAvatar = undefined;\n                                    let isOnline = false;\n                                    let gender = undefined;\n\n                                    if (room.room_participants) {\n                                        const other = room.room_participants.find(p => p.user_id !== user?.id);\n                                        if (other && other.profiles) {\n                                            displayName = (other.profiles.full_name || other.profiles.username || \"Unknown User\").toUpperCase();\n                                            displayAvatar = other.profiles.avatar_url;\n                                            isOnline = true;\n                                            gender = other.profiles.gender;\n                                        }\n                                    }\n\n                                    const isActive = currentRoomId === room.id;\n\n                                    return (\n                                        <Link href={`/chat?roomId=${room.id}`} key={room.id} className=\"block group\">\n                                            <div className={cn(\n                                                \"px-6 py-3 transition-all cursor-pointer flex items-center gap-4\",\n                                                isActive ? \"bg-primary/10\" : \"hover:bg-white/[0.03]\"\n                                            )}>\n                                                <div className=\"relative\">\n                                                    <Avatar\n                                                        src={displayAvatar}\n                                                        fallback={displayName[0] || \"?\"}\n                                                        className=\"w-[58px] h-[58px] rounded-full ring-2 ring-white/5\"\n                                                    />\n                                                    {isOnline && (\n                                                        <span className=\"absolute bottom-0 right-1 w-4 h-4 bg-online border-[3px] border-black rounded-full\"></span>\n                                                    )}\n                                                </div>\n                                                <div className=\"overflow-hidden flex-1 border-b border-white/5 pb-3 group-last:border-none\">\n                                                    <div className=\"flex justify-between items-center mb-1\">\n                                                        <p className=\"text-[16px] font-black tracking-tight truncate\" style={{ color: getNameColor(gender) }}>\n                                                            {displayName}\n                                                        </p>\n                                                        <p className=\"text-[11px] font-bold text-white/20\">\n                                                            {formatTime(room.updated_at)}\n                                                        </p>\n                                                    </div>\n                                                    <div className=\"flex justify-between items-center\">\n                                                        <p className={cn(\"text-xs truncate flex-1 pr-2 font-medium\", isActive ? \"text-primary/70\" : \"text-white/30\")}>\n                                                            {room.last_message || \"Started a gossip...\"}\n                                                        </p>\n                                                        {/* Mocked unread badge if needed */}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </Link>\n                                    )\n                                })}\n                                {rooms.length === 0 && (\n                                    <div className=\"flex flex-col items-center justify-center p-12 text-center\">\n                                        <MessageSquare className=\"w-12 h-12 text-white/10 mb-4\" />\n                                        <p className=\"text-xs text-white/30 font-bold uppercase tracking-widest italic\">No gossips yet</p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Footer User Info */}\n                <div className=\"p-4 border-t border-white/5 bg-black/80 backdrop-blur-md\">\n                    <div className=\"flex items-center gap-3\">\n                        <Avatar src={user?.user_metadata?.avatar_url} fallback={user?.email || \"?\"} className=\"w-10 h-10 ring-2 ring-white/10 shadow-lg\" />\n                        <div className=\"flex-1 overflow-hidden\">\n                            <p className=\"text-[13px] font-black truncate text-white uppercase tracking-tight\">{user?.user_metadata?.username || user?.email?.split('@')[0]}</p>\n                            <p className=\"text-[11px] font-bold text-primary flex items-center gap-1 uppercase tracking-widest\">\n                                Online\n                            </p>\n                        </div>\n                        <div className=\"flex gap-1\">\n                            <button onClick={() => setShowSettings(true)} className=\"text-white/40 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-xl\">\n                                <Settings className=\"w-5 h-5\" />\n                            </button>\n                            <button onClick={handleLogout} className=\"text-white/40 hover:text-secondary transition-colors p-2 hover:bg-white/5 rounded-xl\">\n                                <LogOut className=\"w-5 h-5\" />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </aside>\n            {showSearch && <UserSearch onClose={() => setShowSearch(false)} currentUserId={user?.id} />}\n            {showRequests && <ConnectionRequests onClose={() => setShowRequests(false)} currentUserId={user?.id} />}\n            {showSettings && <SettingsModal onClose={() => setShowSettings(false)} user={user} />}\n        </>\n    );\n}\n"],"names":["c","_c","useEffect","useState","createClient","Avatar","Link","usePathname","cn","LogOut","MessageSquare","Plus","Search","UserPlus","Users","Phone","Radio","useRouter","useSearchParams","UserSearch","ConnectionRequests","SettingsModal","Settings","useStatus","GradientText","Room","id","name","is_group","last_message","updated_at","room_participants","user_id","profiles","username","full_name","avatar_url","gender","Connection","addressee_id","requester_id","status","requester","addressee","Sidebar","t0","$","$i","Symbol","for","user","t1","rooms","setRooms","t2","setMatches","showSearch","setShowSearch","showRequests","setShowRequests","showSettings","setShowSettings","pendingCount","setPendingCount","t3","Set","blockedIds","setBlockedIds","statuses","t4","supabase","searchParams","router","t5","get","currentRoomId","t6","t7","Sidebar[useEffect()]","fetchRooms","Sidebar[useEffect() > fetchRooms]","data","from","select","order","ascending","fetchPendingCount","Sidebar[useEffect() > fetchPendingCount]","count","head","eq","matchesData","or","limit","blocks","map","_SidebarUseEffectFetchPendingCountBlocksMap","roomChannel","channel","on","event","schema","table","Sidebar[useEffect() > (anonymous)()]","subscribe","connectionChannel","removeChannel","t8","Sidebar[handleLogout]","auth","signOut","push","handleLogout","getNameColor","_SidebarGetNameColor","formatTime","_SidebarFormatTime","t10","t9","Sidebar[<button>.onClick]","t11","t12","t13","t14","t15","t16","t17","t18","Sidebar[<input>.onClick]","t19","t20","t21","user_metadata","t22","email","t23","t24","t25","t26","t27","t28","t29","s","Array","filter","_SidebarAnonymous","userId","find","s_1","profile","Sidebar[(anonymous)() > <button>.onClick]","t30","t31","t32","t33","room","other","p","has","t34","room_0","displayName","displayAvatar","undefined","isOnline","gender_0","other_0","p_0","toUpperCase","isActive","color","length","t35","t36","t37","t38","split","t39","t40","t41","t42","t43","t44","t45","t46","t47","t48","Sidebar[<UserSearch>.onClose]","t49","Sidebar[<ConnectionRequests>.onClose]","t50","Sidebar[<SettingsModal>.onClose]","t51","s_0","dateStr","date","Date","now","diff","getTime","minutes","Math","floor","hours","toLocaleDateString","month","day","toLowerCase","b","blocked_id"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,MAAM,EAAEC,aAAa,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,QAAQ,cAAc;;;;AAEjG,SAASG,UAAU,QAAQ,eAAe;AAC1C,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,QAAQ,QAAQ,cAAc;AACvC,SAASC,SAAS,QAAQ,2BAA2B;AACrD,SAASC,YAAY,QAAQ,oBAAoB;;;AAfjD,YAAY;;;;;;;;;;;;;;;;AA2CL,iBAAAqB,EAAA;;IAAA,MAAAC,CAAA,GAAA7C,yMAAA,EAAA;IAAA,IAAA6C,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,KAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAiB,MAAA,EAAAI,IAAAA,EAAA,GAAAL,EAAuB;IAAA,IAAAM,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACAE,EAAA,GAAA,EAAE;QAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAA7C,MAAA,CAAAM,KAAA,EAAAC,QAAA,CAAA,OAA0BlD,8LAAQ,EAASgD,EAAE,CAAC;IAAC,IAAAG,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACMK,EAAA,GAAA,EAAE;QAAAR,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAvD,MAAA,GAAAS,UAAA,CAAA,OAA8BpD,8LAAQ,EAAemD,EAAE,CAAC;IACxD,MAAA,CAAAE,UAAA,EAAAC,aAAA,CAAA,OAAoCtD,8LAAQ,EAAC,KAAK,CAAC;IACnD,MAAA,CAAAuD,YAAA,EAAAC,eAAA,CAAA,OAAwCxD,8LAAQ,EAAC,KAAK,CAAC;IACvD,MAAA,CAAAyD,YAAA,EAAAC,eAAA,CAAA,OAAwC1D,8LAAQ,EAAC,KAAK,CAAC;IACvD,MAAA,CAAA2D,YAAA,EAAAC,eAAA,CAAA,OAAwC5D,8LAAQ,EAAC,CAAC,CAAC;IAAC,IAAA6D,EAAA;IAAA,IAAAlB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACMe,EAAA,GAAA,IAAIC,GAAG,CAAC,CAAC;QAAAnB,CAAA,CAAA,EAAA,GAAAkB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlB,CAAA,CAAA,EAAA;IAAA;IAAnE,MAAA,CAAAoB,UAAA,EAAAC,aAAA,CAAA,OAAoChE,8LAAQ,EAAc6D,EAAS,CAAC;IACpE,MAAA,EAAAI,QAAAA,EAAA,OAAqB7C;IAAY,IAAA8C,EAAA;IAAA,IAAAvB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAChBoB,EAAA,OAAAjE,wKAAY,CAAC,CAAC;QAAA0C,CAAA,CAAA,EAAA,GAAAuB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvB,CAAA,CAAA,EAAA;IAAA;IAA/B,MAAAwB,QAAA,GAAiBD,EAAc;IACd9D;IACjB,MAAAgE,YAAA;IACA,MAAAC,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAA3B,CAAA,CAAA,EAAA,KAAAyB,YAAA,EAAA;QACLE,EAAA,GAAAF,YAAY,CAAAG,GAAI,CAAC,QAAQ,CAAC;QAAA5B,CAAA,CAAA,EAAA,GAAAyB,YAAA;QAAAzB,CAAA,CAAA,EAAA,GAAA2B,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA3B,CAAA,CAAA,EAAA;IAAA;IAAhD,MAAA6B,aAAA,GAAsBF,EAA0B;IAAC,IAAAG,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAA/B,CAAA,CAAA,EAAA,KAAAI,IAAA,EAAA;QAEvC0B,EAAA,GAAA,CAAA;YAAA,wBAAAE,CAAA;gBACN,MAAAC,UAAA,GAAmB;oBAAA,qCAAA,MAAAC,CAAA;wBACf,MAAA,EAAAC,IAAAA,EAAA,GAAiB,MAAMX,QAAQ,CAAAY,IACtB,CAAC,OAAO,CAAC,CAAAC,MACP,CAAC,wNAMP,CAAC,CAAAC,KACI,CAAC,YAAY,EAAE;4BAAAC,SAAA,EAAa;wBAAM,CAAC,CAAC;wBAE9C,IAAIJ,IAAI,EAAA;4BAAE5B,QAAQ,CAAC4B,IAAI,IAAI,GAAG,CAAC;wBAAA;oBAAC;gBAAA,CAAA,CAAA,oCACnC;gBAED,MAAAK,iBAAA,GAA0B;oBAAA,4CAAA,MAAAC,CAAA;wBACtB,MAAA,EAAAC,KAAAA,EAAA,GAAkB,MAAMlB,QAAQ,CAAAY,IACvB,CAAC,aAAa,CAAC,CAAAC,MACb,CAAC,GAAG,EAAE;4BAAAK,KAAA,EAAS,OAAO;4BAAAC,IAAA,EAAQ;wBAAK,CAAC,CAAC,CAAAC,EACzC,CAAC,cAAc,EAAExC,IAAI,EAAAxB,EAAI,CAAC,CAAAgE,EAC1B,CAAC,QAAQ,EAAE,SAAS,CAAC;wBAC5B3B,eAAe,CAACyB,KAAU,IAAV,CAAU,CAAC;wBAE3B,MAAA,EAAAP,IAAA,EAAAU,WAAAA,EAAA,GAA8B,MAAMrB,QAAQ,CAAAY,IACnC,CAAC,aAAa,CAAC,CAAAC,MACb,CAAC,yOAIP,CAAC,CAAAS,EACC,CAAC,CAAA,gBAAA,EAAmB1C,IAAI,CAAAxB,EAAG,CAAA,iBAAA,EAAoBwB,IAAI,CAAAxB,EAAG,EAAE,CAAC,CAAAgE,EACzD,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAAG,KACnB,CAAC,EAAE,CAAC;wBAEd,IAAIF,WAAW,EAAA;4BAAEpC,UAAU,CAACoC,WAAW,IAAI,GAAG,CAAC;wBAAA;wBAE/C,MAAA,EAAAV,IAAA,EAAAa,MAAAA,EAAA,GAAyB,MAAMxB,QAAQ,CAAAY,IAC9B,CAAC,eAAe,CAAC,CAAAC,MACf,CAAC,YAAY,CAAC,CAAAO,EAClB,CAAC,YAAY,EAAExC,IAAI,CAAAxB,EAAG,CAAC;wBAE9B,IAAIoE,MAAM,EAAA;4BACN3B,aAAa,CAAC,IAAIF,GAAG,CAAC6B,MAAM,CAAAC,GAAI,CAACC,2CAAiB,CAAC,CAAC,CAAC;wBAAA;oBACxD;gBAAA,CAAA,CAAA,2CACJ;gBAED,IAAI9C,IAAI,EAAA;oBACJ6B,UAAU,CAAC,CAAC;oBACZO,iBAAiB,CAAC,CAAC;gBAAA;gBAGvB,MAAAW,WAAA,GAAoB3B,QAAQ,CAAA4B,OAChB,CAAC,gBAAgB,CAAC,CAAAC,EACvB,CAAC,kBAAkB,EAAE;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,MAAA,EAAU,QAAQ;oBAAAC,KAAA,EAAS;gBAAQ,CAAC,EAAE;oBAAA,wCAAAC,CAAA,GAAMxB,UAAU,CAAC;gBAAC,CAAA,CAAA,uCAAA,CAAC,CAAAyB,SACnF,CAAC,CAAC;gBAEhB,MAAAC,iBAAA,GAA0BnC,QAAQ,CAAA4B,OACtB,CAAC,qBAAqB,CAAC,CAAAC,EAC5B,CAAC,kBAAkB,EAAE;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,MAAA,EAAU,QAAQ;oBAAAC,KAAA,EAAS;gBAAc,CAAC,EAAE;oBAAA,wCAAAC,CAAA,GAAMjB,iBAAiB,CAAC;gBAAC,CAAA,CAAA,uCAAA,CAAC,CAAAkB,SAChG,CAAC,CAAC;gBAAC,OAEV;oBACHlC,QAAQ,CAAAoC,aAAc,CAACT,WAAW,CAAC;oBACnC3B,QAAQ,CAAAoC,aAAc,CAACD,iBAAiB,CAAC;gBAAA,CAC5C;YAAA;SAAA,CAAA,CAAA,uBACJ;QAAE5B,EAAA,GAAA;YAAC3B,IAAI;YAAEoB,QAAQ;SAAC;QAAAxB,CAAA,CAAA,EAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA8B,EAAA;QAAA9B,CAAA,CAAA,EAAA,GAAA+B,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAA9B,CAAA,CAAA,EAAA;QAAA+B,EAAA,GAAA/B,CAAA,CAAA,EAAA;IAAA;QAlEnB5C,+LAAS,EAAC0E,EAkET,EAAEC,EAAgB,CAAC;IAAA,IAAA8B,EAAA;IAAA,IAAA7D,CAAA,CAAA,GAAA,KAAA0B,MAAA,EAAA;QAcCmC,EAAA,GAAA,CAAA;YAAA,yBAAA,MAAAC,CAAA;gBACjB,MAAMtC,QAAQ,CAAAuC,IAAK,CAAAC,OAAQ,CAAC,CAAC;gBAC7BtC,MAAM,CAAAuC,IAAK,CAAC,QAAQ,CAAC;YAAA;SAAA,CAAA,CAAA,wBACxB;QAAAjE,CAAA,CAAA,GAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,GAAA,GAAA6D,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA7D,CAAA,CAAA,GAAA;IAAA;IAHD,MAAAkE,YAAA,GAAqBL,EAGpB;IAED,MAAAM,YAAA,GAAqBC,oBAOpB;IAED,MAAAC,UAAA,GAAmBC,kBAWlB;IAAC,IAAAC,GAAA;IAAA,IAAAC,EAAA;IAAA,IAAAxE,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAQkBqE,EAAA,iBAAA,kNAAA,GAOM;YAPS,SAAyB,EAAzB,yBAAyB;;8BACpC,kNAAC,oLAAY;oBAAM,IAAS,EAAT,SAAS;oBAAW,SAAyC,EAAzC,yCAAyC;;;;;;8BAChF,kNAAA,GAIE;oBAHM,GAAkC,EAAlC,kCAAkC;oBAClC,GAAe,EAAf,eAAe;oBACT,SAAmD,EAAnD,mDAAmD,GAErE,EAPA,GAOM;;;;;;;;;;;;QAEOD,GAAA,GAAA,CAAA;YAAA,6BAAAE,CAAA,GAAM5D,eAAe,CAAC,IAAI;SAAC,CAAA,CAAA,4BAAA;QAAAb,CAAA,CAAA,GAAA,GAAAuE,GAAA;QAAAvE,CAAA,CAAA,GAAA,GAAAwE,EAAA;IAAA,OAAA;QAAAD,GAAA,GAAAvE,CAAA,CAAA,GAAA;QAAAwE,EAAA,GAAAxE,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0E,GAAA;IAAA,IAAA1E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIhCuE,GAAA,iBAAA,kNAAA,GAAqE;YAA5D,GAA+B,EAA/B,+BAA+B;YAAK,GAAE,EAAF,EAAE;YAAW,SAAQ,EAAR,QAAQ,GAAG;;;;;;QAAA1E,CAAA,CAAA,GAAA,GAAA0E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2E,GAAA;IAAA,IAAA3E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QADzEwE,GAAA,iBAAA,kNAAA,GAIM;YAJS,SAAmB,EAAnB,mBAAmB,CAC9B;;gBAAAD,GAAoE;8BAEpE,kNAAA,GAAkR;oBAAvQ,KAA4B,EAA5B,4BAA4B;oBAAO,KAAI,EAAJ,IAAI;oBAAQ,MAAI,EAAJ,IAAI;oBAAS,OAAW,EAAX,WAAW;oBAAM,IAAM,EAAN,MAAM;oBAAQ,MAAO,EAAP,OAAO;oBAAa,WAAG,EAAH,GAAG;oBAAe,aAAO,EAAP,OAAO;oBAAgB,cAAO,EAAP,OAAO;;sCAAC,kNAAA,IAAsD;4BAA9C,CAA2C,EAA3C,2CAA2C;;;;;;sCAAG,kNAAA,IAA2C;4BAAnC,CAAgC,EAAhC,gCAAgC,GAAG,EAA5Q,GAAkR,CACtR,EAJA,GAIM;;;;;;;;;;;;;;;;;;QAAA1E,CAAA,CAAA,GAAA,GAAA2E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4E,GAAA;IAAA,IAAA5E,CAAA,CAAA,GAAA,KAAAgB,YAAA,EAAA;QACL4D,GAAA,GAAA5D,YAAY,GAAG,CAIf,kBAHG,kNAAA,GAEM;YAFS,SAA+H,EAA/H,+HAA+H;oCAC1I,kNAAA,IAAyE;gBAAzD,SAAmC,EAAnC,mCAAmC,CAAEA;0BAAAA,YAAW,CAAE,EAAlE,IAAyE,CAC7E,EAFA,GAEM,CACT;;;;;;;;;;;QAAAhB,CAAA,CAAA,GAAA,GAAAgB,YAAA;QAAAhB,CAAA,CAAA,GAAA,GAAA4E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6E,GAAA;IAAA,IAAA7E,CAAA,CAAA,GAAA,KAAA4E,GAAA,EAAA;QAtBTC,GAAA,iBAAA,kNAAA,GAwBM;YAxBS,SAAwC,EAAxC,wCAAwC,CACnD;;gBAAAL,EAOK;8BACL,kNAAA,MAcS;oBAbI,OAA2B,CAA3B,CAAAD,GAA0B,CAAC;oBAC1B,SAAc,EAAd,cAAc,CAExB;;wBAAAI,GAIK,CACJ;wBAAAC,GAID,CACJ,EAdA,MAcS,CACb,EAxBA,GAwBM;;;;;;;;;;;;;QAAA5E,CAAA,CAAA,GAAA,GAAA4E,GAAA;QAAA5E,CAAA,CAAA,GAAA,GAAA6E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8E,GAAA;IAAA,IAAA9E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACN2E,GAAA,iBAAA,kNAAA,CAAiG;YAApF,SAA0C,EAA1C,0CAA0C;sBAAC,qCAAqC,EAA7F,CAAiG;;;;;;QAAA9E,CAAA,CAAA,GAAA,GAAA8E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+E,GAAA;IAAA,IAAA/E,CAAA,CAAA,GAAA,KAAA6E,GAAA,EAAA;QA1BrGE,GAAA,iBAAA,kNAAA,GA2BM;YA3BS,SAA+B,EAA/B,+BAA+B,CAC1C;;gBAAAF,GAwBK,CACL;gBAAAC,GAAgG,CACpG,EA3BA,GA2BM;;;;;;;QAAA9E,CAAA,CAAA,GAAA,GAAA6E,GAAA;QAAA7E,CAAA,CAAA,GAAA,GAAA+E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgF,GAAA;IAAA,IAAAhF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKE6E,GAAA,iBAAA,kNAAC,wOAAM;YAAW,SAAqB,EAArB,qBAAqB,GAAG;;;;;;QAAAhF,CAAA,CAAA,GAAA,GAAAgF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiF,GAAA;IAAA,IAAAjF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAFlD8E,GAAA,iBAAA,kNAAA,GAUM;YAVS,SAAqB,EAArB,qBAAqB;sBAChC,gOAAA,GAQM;gBARS,SAA0F,EAA1F,0FAA0F,CACrG;;oBAAAD,GAAyC;kCACzC,kNAAA,KAKE;wBAJc,WAA6B,EAA7B,6BAA6B;wBAC/B,SAAsG,EAAtG,sGAAsG;wBAChH,QAAQ,CAAR,CAAA,IAAO,CAAC;wBACC,OAAyB,CAAzB,CAAA;4BAAA,4BAAAE,CAAA,GAAMvE,aAAa,CAAC,IAAI;wBAAC,CAAA,CAAA,2BAAD,CAAC,GAE1C,EARA,GAQM,CACV,EAVA,GAUM;;;;;;;;;;;;;;;;;QAAAX,CAAA,CAAA,GAAA,GAAAiF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmF,GAAA;IAAA,IAAAnF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKEgF,GAAA,iBAAA,kNAAA,EAAkG;YAApF,SAAyE,EAAzE,yEAAyE;sBAAC,KAAK,EAA7F,EAAkG;;;;;;QAAAnF,CAAA,CAAA,GAAA,GAAAmF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoF,GAAA;IAAA,IAAApF,CAAA,CAAA,GAAA,KAAA0B,MAAA,EAAA;QAE7E0D,GAAA,GAAA,CAAA;YAAA,6BAAAX,CAAA,GAAM/C,MAAM,CAAAuC,IAAK,CAAC,cAAc;SAAC,CAAA,CAAA,4BAAA;QAAAjE,CAAA,CAAA,GAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,GAAA,GAAAoF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApF,CAAA,CAAA,GAAA;IAAA;IAE7B,MAAAqF,GAAA,GAAAjF,IAAI,EAAAkF,aAA2B,EAAAhG,UAAA;IAAY,MAAAiG,GAAA,GAAAnF,IAAI,EAAAoF,KAAY,EAAA,CAAA,EAAO,IAAvB,GAAuB;IAAA,IAAAC,GAAA;IAAA,IAAAzF,CAAA,CAAA,GAAA,KAAAqF,GAAA,IAAArF,CAAA,CAAA,GAAA,KAAAuF,GAAA,EAAA;QAA/EE,GAAA,iBAAA,kNAAC,oKAAM;YAAM,GAA+B,CAA/B,CAAAJ,GAA8B,CAAC;YAAY,QAAuB,CAAvB,CAAAE,GAAsB,CAAC;YAAY,SAAkE,EAAlE,kEAAkE,GAAG;;;;;;QAAAvF,CAAA,CAAA,GAAA,GAAAqF,GAAA;QAAArF,CAAA,CAAA,GAAA,GAAAuF,GAAA;QAAAvF,CAAA,CAAA,GAAA,GAAAyF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAzF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0F,GAAA;IAAA,IAAA1F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAChKuF,GAAA,iBAAA,kNAAA,GAEM;YAFS,SAA8H,EAA9H,8HAA8H;oCACzI,kNAAC,kOAAI;gBAAW,SAA8B,EAA9B,8BAA8B;gBAAc,WAAC,CAAD,CAAA,EAAC,GACjE,EAFA,GAEM;;;;;;;;;;;QAAA1F,CAAA,CAAA,GAAA,GAAA0F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2F,GAAA;IAAA,IAAA3F,CAAA,CAAA,GAAA,KAAAyF,GAAA,EAAA;QAJVE,GAAA,iBAAA,kNAAA,GAKM;YALS,SAAU,EAAV,UAAU,CACrB;;gBAAAF,GAA+J,CAC/J;gBAAAC,GAEK,CACT,EALA,GAKM;;;;;;;QAAA1F,CAAA,CAAA,GAAA,GAAAyF,GAAA;QAAAzF,CAAA,CAAA,GAAA,GAAA2F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4F,GAAA;IAAA,IAAA5F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACNyF,GAAA,iBAAA,kNAAA,IAAsE;YAAtD,SAAqC,EAArC,qCAAqC;sBAAC,SAAS,EAA/D,IAAsE;;;;;;QAAA5F,CAAA,CAAA,GAAA,GAAA4F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6F,GAAA;IAAA,IAAA7F,CAAA,CAAA,GAAA,KAAAoF,GAAA,IAAApF,CAAA,CAAA,GAAA,KAAA2F,GAAA,EAAA;QAP1EE,GAAA,iBAAA,kNAAA,MAQS;YARQ,OAAiC,CAAjC,CAAAT,GAAgC,CAAC;YAAY,SAA+C,EAA/C,+CAA+C,CACzG;;gBAAAO,GAKK,CACL;gBAAAC,GAAqE,CACzE,EARA,MAQS;;;;;;;QAAA5F,CAAA,CAAA,GAAA,GAAAoF,GAAA;QAAApF,CAAA,CAAA,GAAA,GAAA2F,GAAA;QAAA3F,CAAA,CAAA,GAAA,GAAA6F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8F,GAAA;IAAA,IAAA9F,CAAA,CAAA,GAAA,KAAAsB,QAAA,IAAAtB,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;QAAA,IAAAmH,GAAA;QAAA,IAAA/F,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;YAG2BmH,GAAA,GAAA,CAAA;gBAAA,+BAAAC,CAAA,GAAYA,CAAC,CAAA9G,OAAQ,KAAKkB,IAAI,CAAAxB,EAAAA;aAAG,CAAA,CAAA,6BAAA;YAAAoB,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;YAAAoB,CAAA,CAAA,GAAA,GAAA+F,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAA/F,CAAA,CAAA,GAAA;QAAA;QAApE8F,GAAA,GAAAG,KAAK,CAAA7D,IAAK,CAAC,IAAIjB,GAAG,CAACG,QAAQ,CAAA4E,MAAO,CAACH,GAAiC,CAAC,CAAA9C,GAAI,CAACkD,iBAAqB,CAAC,CAAC,CAAC;QAAAnG,CAAA,CAAA,GAAA,GAAAsB,QAAA;QAAAtB,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;QAAAoB,CAAA,CAAA,GAAA,GAAA8F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+F,GAAA;IAAA,IAAA/F,CAAA,CAAA,GAAA,KAAA0B,MAAA,IAAA1B,CAAA,CAAA,GAAA,KAAAsB,QAAA,IAAAtB,CAAA,CAAA,GAAA,KAAA8F,GAAA,EAAA;QAAlGC,GAAA,GAAAD,GAAkG,CAAA7C,GAAI,CAAC;YAAA,2BAAAmD,MAAA;gBACpG,MAAAzG,MAAA,GAAe2B,QAAQ,CAAA+E,IAAK,CAAC;oBAAA,6CAAAC,GAAA,GAAYN,GAAC,CAAA9G,OAAQ,KAAKkH;gBAAM,CAAA,CAAA,2CAAA,CAAC;gBAC9D,IAAI,CAACzG,MAA0B,IAA3B,CAAYA,MAAM,CAAAR,QAAS,EAAA;oBAAA,OAAS,IAAI;gBAAA;gBAC5C,MAAAoH,OAAA,GAAgB5G,MAAM,CAAAR,QAAS;gBAAC,qBAG5B,kNAAA,MAWS,CAVAiH,GAAM,CAANA;oBACI,OAAiC,CAAjC,CAAA;wBAAA,6CAAAI,CAAA,GAAM9E,MAAM,CAAAuC,IAAK,CAAC,cAAc;oBAAC,CAAA,CAAA,4CAAD,CAAC;oBAChC,SAA+C,EAA/C,+CAA+C;;sCAEzD,kNAAA,GAIM;4BAJS,SAA6E,EAA7E,6EAA6E;oDACxF,kNAAA,GAEM;gCAFS,SAA+B,EAA/B,+BAA+B;wDAC1C,kNAAC,oKAAM;oCAAM,GAAkB,CAAlB,CAAAsC,OAAO,CAAAjH,UAAU,CAAC;oCAAY,QAA4B,CAA5B,CAAAiH,OAAO,CAAAnH,QAAc,EAAA,CAAA,EAAO,IAA5B,GAA2B,CAAC;oCAAY,SAAmB,EAAnB,mBAAmB,GAC1G,EAFA,GAEM,CACV,EAJA,GAIM;;;;;;;;;;;;;;;;sCACN,kNAAA,IAAkI;4BAAlH,SAAwF,EAAxF,wFAAwF,CAAE;sCAAAmH,OAAO,CAAAnH,QAAQ,CAAE,EAA3H,IAAkI,CACtI,EAXA,MAWS;;;;;;;mBAVAgH,MAAK,CAAC;;;;;YAUN;QAAA,CAAA,CAAA,yBAEhB,CAAC;QAAApG,CAAA,CAAA,GAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,GAAA,GAAAsB,QAAA;QAAAtB,CAAA,CAAA,GAAA,GAAA8F,GAAA;QAAA9F,CAAA,CAAA,GAAA,GAAA+F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyG,GAAA;IAAA,IAAAzG,CAAA,CAAA,GAAA,KAAA6F,GAAA,IAAA7F,CAAA,CAAA,GAAA,KAAA+F,GAAA,EAAA;QAlCdU,GAAA,iBAAA,kNAAA,GAqCM;YArCS,SAAW,EAAX,WAAW;oCACtB,kNAAA,GAmCM;gBAnCS,SAAmD,EAAnD,mDAAmD,CAC9D;;oBAAAtB,GAAiG;kCACjG,kNAAA,GAgCM;wBAhCS,SAAgD,EAAhD,gDAAgD,CAC3D;;4BAAAU,GAQQ,CAGP;4BAAAE,GAmBA,CACL,EAhCA,GAgCM,CACV,EAnCA,GAmCM,CACV,EArCA,GAqCM;;;;;;;;;;;;;;;;;;QAAA/F,CAAA,CAAA,GAAA,GAAA6F,GAAA;QAAA7F,CAAA,CAAA,GAAA,GAAA+F,GAAA;QAAA/F,CAAA,CAAA,GAAA,GAAAyG,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAzG,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0G,GAAA;IAAA,IAAA1G,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAMEuG,GAAA,iBAAA,kNAAA,GAEM;YAFS,SAA6C,EAA7C,6CAA6C;oCACxD,kNAAA,EAAiG;gBAAnF,SAA+D,EAA/D,+DAA+D;0BAAC,cAAc,EAA5F,EAAiG,CACrG,EAFA,GAEM;;;;;;;;;;;QAAA1G,CAAA,CAAA,GAAA,GAAA0G,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1G,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2G,GAAA;IAAA,IAAA3G,CAAA,CAAA,GAAA,KAAAoB,UAAA,IAAApB,CAAA,CAAA,GAAA,KAAA6B,aAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;QAAA,IAAAgI,GAAA;QAAA,IAAA5G,CAAA,CAAA,GAAA,KAAAoB,UAAA,IAAApB,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;YAKgBgI,GAAA,GAAA,CAAA;gBAAA,2BAAAC,IAAA;oBACV,MAAAC,KAAA,GAAcD,IAAI,CAAA5H,iBAAwB,EAAAoH,IAA6B,CAA5B;wBAAA,4CAAAU,CAAA,GAAKA,CAAC,CAAA7H,OAAQ,KAAKkB,IAAI,EAAAxB;oBAAI,CAAA,CAAA,0CAAA,CAAC;oBACvE,IAAIkI,KAAsC,IAA7B1F,UAAU,CAAA4F,GAAI,CAACF,KAAK,CAAA5H,OAAQ,CAAC,EAAA;wBAAA,OAAS,KAAK;oBAAA;oBAAC,OAClD,IAAI;gBAAA;aAAA,CAAA,CAAA,0BACd;YAAAc,CAAA,CAAA,GAAA,GAAAoB,UAAA;YAAApB,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;YAAAoB,CAAA,CAAA,GAAA,GAAA4G,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAA5G,CAAA,CAAA,GAAA;QAAA;QAAA,IAAAiH,GAAA;QAAA,IAAAjH,CAAA,CAAA,GAAA,KAAA6B,aAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;YAAMqI,GAAA,GAAA,CAAA;gBAAA,2BAAAC,MAAA;oBACH,IAAAC,WAAA,GAAkBN,MAAI,CAAAhI,IAAuB,IAA3B,cAA2B;oBAC7C,IAAAuI,aAAA,GAAoBC,SAAS;oBAC7B,IAAAC,QAAA,GAAe,KAAK;oBACpB,IAAAC,QAAA,GAAaF,SAAS;oBAEtB,IAAIR,MAAI,CAAA5H,iBAAkB,EAAA;wBACtB,MAAAuI,OAAA,GAAcX,MAAI,CAAA5H,iBAAkB,CAAAoH,IAAK,CAAC;4BAAA,6DAAAoB,GAAA,GAAKV,GAAC,CAAA7H,OAAQ,KAAKkB,IAAI,EAAAxB;wBAAI,CAAA,CAAA,2DAAA,CAAC;wBACtE,IAAI4I,OAAuB,IAAdV,OAAK,CAAA3H,QAAS,EAAA;4BACvBgI,WAAA,CAAAA,CAAA,CAAcA,CAACL,OAAK,CAAA3H,QAAS,CAAAE,SAAqC,IAAvByH,OAAK,CAAA3H,QAAS,CAAAC,QAA2B,IAArE,cAAqE,EAAAsI,WAAa,CAAC,CAAC;4BACnGN,aAAA,CAAAA,CAAA,CAAgBN,OAAK,CAAA3H,QAAS,CAAAG,UAAW;4BACzCgI,QAAA,CAAAA,CAAA,CAAWA,IAAI;4BACf/H,QAAA,CAAAA,CAAA,CAASuH,OAAK,CAAA3H,QAAS,CAAAI,MAAO;wBAAxB;oBACT;oBAGL,MAAAoI,QAAA,GAAiB9F,aAAa,KAAKgF,MAAI,CAAAjI,EAAG;oBAAC,qBAGvC,kNAAC,+LAAI;wBAAO,IAAyB,CAAzB,CAAA,CAAA,aAAA,EAAgBiI,MAAI,CAAAjI,EAAG,EAAC,CAAC,CAAO,GAAO,CAAP;wBAAmB,SAAa,EAAb,aAAa;kCACxE,gOAAA,GA8BM;4BA9BU,SAGf,CAHe,KAAAlB,iJAAE,EACd,iEAAiE,EACjEiK,QAAQ,GAAR,eAAoD,GAApD,uBACJ,EAAC;;8CACG,kNAAA,GASM;oCATS,SAAU,EAAV,UAAU;;sDACrB,kNAAC,oKAAM;4CACEP,GAAa,CAAbA,CAAAA,aAAY,CAAC;4CACR,QAAqB,CAArB,CAAAD,WAAW,CAAA,EAAU,IAArB,GAAoB,CAAC;4CACrB,SAAoD,EAApD,oDAAoD,GAEjE;;;;;;wCAAAG,QAEA,kBADG,kNAAA,IAA4G;4CAA5F,SAAoF,EAApF,oFAAoF,GACxG,CACJ,EATA,GASM;;;;;;;;;;;;8CACN,kNAAA,GAeM;oCAfS,SAA4E,EAA5E,4EAA4E;;sDACvF,kNAAA,GAOM;4CAPS,SAAwC,EAAxC,wCAAwC;;8DACnD,kNAAA,CAEI;oDAFS,SAAgD,EAAhD,gDAAgD;oDAAQ,KAA+B,CAA/B,CAAA;wDAAAM,KAAA,EAASzD,YAAY,CAAC5E,QAAM;oDAAE,EAAC,CAC/F4H;8DAAAA,WAAU,CACf,EAFA,CAEI;;;;;;8DACJ,kNAAA,CAEI;oDAFS,SAAqC,EAArC,qCAAqC,CAC7C;8DAAA9C,UAAU,CAACwC,MAAI,CAAA7H,UAAW,EAC/B,EAFA,CAEI,CACR,EAPA,GAOM;;;;;;;;;;;;sDACN,kNAAA,GAKM;4CALS,SAAmC,EAAnC,mCAAmC;oEAC9C,kNAAA,CAEI;gDAFU,SAA8F,CAA9F,CAAAtB,qJAAE,EAAC,0CAA0C,EAAEiK,QAAQ,GAAR,iBAA8C,GAA9C,eAA8C,EAAC,CACvG;0DAAAd,MAAI,CAAA9H,YAAsC,IAA1C,qBAAyC,CAC9C,EAFA,CAEI,CAER,EALA,GAKM,CACV,EAfA,GAeM,CACV,EA9BA,GA8BM,CACV,EAhCC,IAAI,CAgCE;;;;;;;;;;;;;;;;;;;;;;;uBAhCqC8H,MAAI,CAAAjI,EAAE,CAAC;;;;;gBAgC5C;aAAA,CAAA,CAAA,yBAEd;YAAAoB,CAAA,CAAA,GAAA,GAAA6B,aAAA;YAAA7B,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;YAAAoB,CAAA,CAAA,GAAA,GAAAiH,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAAjH,CAAA,CAAA,GAAA;QAAA;QAzDA2G,GAAA,GAAArG,KAAK,CAAA4F,MAAO,CAACU,GAIb,CAAC,CAAA3D,GAAI,CAACgE,GAqDN,CAAC;QAAAjH,CAAA,CAAA,GAAA,GAAAoB,UAAA;QAAApB,CAAA,CAAA,GAAA,GAAA6B,aAAA;QAAA7B,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;QAAAoB,CAAA,CAAA,GAAA,GAAA2G,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3G,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4G,GAAA;IAAA,IAAA5G,CAAA,CAAA,GAAA,KAAAM,KAAA,CAAAuH,MAAA,EAAA;QACDjB,GAAA,GAAAtG,KAAK,CAAAuH,MAAO,KAAK,CAKjB,kBAJG,kNAAA,GAGM;YAHS,SAA4D,EAA5D,4DAA4D;;8BACvE,kNAAC,iQAAa;oBAAW,SAA8B,EAA9B,8BAA8B;;;;;;8BACvD,kNAAA,CAAkG;oBAArF,SAAkE,EAAlE,kEAAkE;8BAAC,cAAc,EAA9F,CAAkG,CACtG,EAHA,GAGM,CACT;;;;;;;;;;;;QAAA7H,CAAA,CAAA,GAAA,GAAAM,KAAA,CAAAuH,MAAA;QAAA7H,CAAA,CAAA,GAAA,GAAA4G,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5G,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiH,GAAA;IAAA,IAAAjH,CAAA,CAAA,GAAA,KAAA2G,GAAA,IAAA3G,CAAA,CAAA,GAAA,KAAA4G,GAAA,EAAA;QAzEjBK,GAAA,iBAAA,kNAAA,GA6EM;YA7ES,SAAwC,EAAxC,wCAAwC;oCACnD,kNAAA,GA2EM;gBA3ES,SAAoF,EAApF,oFAAoF,CAE/F;;oBAAAP,GAEK;kCAGL,kNAAA,GAmEM;wBAnES,SAA6C,EAA7C,6CAA6C;gDACxD,kNAAA,GAiEM;4BAjES,SAAW,EAAX,WAAW,CACrB;;gCAAAC,GAyDA,CACA;gCAAAC,GAKD,CACJ,EAjEA,GAiEM,CACV,EAnEA,GAmEM,CACV,EA3EA,GA2EM,CACV,EA7EA,GA6EM;;;;;;;;;;;;;;;;;;;;;;;QAAA5G,CAAA,CAAA,GAAA,GAAA2G,GAAA;QAAA3G,CAAA,CAAA,GAAA,GAAA4G,GAAA;QAAA5G,CAAA,CAAA,GAAA,GAAAiH,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjH,CAAA,CAAA,GAAA;IAAA;IAKe,MAAA8H,GAAA,GAAA1H,IAAI,EAAAkF,aAA2B,EAAAhG,UAAA;IAAY,MAAAyI,GAAA,GAAA3H,IAAI,EAAAoF,KAAc,IAAlB,GAAkB;IAAA,IAAAwC,GAAA;IAAA,IAAAhI,CAAA,CAAA,GAAA,KAAA8H,GAAA,IAAA9H,CAAA,CAAA,GAAA,KAAA+H,GAAA,EAAA;QAA1EC,GAAA,iBAAA,kNAAC,oKAAM;YAAM,GAA+B,CAA/B,CAAAF,GAA8B,CAAC;YAAY,QAAkB,CAAlB,CAAAC,GAAiB,CAAC;YAAY,SAA0C,EAA1C,0CAA0C,GAAG;;;;;;QAAA/H,CAAA,CAAA,GAAA,GAAA8H,GAAA;QAAA9H,CAAA,CAAA,GAAA,GAAA+H,GAAA;QAAA/H,CAAA,CAAA,GAAA,GAAAgI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiI,GAAA;IAAA,IAAAjI,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAoF,KAAA,IAAAxF,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAkF,aAAA,EAAAlG,QAAA,EAAA;QAE3C6I,GAAA,GAAA7H,IAAI,EAAAkF,aAAyB,EAAAlG,QAA8B,IAA1BgB,IAAI,EAAAoF,KAAc,EAAA0C,KAAK,CAAJ,GAAM,CAAC,CAAA,EAAA;QAAAlI,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAoF,KAAA;QAAAxF,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAkF,aAAA,EAAAlG,QAAA;QAAAY,CAAA,CAAA,GAAA,GAAAiI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmI,GAAA;IAAA,IAAAnI,CAAA,CAAA,GAAA,KAAAiI,GAAA,EAAA;QAA/IE,GAAA,iBAAA,kNAAA,CAAoJ;YAAvI,SAAqE,EAArE,qEAAqE,CAAE;sBAAAF,GAA0D,CAAE,EAAhJ,CAAoJ;;;;;;QAAAjI,CAAA,CAAA,GAAA,GAAAiI,GAAA;QAAAjI,CAAA,CAAA,GAAA,GAAAmI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoI,GAAA;IAAA,IAAApI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACpJiI,GAAA,iBAAA,kNAAA,CAEI;YAFS,SAAsF,EAAtF,sFAAsF;sBAAC,MAEpG,EAFA,CAEI;;;;;;QAAApI,CAAA,CAAA,GAAA,GAAAoI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqI,GAAA;IAAA,IAAArI,CAAA,CAAA,GAAA,KAAAmI,GAAA,EAAA;QAJRE,GAAA,iBAAA,kNAAA,GAKM;YALS,SAAwB,EAAxB,wBAAwB,CACnC;;gBAAAF,GAAmJ,CACnJ;gBAAAC,GAEG,CACP,EALA,GAKM;;;;;;;QAAApI,CAAA,CAAA,GAAA,GAAAmI,GAAA;QAAAnI,CAAA,CAAA,GAAA,GAAAqI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsI,GAAA;IAAA,IAAAtI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEemI,GAAA,GAAA,CAAA;YAAA,6BAAA7D,CAAA,GAAM1D,eAAe,CAAC,IAAI;SAAC,CAAA,CAAA,4BAAA;QAAAf,CAAA,CAAA,GAAA,GAAAsI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuI,GAAA;IAAA,IAAAvI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAA5CoI,GAAA,iBAAA,kNAAA,MAES;YAFQ,OAA2B,CAA3B,CAAAD,GAA0B,CAAC;YAAY,SAAkF,EAAlF,kFAAkF;oCACtI,kNAAC,8OAAQ;gBAAW,SAAS,EAAT,SAAS,GACjC,EAFA,MAES;;;;;;;;;;;QAAAtI,CAAA,CAAA,GAAA,GAAAuI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAvI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwI,GAAA;IAAA,IAAAxI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAELqI,GAAA,iBAAA,kNAAC,4OAAM;YAAW,SAAS,EAAT,SAAS,GAAG;;;;;;QAAAxI,CAAA,CAAA,GAAA,GAAAwI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAxI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyI,GAAA;IAAA,IAAAzI,CAAA,CAAA,GAAA,KAAAkE,YAAA,EAAA;QALtCuE,GAAA,iBAAA,kNAAA,GAOM;YAPS,SAAY,EAAZ,YAAY,CACvB;;gBAAAF,GAEQ;8BACR,kNAAA,MAES;oBAFQrE,OAAY,CAAZA,CAAAA,YAAW,CAAC;oBAAY,SAAsF,EAAtF,sFAAsF,CAC3H;8BAAAsE,GAA6B,CACjC,EAFA,MAES,CACb,EAPA,GAOM;;;;;;;;;;;;QAAAxI,CAAA,CAAA,GAAA,GAAAkE,YAAA;QAAAlE,CAAA,CAAA,GAAA,GAAAyI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAzI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0I,GAAA;IAAA,IAAA1I,CAAA,CAAA,GAAA,KAAAgI,GAAA,IAAAhI,CAAA,CAAA,GAAA,KAAAqI,GAAA,IAAArI,CAAA,CAAA,GAAA,KAAAyI,GAAA,EAAA;QAhBdC,GAAA,iBAAA,kNAAA,GAkBM;YAlBS,SAA0D,EAA1D,0DAA0D;oCACrE,kNAAA,GAgBM;gBAhBS,SAAyB,EAAzB,yBAAyB,CACpC;;oBAAAV,GAAkI,CAClI;oBAAAK,GAKK,CACL;oBAAAI,GAOK,CACT,EAhBA,GAgBM,CACV,EAlBA,GAkBM;;;;;;;;;;;;QAAAzI,CAAA,CAAA,GAAA,GAAAgI,GAAA;QAAAhI,CAAA,CAAA,GAAA,GAAAqI,GAAA;QAAArI,CAAA,CAAA,GAAA,GAAAyI,GAAA;QAAAzI,CAAA,CAAA,GAAA,GAAA0I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2I,GAAA;IAAA,IAAA3I,CAAA,CAAA,GAAA,KAAA+E,GAAA,IAAA/E,CAAA,CAAA,GAAA,KAAAyG,GAAA,IAAAzG,CAAA,CAAA,GAAA,KAAAiH,GAAA,IAAAjH,CAAA,CAAA,GAAA,KAAA0I,GAAA,EAAA;QAvLVC,GAAA,iBAAA,kNAAA,KAwLQ;YAxLS,SAAgF,EAAhF,gFAAgF,CAE7F;;gBAAA5D,GA2BK,CAGL;gBAAAE,GAUK,CAGL;gBAAAwB,GAqCK,CAGL;gBAAAQ,GA6EK,CAGL;gBAAAyB,GAkBK,CACT,EAxLA,KAwLQ;;;;;;;QAAA1I,CAAA,CAAA,GAAA,GAAA+E,GAAA;QAAA/E,CAAA,CAAA,GAAA,GAAAyG,GAAA;QAAAzG,CAAA,CAAA,GAAA,GAAAiH,GAAA;QAAAjH,CAAA,CAAA,GAAA,GAAA0I,GAAA;QAAA1I,CAAA,CAAA,GAAA,GAAA2I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4I,GAAA;IAAA,IAAA5I,CAAA,CAAA,GAAA,KAAAU,UAAA,IAAAV,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;QACPgK,GAAA,GAAAlI,UAA0F,kBAA5E,kNAAC,0KAAU;YAAU,OAA0B,CAA1B,CAAA;gBAAA,iCAAAmI,CAAA,GAAMlI,aAAa,CAAC,KAAK;YAAC,CAAA,CAAA,gCAAD,CAAC;YAAiB,aAAQ,CAAR,CAAAP,IAAI,EAAAxB,EAAG,CAAC,GAAI;;;;;;QAAAoB,CAAA,CAAA,GAAA,GAAAU,UAAA;QAAAV,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;QAAAoB,CAAA,CAAA,GAAA,GAAA4I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8I,GAAA;IAAA,IAAA9I,CAAA,CAAA,GAAA,KAAAY,YAAA,IAAAZ,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAxB,EAAA,EAAA;QAC1FkK,GAAA,GAAAlI,YAAsG,kBAAtF,kNAAC,0LAAkB;YAAU,OAA4B,CAA5B,CAAA;gBAAA,yCAAAmI,CAAA,GAAMlI,eAAe,CAAC,KAAK;YAAC,CAAA,CAAA,wCAAD,CAAC;YAAiB,aAAQ,CAAR,CAAAT,IAAI,EAAAxB,EAAG,CAAC,GAAI;;;;;;QAAAoB,CAAA,CAAA,GAAA,GAAAY,YAAA;QAAAZ,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAxB,EAAA;QAAAoB,CAAA,CAAA,GAAA,GAAA8I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgJ,GAAA;IAAA,IAAAhJ,CAAA,CAAA,GAAA,KAAAc,YAAA,IAAAd,CAAA,CAAA,GAAA,KAAAI,IAAA,EAAA;QACtG4I,GAAA,GAAAlI,YAAoF,kBAApE,kNAAC,gLAAa;YAAU,OAA4B,CAA5B,CAAA;gBAAA,oCAAAmI,CAAA,GAAMlI,eAAe,CAAC,KAAK;YAAC,CAAA,CAAA,mCAAD,CAAC;YAAQX,IAAI,CAAJA,CAAAA,IAAG,CAAC,GAAI;;;;;;QAAAJ,CAAA,CAAA,GAAA,GAAAc,YAAA;QAAAd,CAAA,CAAA,GAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,IAAA,GAAAgJ,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhJ,CAAA,CAAA,IAAA;IAAA;IAAA,IAAAkJ,GAAA;IAAA,IAAAlJ,CAAA,CAAA,IAAA,KAAA2I,GAAA,IAAA3I,CAAA,CAAA,IAAA,KAAA4I,GAAA,IAAA5I,CAAA,CAAA,IAAA,KAAA8I,GAAA,IAAA9I,CAAA,CAAA,IAAA,KAAAgJ,GAAA,EAAA;QA5LzFE,GAAA,iBAAA,EACI;;gBAAAP,GAwLO,CACN;gBAAAC,GAAyF,CACzF;gBAAAE,GAAqG,CACrG;gBAAAE,GAAmF,CAAC,GACtF;;;QAAAhJ,CAAA,CAAA,IAAA,GAAA2I,GAAA;QAAA3I,CAAA,CAAA,IAAA,GAAA4I,GAAA;QAAA5I,CAAA,CAAA,IAAA,GAAA8I,GAAA;QAAA9I,CAAA,CAAA,IAAA,GAAAgJ,GAAA;QAAAhJ,CAAA,CAAA,IAAA,GAAAkJ,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlJ,CAAA,CAAA,IAAA;IAAA;IAAA,OA7LHkJ,GA6LG;AAAA;GAxTJpJ;;kLAQ2B,CAAC,CAAC;iLAEJ,CAAC,CAAC;QACT1B,6KAAe,CAAC,CAAC;QACvBD,uKAAS,CAAC,CAAC;;;;AAZvB,SAAAgI,kBAAAgD,GAAA;IAAA,OAwL4GnD,GAAC,CAAA9G,OAAQ;AAAA;AAxLrH,SAAAoF,mBAAA8E,OAAA;IA8GC,IAAI,CAACA,OAAO,EAAA;QAAA,OAAS,EAAE;IAAA;IACvB,MAAAC,IAAA,GAAa,IAAIC,IAAI,CAACF,OAAO,CAAC;IAC9B,MAAAG,GAAA,GAAY,IAAID,IAAI,CAAC,CAAC;IACtB,MAAAE,IAAA,GAAaD,GAAG,CAAAE,OAAQ,CAAC,CAAC,GAAGJ,IAAI,CAAAI,OAAQ,CAAC,CAAC;IAC3C,MAAAC,OAAA,GAAgBC,IAAI,CAAAC,KAAM,CAACJ,IAAI,GAAG,KAAK,CAAC;IACxC,IAAIE,OAAO,GAAG,CAAC,EAAA;QAAA,OAAS,UAAU;IAAA;IAClC,IAAIA,OAAO,GAAG,EAAE,EAAA;QAAA,OAAS,GAAGA,OAAO,CAAA,CAAA,CAAG;IAAA;IACtC,MAAAG,KAAA,GAAcF,IAAI,CAAAC,KAAM,CAACF,OAAO,GAAG,EAAE,CAAC;IACtC,IAAIG,KAAK,GAAG,EAAE,EAAA;QAAA,OAAS,GAAGA,KAAK,CAAA,CAAA,CAAG;IAAA;IAAC,OAC5BR,IAAI,CAAAS,kBAAmB,CAAC,EAAE,EAAE;QAAAC,KAAA,EAAS,OAAO;QAAAC,GAAA,EAAO;IAAU,CAAC,CAAC;AAAA;AAvHvE,SAAA5F,qBAAA7E,MAAA;IAqGC,OAAQA,MAAM,EAAA0K,WAAe,CAAD,CAAC;QAAA,KACpB,MAAM;YAAA;gBAAA,OAAS,SAAS;YAAA;QAAA,KACxB,QAAQ;YAAA;gBAAA,OAAS,SAAS;YAAA;QAAA,KAC1B,OAAO;YAAA;gBAAA,OAAS,SAAS;YAAA;QAAA;YAAA;gBAAA,OACd,MAAM;YAAA;IAC1B;AAAC;AA1GF,SAAA/G,4CAAAgH,CAAA;IAAA,OA0D+CA,CAAC,CAAAC,UAAW;AAAA","ignoreList":[]}},
    {"offset": {"line": 5477, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams } from \"next/navigation\";\nimport { Suspense, useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { User } from \"@supabase/supabase-js\";\nimport ChatWindow from \"@/components/chat-window\";\nimport { Sidebar } from \"@/components/sidebar\";\n\nfunction ChatContent() {\n    const searchParams = useSearchParams();\n    const roomId = searchParams.get(\"roomId\");\n    const [user, setUser] = useState<User | null>(null);\n    const supabase = createClient();\n\n    useEffect(() => {\n        supabase.auth.getUser().then(({ data: { user } }) => setUser(user));\n    }, [supabase.auth]);\n\n    if (!user) return null;\n\n    if (!roomId) {\n        return <Sidebar user={user} />;\n    }\n\n    return <ChatWindow roomId={roomId} user={user} />;\n}\n\nexport default function DashboardPage() {\n    return (\n        <Suspense fallback={<div>Loading...</div>}>\n            <ChatContent />\n        </Suspense>\n    );\n}\n"],"names":["c","_c","useSearchParams","Suspense","useEffect","useState","createClient","User","ChatWindow","Sidebar","ChatContent","$","$i","Symbol","for","searchParams","t0","get","roomId","user","setUser","t1","supabase","t2","t3","ChatContent[useEffect()]","auth","getUser","then","t4","data","t5","user_0","DashboardPage"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,eAAe,QAAQ,iBAAiB;AACjD,SAASC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACrD,SAASC,YAAY,QAAQ,uBAAuB;AAEpD,OAAOE,UAAU,MAAM,0BAA0B;AACjD,SAASC,OAAO,QAAQ,sBAAsB;;;AAP9C,YAAY;;;;;;;AASZ;;IAAA,MAAAE,CAAA,OAAAV,qMAAA,EAAA;IAAA,IAAAU,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACI,MAAAI,YAAA,GAAqBb;IAAkB,IAAAc,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAI,YAAA,EAAA;QACxBC,EAAA,GAAAD,YAAY,CAAAE,GAAI,CAAC,QAAQ,CAAC;QAAAN,CAAA,CAAA,EAAA,GAAAI,YAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAzC,MAAAO,MAAA,GAAeF,EAA0B;IACzC,MAAA,CAAAG,IAAA,EAAAC,OAAA,CAAA,OAAwBf,8LAAQ,EAAc,IAAI,CAAC;IAAC,IAAAgB,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACnCO,EAAA,OAAAf,wKAAY,CAAC,CAAC;QAAAK,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAA/B,MAAAW,QAAA,GAAiBD,EAAc;IAAC,IAAAE,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEtBS,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA;gBACNH,QAAQ,CAAAI,IAAK,CAAAC,OAAQ,CAAC,CAAC,CAAAC,IAAK,CAAC;oBAAA,4CAAAC,EAAA;wBAAC,MAAA,EAAAC,IAAA,EAAAC,EAAAA,EAAA,GAAAF,EAAkB;wBAAV,MAAA,EAAAV,IAAA,EAAAa,MAAAA,EAAA,GAAAD,EAAQ;wBAAA,OAAOX,OAAO,CAACD,MAAI,CAAC;oBAAA;gBAAA,CAAA,CAAA,2CAAA,CAAC;YAAA;SAAA,CAAA,CAAA,2BACtE;QAAEK,EAAA,GAAA;YAACF,QAAQ,CAAAI,IAAK;SAAC;QAAAf,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAZ,CAAA,CAAA,EAAA;QAAAa,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;QAFlBP,+LAAS,EAACmB,EAET,EAAEC,EAAe,CAAC;IAEnB,IAAI,CAACL,IAAI,EAAA;QAAA,OAAS,IAAI;IAAA;IAEtB,IAAI,CAACD,MAAM,EAAA;QAAA,IAAAW,EAAA;QAAA,IAAAlB,CAAA,CAAA,EAAA,KAAAQ,IAAA,EAAA;YACAU,EAAA,iBAAA,kNAAC,gKAAO;gBAAOV,IAAI,CAAJA,CAAAA,IAAG,CAAC,GAAI;;;;;;YAAAR,CAAA,CAAA,EAAA,GAAAQ,IAAA;YAAAR,CAAA,CAAA,EAAA,GAAAkB,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAlB,CAAA,CAAA,EAAA;QAAA;QAAA,OAAvBkB,EAAuB;IAAA;IACjC,IAAAA,EAAA;IAAA,IAAAlB,CAAA,CAAA,EAAA,KAAAO,MAAA,IAAAP,CAAA,CAAA,EAAA,KAAAQ,IAAA,EAAA;QAEMU,EAAA,iBAAA,kNAAC,uKAAU;YAASX,MAAM,CAANA,CAAAA,MAAK,CAAC;YAAQC,IAAI,CAAJA,CAAAA,IAAG,CAAC,GAAI;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAO,MAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,IAAA;QAAAR,CAAA,CAAA,GAAA,GAAAkB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlB,CAAA,CAAA,GAAA;IAAA;IAAA,OAA1CkB,EAA0C;AAAA;;;qLAfb,CAAC,CAAC;;;KAD1CnB,YAAA;AAmBe;IAAA,MAAAC,CAAA,OAAAV,qMAAA,EAAA;IAAA,IAAAU,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAK,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEPE,EAAA,iBAAA,kNAAC,8LAAQ;YAAW,QAAqB,CAArB,eAAA,kNAAA,GAAqB;0BAAhB,UAAU,EAAf,GAAqB,CAAD,CAAC;;;;;;sBACrC,gOAAC,WAAW,GAChB,EAFC,QAAQ,CAEE;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,OAFXK,EAEW;AAAA;MAJJiB,cAAA","ignoreList":[]}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/group-info.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { X, UserPlus, Trash2, Shield, ShieldAlert, LogOut } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\n\ninterface GroupInfoProps {\n    roomId: string;\n    onClose: () => void;\n    currentUserId: string;\n}\n\ninterface Participant extends Profile {\n    role: 'owner' | 'admin' | 'member';\n}\n\nexport function GroupInfo({ roomId, onClose, currentUserId }: GroupInfoProps) {\n    const [participants, setParticipants] = useState<Participant[]>([]);\n    const [roomName, setRoomName] = useState(\"\");\n    const [isGroup, setIsGroup] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [isAdmin, setIsAdmin] = useState(false);\n\n    // For adding members\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchResults, setSearchResults] = useState<Profile[]>([]);\n    const [showAdd, setShowAdd] = useState(false);\n\n    const supabase = createClient();\n\n    useEffect(() => {\n        fetchDetails();\n    }, [roomId]);\n\n    const fetchDetails = async () => {\n        // Fetch Room\n        const { data: room } = await supabase.from('rooms').select('*').eq('id', roomId).single();\n        if (room) {\n            setRoomName(room.name || \"Chat\");\n            setIsGroup(room.is_group);\n        }\n\n        // Fetch Participants\n        const { data: parts } = await supabase\n            .from('room_participants')\n            .select(`role, profiles(*)`)\n            .eq('room_id', roomId);\n\n        if (parts) {\n            const mapped = parts.map((p: any) => ({\n                ...p.profiles,\n                role: p.role\n            }));\n            setParticipants(mapped);\n\n            const me = mapped.find((p: any) => p.id === currentUserId);\n            if (me && (me.role === 'owner' || me.role === 'admin')) setIsAdmin(true);\n        }\n        setLoading(false);\n    };\n\n    const handleUpdateName = async () => {\n        if (!roomName.trim()) return;\n        await supabase.from('rooms').update({ name: roomName }).eq('id', roomId);\n        alert(\"Group name updated\");\n    };\n\n    const handleSearch = async () => {\n        if (!searchQuery) return;\n        const { data } = await supabase.from('profiles')\n            .select('*')\n            .ilike('username', `%${searchQuery}%`)\n            .limit(5);\n        if (data) setSearchResults(data);\n    };\n\n    const addMember = async (userId: string) => {\n        const { error } = await supabase.from('room_participants').insert({\n            room_id: roomId,\n            user_id: userId,\n            role: 'member'\n        });\n        if (error) alert(error.message);\n        else {\n            alert(\"Member added\");\n            setShowAdd(false);\n            fetchDetails();\n        }\n    };\n\n    const removeMember = async (userId: string) => {\n        if (!confirm(\"Remove this user?\")) return;\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', userId);\n        setParticipants(prev => prev.filter(p => p.id !== userId));\n    };\n\n    const promoteMember = async (userId: string) => {\n        await supabase.from('room_participants').update({ role: 'admin' }).eq('room_id', roomId).eq('user_id', userId);\n        fetchDetails();\n    };\n\n    const leaveGroup = async () => {\n        if (!confirm(\"Leave this group?\")) return;\n        await supabase.from('room_participants').delete().eq('room_id', roomId).eq('user_id', currentUserId);\n        onClose();\n        window.location.href = '/chat';\n    };\n\n    if (loading) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white\">Group Info</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 overflow-y-auto custom-scrollbar flex-1 space-y-6\">\n                    {/* Header Info */}\n                    <div className=\"flex flex-col items-center gap-3\">\n                        <Avatar fallback={roomName} className=\"w-20 h-20 text-2xl\" />\n                        {isAdmin ? (\n                            <div className=\"flex gap-2 w-full\">\n                                <input\n                                    value={roomName}\n                                    onChange={(e) => setRoomName(e.target.value)}\n                                    className=\"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-center font-bold text-white focus:border-primary outline-none\"\n                                />\n                                <button onClick={handleUpdateName} className=\"text-xs text-primary hover:underline\">Save</button>\n                            </div>\n                        ) : (\n                            <h3 className=\"text-xl font-bold text-white\">{roomName}</h3>\n                        )}\n                        <p className=\"text-xs text-white/40\">{participants.length} members</p>\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex justify-center gap-4\">\n                        {isAdmin && (\n                            <button onClick={() => setShowAdd(!showAdd)} className=\"flex flex-col items-center gap-1 text-primary hover:opacity-80\">\n                                <div className=\"p-3 bg-primary/10 rounded-full\"><UserPlus className=\"w-5 h-5\" /></div>\n                                <span className=\"text-xs\">Add</span>\n                            </button>\n                        )}\n                        <button onClick={leaveGroup} className=\"flex flex-col items-center gap-1 text-red-400 hover:opacity-80\">\n                            <div className=\"p-3 bg-red-500/10 rounded-full\"><LogOut className=\"w-5 h-5\" /></div>\n                            <span className=\"text-xs\">Leave</span>\n                        </button>\n                    </div>\n\n                    {/* Add Member Search */}\n                    {showAdd && (\n                        <div className=\"bg-white/5 p-3 rounded-xl space-y-2 animate-in slide-in-from-top-2\">\n                            <div className=\"flex gap-2\">\n                                <input\n                                    className=\"flex-1 bg-black/20 border border-white/10 rounded-lg px-3 py-2 text-sm text-white\"\n                                    placeholder=\"Search username...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                />\n                                <button onClick={handleSearch} className=\"px-3 bg-primary rounded-lg text-white text-xs\">Search</button>\n                            </div>\n                            <div className=\"space-y-1 max-h-32 overflow-y-auto\">\n                                {searchResults.map(u => (\n                                    <div key={u.id} className=\"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Avatar src={u.avatar_url || undefined} fallback={u.username || \"?\"} className=\"w-6 h-6\" />\n                                            <span className=\"text-sm text-white\">{u.username}</span>\n                                        </div>\n                                        <button onClick={() => addMember(u.id)} className=\"text-primary text-xs hover:underline\">Add</button>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Participants List */}\n                    <div>\n                        <h4 className=\"text-sm font-bold text-white/50 mb-2 uppercase tracking-wider\">Participants</h4>\n                        <div className=\"space-y-2\">\n                            {participants.map((p) => (\n                                <div key={p.id} className=\"flex items-center justify-between p-2 rounded-xl hover:bg-white/5 transition-colors group\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <Avatar src={p.avatar_url || undefined} fallback={p.username || \"?\"} />\n                                        <div>\n                                            <p className=\"text-sm font-medium text-white flex items-center gap-1\">\n                                                {p.full_name || p.username}\n                                                {p.role === 'owner' && <ShieldAlert className=\"w-3 h-3 text-yellow-500\" />}\n                                                {p.role === 'admin' && <Shield className=\"w-3 h-3 text-blue-400\" />}\n                                            </p>\n                                            <p className=\"text-xs text-white/40 capitalize\">{p.role}</p>\n                                        </div>\n                                    </div>\n\n                                    {isAdmin && currentUserId !== p.id && (\n                                        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                            {p.role === 'member' && (\n                                                <button onClick={() => promoteMember(p.id)} className=\"p-1 hover:bg-blue-500/20 text-blue-400 rounded\" title=\"Promote\">\n                                                    <Shield className=\"w-4 h-4\" />\n                                                </button>\n                                            )}\n                                            <button onClick={() => removeMember(p.id)} className=\"p-1 hover:bg-red-500/20 text-red-400 rounded\" title=\"Remove\">\n                                                <Trash2 className=\"w-4 h-4\" />\n                                            </button>\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","X","UserPlus","Trash2","Shield","ShieldAlert","LogOut","Profile","cn","GroupInfoProps","roomId","onClose","currentUserId","Participant","role","GroupInfo","participants","setParticipants","roomName","setRoomName","isGroup","setIsGroup","loading","setLoading","isAdmin","setIsAdmin","searchQuery","setSearchQuery","searchResults","setSearchResults","showAdd","setShowAdd","supabase","fetchDetails","data","room","from","select","eq","single","name","is_group","parts","mapped","map","p","profiles","me","find","id","handleUpdateName","trim","update","alert","handleSearch","ilike","limit","addMember","userId","error","insert","room_id","user_id","message","removeMember","confirm","delete","prev","filter","promoteMember","leaveGroup","window","location","href","e","target","value","length","u","avatar_url","undefined","username","full_name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/chat-window.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { ArrowLeft, Mic, Send, Paperclip, X, Image as ImageIcon, Check, CheckCheck, Trash2, Ban, Phone, Video, MoreVertical, Loader2, Square, Reply as ReplyIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { useCall } from \"@/contexts/call-context\";\nimport { Message, MessageType } from \"@/lib/types\";\nimport { GroupInfo } from \"./group-info\";\nimport { useParams, useRouter } from \"next/navigation\";\n\nexport default function ChatWindow({ roomId, user }: { roomId: string; user: any }) {\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [newMessage, setNewMessage] = useState(\"\");\n    const [room, setRoom] = useState<any>(null);\n    const [uploading, setUploading] = useState(false);\n    const [showGroupInfo, setShowGroupInfo] = useState(false);\n    const [recording, setRecording] = useState(false);\n    const [audioBlob, setAudioBlob] = useState<Blob | null>(null);\n    const [replyingTo, setReplyingTo] = useState<Message | null>(null);\n    const [isBlocked, setIsBlocked] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [headerName, setHeaderName] = useState(\"Chat Room\");\n    const [headerAvatar, setHeaderAvatar] = useState<string | undefined>(undefined);\n    const [headerGender, setHeaderGender] = useState<string | undefined>(undefined);\n\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n    const chunksRef = useRef<Blob[]>([]);\n    const scrollRef = useRef<HTMLDivElement>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const supabase = createClient();\n    const router = useRouter();\n\n    const { startCall } = useCall();\n    const { addToast } = useToast();\n\n    useEffect(() => {\n        const fetchRoomAndMessages = async () => {\n            setLoading(true);\n            const { data: roomData } = await supabase\n                .from(\"rooms\")\n                .select(`*, room_participants(user_id, profiles(username, full_name, avatar_url, gender))`)\n                .eq(\"id\", roomId)\n                .single();\n\n            setRoom(roomData);\n\n            if (roomData) {\n                if (roomData.is_group === false && roomData.room_participants) {\n                    const other = roomData.room_participants.find((p: any) => p.user_id !== user.id);\n                    if (other && other.profiles) {\n                        const name = (other.profiles.full_name || other.profiles.username || \"Unknown User\").toUpperCase();\n                        setHeaderName(name);\n                        setHeaderAvatar(other.profiles.avatar_url);\n                        setHeaderGender(other.profiles.gender);\n\n                        const { data: blockData } = await supabase\n                            .from(\"blocked_users\")\n                            .select(\"*\")\n                            .eq(\"blocker_id\", user.id)\n                            .eq(\"blocked_id\", other.user_id)\n                            .maybeSingle();\n\n                        setIsBlocked(!!blockData);\n                    }\n                } else {\n                    setHeaderName((roomData.name || \"Group Chat\").toUpperCase());\n                }\n            }\n\n            const { data: msgData } = await supabase\n                .from(\"messages\")\n                .select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`)\n                .eq(\"room_id\", roomId)\n                .order(\"created_at\", { ascending: true });\n\n            if (msgData) setMessages(msgData as any);\n            setLoading(false);\n        };\n\n        fetchRoomAndMessages();\n\n        const channel = supabase\n            .channel(`room:${roomId}`)\n            .on(\"postgres_changes\", { event: \"INSERT\", schema: \"public\", table: \"messages\", filter: `room_id=eq.${roomId}` },\n                async (payload) => {\n                    const { data } = await supabase.from(\"messages\").select(`*, profiles(username, avatar_url, gender), reply_item: messages!reply_to(content, message_type, profiles(username))`).eq(\"id\", payload.new.id).single();\n                    if (data) setMessages((prev) => [...prev, data as any]);\n                })\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(channel);\n        };\n    }, [roomId, user.id, supabase]);\n\n    useEffect(() => {\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n\n        const unreadIds = messages\n            .filter(m => m.user_id !== user.id && !m.read_at)\n            .map(m => m.id);\n\n        if (unreadIds.length > 0) {\n            supabase\n                .from(\"messages\")\n                .update({ read_at: new Date().toISOString() })\n                .in(\"id\", unreadIds)\n                .then(() => { });\n        }\n    }, [messages, user.id, supabase]);\n\n    const getNameColor = (gender?: string) => {\n        switch (gender?.toLowerCase()) {\n            case 'male': return '#00BFFF';\n            case 'female': return '#FFB6C1';\n            case 'other': return '#FFD700';\n            default: return '#FFF';\n        }\n    };\n\n    const handleSendMessage = async (e?: React.FormEvent, type: MessageType = 'text', mediaUrl?: string, meta?: any) => {\n        if (e) e.preventDefault();\n        if (isBlocked) return;\n\n        let content = type === 'text' ? newMessage : null;\n        if (type === 'text' && !content?.trim()) return;\n\n        if (!content && type !== 'text') {\n            if (type === 'image') content = 'ðŸ“· Image';\n            else if (type === 'video') content = 'ðŸ“¹ Video';\n            else if (type === 'audio') content = 'ðŸŽ¤ Voice Note';\n            else content = 'ðŸ“Ž Attachment';\n        }\n\n        const { error } = await supabase.from(\"messages\").insert({\n            room_id: roomId,\n            user_id: user.id,\n            content: content,\n            message_type: type,\n            media_url: mediaUrl,\n            media_meta: meta,\n            reply_to: replyingTo?.id,\n            status: 'sent',\n            is_deleted: false\n        });\n\n        if (!error) {\n            if (type === 'text') setNewMessage(\"\");\n            setReplyingTo(null);\n\n            // Update room updated_at\n            await supabase.from(\"rooms\").update({ updated_at: new Date().toISOString() }).eq(\"id\", roomId);\n        }\n    };\n\n    const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file || isBlocked) return;\n\n        setUploading(true);\n        const fileName = `${Date.now()}_${file.name}`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, file);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n\n        let type: MessageType = 'document';\n        if (file.type.startsWith('image/')) type = 'image';\n        else if (file.type.startsWith('video/')) type = 'video';\n        else if (file.type.startsWith('audio/')) type = 'audio';\n\n        await handleSendMessage(undefined, type, publicUrl, { size: file.size, name: file.name });\n        setUploading(false);\n    };\n\n    const handleDeleteMessage = async (messageId: string) => {\n        const { error } = await supabase\n            .from(\"messages\")\n            .update({ content: \"ðŸš« Message deleted\", is_deleted: true, media_url: null, media_meta: null })\n            .eq(\"id\", messageId);\n\n        if (error) addToast(\"Failed to delete message\", \"error\");\n    };\n\n    const startRecording = async () => {\n        if (isBlocked) return;\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            const mediaRecorder = new MediaRecorder(stream);\n            mediaRecorderRef.current = mediaRecorder;\n            chunksRef.current = [];\n\n            mediaRecorder.ondataavailable = (e) => {\n                if (e.data.size > 0) chunksRef.current.push(e.data);\n            };\n\n            mediaRecorder.onstop = () => {\n                const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n                setAudioBlob(blob);\n                stream.getTracks().forEach(track => track.stop());\n            };\n\n            mediaRecorder.start();\n            setRecording(true);\n        } catch (err) {\n            console.error(\"Error accessing microphone:\", err);\n            addToast(\"Could not access microphone\", \"error\");\n        }\n    };\n\n    const stopRecording = () => {\n        if (mediaRecorderRef.current && recording) {\n            mediaRecorderRef.current.stop();\n            setRecording(false);\n        }\n    };\n\n    const cancelRecording = () => {\n        stopRecording();\n        setAudioBlob(null);\n        chunksRef.current = [];\n    };\n\n    const sendVoiceNote = async () => {\n        if (!audioBlob || isBlocked) return;\n        setUploading(true);\n        const fileName = `${Date.now()}.webm`;\n        const filePath = `${roomId}/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n            .from('chat-media')\n            .upload(filePath, audioBlob);\n\n        if (uploadError) {\n            addToast(uploadError.message, \"error\");\n            setUploading(false);\n            return;\n        }\n\n        const { data: { publicUrl } } = supabase.storage.from('chat-media').getPublicUrl(filePath);\n        await handleSendMessage(undefined, 'audio', publicUrl, { duration: 0 });\n        setAudioBlob(null);\n        setUploading(false);\n    };\n\n    const handleBlockUser = async () => {\n        if (!room || room.is_group) return;\n        const other = room.room_participants?.find((p: any) => p.user_id !== user?.id);\n        if (!other) return;\n\n        try {\n            if (isBlocked) {\n                await supabase.from(\"blocked_users\").delete().eq(\"blocker_id\", user?.id).eq(\"blocked_id\", other.user_id);\n                setIsBlocked(false);\n                addToast(\"User unblocked\", \"success\");\n            } else {\n                await supabase.from(\"blocked_users\").insert({ blocker_id: user?.id, blocked_id: other.user_id });\n                setIsBlocked(true);\n                addToast(\"User blocked\", \"error\");\n                router.push('/chat');\n            }\n        } catch (err: any) {\n            addToast(\"Action failed\", \"error\");\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex-1 flex flex-col items-center justify-center bg-black\">\n                <Loader2 className=\"w-10 h-10 text-primary animate-spin\" />\n                <p className=\"mt-4 text-white/50 font-bold tracking-widest uppercase text-[10px]\">Establishing Secure Line...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-full bg-black relative\">\n            {/* Background Glow */}\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] pointer-events-none\" />\n\n            {/* Chat Header */}\n            <div className=\"px-6 py-4 flex items-center justify-between bg-black/80 backdrop-blur-xl border-b border-white/5 z-20\">\n                <div className=\"flex items-center gap-4\">\n                    <button onClick={() => router.push('/chat')} className=\"p-2 -ml-2 hover:bg-white/5 rounded-xl text-white/30 hover:text-white transition-all\">\n                        <ArrowLeft className=\"w-6 h-6\" strokeWidth={3} />\n                    </button>\n                    <div className=\"relative\">\n                        <div className=\"w-11 h-11 rounded-2xl p-0.5 bg-gradient-to-br from-primary/30 to-secondary/30\">\n                            <Avatar src={headerAvatar} fallback={headerName[0] || \"?\"} className=\"w-full h-full rounded-[14px]\" />\n                        </div>\n                        <div className=\"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-online border-[3px] border-black rounded-full shadow-lg shadow-online/20\"></div>\n                    </div>\n                    <div>\n                        <h3 className=\"text-[17px] font-black tracking-tight\" style={{ color: getNameColor(headerGender) }}>{headerName}</h3>\n                        <div className=\"flex items-center gap-1.5 mt-0.5\">\n                            <div className=\"w-1.5 h-1.5 bg-online rounded-full animate-pulse shadow-sm shadow-online\" />\n                            <p className=\"text-[11px] font-black text-primary uppercase tracking-widest\">Active Now</p>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-1\">\n                    <button onClick={() => startCall(roomId, false)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-primary transition-all\">\n                        <Phone className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                    <button onClick={() => startCall(roomId, true)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-secondary transition-all\">\n                        <Video className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                    <button onClick={() => setShowGroupInfo(true)} className=\"p-2.5 hover:bg-white/5 rounded-xl text-white/40 hover:text-white transition-all\">\n                        <MoreVertical className=\"w-5 h-5\" strokeWidth={2.5} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Messages Area */}\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar relative z-10\" ref={scrollRef}>\n                <div className=\"flex justify-center mb-8\">\n                    <div className=\"px-4 py-1 rounded-full bg-white/5 border border-white/10\">\n                        <span className=\"text-[10px] font-black text-white/30 uppercase tracking-[0.2em]\">Today</span>\n                    </div>\n                </div>\n\n                {messages.map((msg, index) => {\n                    const isMe = msg.user_id === user.id;\n                    const prevMsg = messages[index - 1];\n                    const isSameUser = prevMsg?.user_id === msg.user_id;\n\n                    return (\n                        <div key={msg.id} className={cn(\"flex flex-col\", isMe ? \"items-end\" : \"items-start\")}>\n                            {!isMe && !isSameUser && (\n                                <span className=\"text-[10px] font-black text-white/20 mb-1.5 ml-14 uppercase tracking-wider\" style={{ color: getNameColor((msg.profiles as any)?.gender) }}>\n                                    {(msg.profiles as any)?.username}\n                                </span>\n                            )}\n                            <div className={cn(\"flex items-end gap-3 max-w-[85%]\", isMe && \"flex-row-reverse\")}>\n                                {!isMe && (\n                                    <div className=\"w-8 h-8 rounded-xl overflow-hidden ring-1 ring-white/10 flex-shrink-0\">\n                                        {!isSameUser ? (\n                                            <Avatar src={(msg.profiles as any)?.avatar_url || ''} fallback={(msg.profiles as any)?.username?.[0] || \"?\"} className=\"w-full h-full\" />\n                                        ) : <div className=\"w-full h-full\" />}\n                                    </div>\n                                )}\n\n                                <div className={cn(\n                                    \"px-4 py-3 relative group transition-all\",\n                                    isMe\n                                        ? \"bg-primary text-black rounded-[22px] rounded-br-[4px] shadow-lg shadow-primary/10\"\n                                        : \"bg-white/5 text-white rounded-[22px] rounded-bl-[4px] border border-white/5\"\n                                )}>\n                                    {/* Action Buttons */}\n                                    <div className={cn(\n                                        \"absolute -top-8 px-2 py-1 bg-black/60 backdrop-blur-md rounded-xl border border-white/10 flex gap-2 opacity-0 group-hover:opacity-100 transition-all z-20\",\n                                        isMe ? \"right-0\" : \"left-0\"\n                                    )}>\n                                        <button\n                                            onClick={() => setReplyingTo(msg)}\n                                            className=\"text-white/60 hover:text-primary transition-colors\"\n                                        >\n                                            <ReplyIcon size={14} />\n                                        </button>\n                                        {isMe && !msg.is_deleted && (\n                                            <button\n                                                onClick={() => handleDeleteMessage(msg.id)}\n                                                className=\"text-white/60 hover:text-secondary transition-colors\"\n                                            >\n                                                <Trash2 size={14} />\n                                            </button>\n                                        )}\n                                    </div>\n\n                                    {msg.is_deleted ? (\n                                        <p className=\"italic text-[13px] opacity-40 font-medium tracking-tight\">ðŸš« Ghost message deleted</p>\n                                    ) : (\n                                        <>\n                                            {/* Replying To Preview */}\n                                            {msg.reply_item && (\n                                                <div className={cn(\n                                                    \"mb-2 p-2 rounded-xl flex flex-col gap-0.5 border-l-4\",\n                                                    isMe ? \"bg-black/5 border-black/20\" : \"bg-white/5 border-primary/40\"\n                                                )}>\n                                                    <span className={cn(\"text-[9px] font-black uppercase tracking-widest\", isMe ? \"text-black/50\" : \"text-primary/70\")}>\n                                                        {msg.reply_item.profiles?.username || 'GOSSIPER'}\n                                                    </span>\n                                                    <p className={cn(\"text-[11px] font-bold truncate italic opacity-60\", isMe ? \"text-black\" : \"text-white\")}>\n                                                        {msg.reply_item.message_type === 'text' ? msg.reply_item.content : `[MEDIA ${msg.reply_item.message_type.toUpperCase()}]`}\n                                                    </p>\n                                                </div>\n                                            )}\n\n                                            {msg.message_type === 'text' && <p className=\"text-[15px] font-medium leading-relaxed tracking-tight\">{msg.content}</p>}\n                                            {msg.message_type === 'image' && (\n                                                <div className=\"rounded-2xl overflow-hidden my-1 border border-white/10\">\n                                                    <img src={msg.media_url || ''} alt=\"\" className=\"max-w-full max-h-[400px] w-auto h-auto object-cover\" />\n                                                </div>\n                                            )}\n                                        </>\n                                    )}\n\n                                    <div className={cn(\"flex items-center gap-1.5 mt-1.5\", isMe ? \"justify-end\" : \"justify-start\")}>\n                                        <span className={cn(\"text-[10px] font-black uppercase tracking-widest\", isMe ? \"text-black/40\" : \"text-white/20\")}>\n                                            {new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                        {isMe && (\n                                            msg.read_at\n                                                ? <CheckCheck size={12} className=\"text-black/60\" />\n                                                : <Check size={12} className=\"text-black/40\" />\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n                {uploading && (\n                    <div className=\"flex justify-end pr-4\">\n                        <div className=\"bg-primary/20 p-2 rounded-xl flex items-center gap-2 border border-primary/20\">\n                            <Loader2 className=\"w-4 h-4 animate-spin text-primary\" />\n                            <span className=\"text-[11px] font-black text-primary uppercase tracking-widest\">Transmitting...</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Input Area */}\n            <form onSubmit={(e) => handleSendMessage(e, 'text')} className=\"p-4 bg-background border-t border-divider\">\n                {replyingTo && (\n                    <div className=\"flex items-center justify-between bg-surface/50 p-2 rounded-t-xl border border-primary/20 mb-2 backdrop-blur-sm\">\n                        <div className=\"flex items-center gap-2 overflow-hidden\">\n                            <div className=\"w-1 h-8 bg-primary rounded-full\"></div>\n                            <div className=\"flex flex-col\">\n                                <span className=\"text-small font-bold text-primary\">\n                                    Replying to {\n                                        replyingTo.profiles?.username || 'user'\n                                    }\n                                </span>\n                                <span className=\"text-small text-text-secondary truncate max-w-[200px]\">{replyingTo.content || 'Media message'}</span>\n                            </div>\n                        </div>\n                        <button type=\"button\" onClick={() => setReplyingTo(null)} className=\"p-1 hover:bg-surface rounded-full\">\n                            <X className=\"w-4 h-4 text-text-secondary\" />\n                        </button>\n                    </div>\n                )}\n                <input\n                    type=\"file\"\n                    ref={fileInputRef}\n                    className=\"hidden\"\n                    onChange={handleFileUpload}\n                    accept=\"image/*,video/*,audio/*\"\n                />\n                <div className=\"flex gap-3 items-center bg-surface p-2 pl-4 rounded-xl shadow-reference-sm border border-divider focus-within:border-primary/50 transition-all\">\n                    {recording ? (\n                        <div className=\"flex-1 flex items-center gap-3 animate-pulse\">\n                            <span className=\"text-red-500 text-small font-bold uppercase tracking-wider\">Recording...</span>\n                            <div className=\"w-2 h-2 rounded-full bg-red-500 animate-ping\"></div>\n                        </div>\n                    ) : audioBlob ? (\n                        <div className=\"flex-1 flex items-center gap-3\">\n                            <span className=\"text-small text-primary font-bold\">Voice Note</span>\n                            <audio src={URL.createObjectURL(audioBlob)} controls className=\"h-8 w-40\" />\n                        </div>\n                    ) : (\n                        <>\n                            <button\n                                type=\"button\"\n                                onClick={() => fileInputRef.current?.click()}\n                                className=\"p-2 text-text-secondary hover:text-primary transition-colors\"\n                                disabled={uploading}\n                            >\n                                <Paperclip className=\"w-5 h-5\" />\n                            </button>\n\n                            <input\n                                value={newMessage}\n                                onChange={(e) => setNewMessage(e.target.value)}\n                                placeholder=\"Type a message...\"\n                                className=\"flex-1 bg-transparent border-none outline-none px-2 text-body text-foreground placeholder:text-text-tertiary h-10\"\n                                disabled={uploading}\n                            />\n                        </>\n                    )}\n\n                    {recording ? (\n                        <button type=\"button\" onClick={stopRecording} className=\"p-2 bg-red-500/20 text-red-500 rounded-lg hover:bg-red-500/30\">\n                            <Square className=\"w-4 h-4 fill-current\" />\n                        </button>\n                    ) : audioBlob ? (\n                        <>\n                            <button type=\"button\" onClick={cancelRecording} className=\"p-2 text-text-secondary hover:text-red-400\">\n                                <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                            <button type=\"button\" onClick={sendVoiceNote} className=\"p-2 bg-primary-dark text-white rounded-full h-10 w-10 flex items-center justify-center hover:bg-primary/90 shadow-md\">\n                                <Send className=\"w-4 h-4 ml-0.5\" />\n                            </button>\n                        </>\n                    ) : (\n                        newMessage.trim() ? (\n                            <button\n                                type=\"submit\"\n                                disabled={uploading}\n                                className=\"p-2 bg-primary-dark text-white rounded-full h-10 w-10 flex items-center justify-center hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md\"\n                            >\n                                <Send className=\"w-4 h-4 ml-0.5\" />\n                            </button>\n                        ) : (\n                            <button\n                                type=\"button\"\n                                onClick={startRecording}\n                                disabled={uploading}\n                                className=\"p-2 text-text-secondary hover:text-primary transition-all\"\n                            >\n                                <Mic className=\"w-5 h-5\" />\n                            </button>\n                        )\n                    )}\n                </div>\n            </form>\n            {showGroupInfo && <GroupInfo roomId={roomId} onClose={() => setShowGroupInfo(false)} currentUserId={user.id} />}\n        </div>\n    );\n}\n"],"names":["c","_c","useEffect","useState","useRef","createClient","Avatar","ArrowLeft","Mic","Send","Paperclip","X","Image","ImageIcon","Check","CheckCheck","Trash2","Ban","Phone","Video","MoreVertical","Loader2","Square","Reply","ReplyIcon","cn","useToast","useCall","Message","MessageType","GroupInfo","useParams","useRouter","ChatWindow","t0","$","$i","Symbol","for","roomId","user","t1","messages","setMessages","newMessage","setNewMessage","setRoom","uploading","setUploading","showGroupInfo","setShowGroupInfo","recording","setRecording","audioBlob","setAudioBlob","replyingTo","setReplyingTo","isBlocked","setIsBlocked","loading","setLoading","headerName","setHeaderName","headerAvatar","setHeaderAvatar","undefined","headerGender","setHeaderGender","mediaRecorderRef","t2","chunksRef","scrollRef","fileInputRef","t3","supabase","router","startCall","addToast","t4","t5","id","ChatWindow[useEffect()]","fetchRoomAndMessages","ChatWindow[useEffect() > fetchRoomAndMessages]","data","roomData","from","select","eq","single","is_group","room_participants","other","find","p","user_id","profiles","name","full_name","username","toUpperCase","avatar_url","gender","blockData","maybeSingle","msgData","order","ascending","channel","on","event","schema","table","filter","payload","new","prev","subscribe","removeChannel","t6","t7","current","scrollTop","scrollHeight","unreadIds","m","read_at","map","_ChatWindowUseEffectAnonymous","length","update","Date","toISOString","in","then","_ChatWindowUseEffectAnonymous2","getNameColor","_ChatWindowGetNameColor","t8","ChatWindow[handleSendMessage]","e","t9","mediaUrl","meta","type","preventDefault","content","trim","error","insert","room_id","message_type","media_url","media_meta","reply_to","status","is_deleted","updated_at","handleSendMessage","e_0","file","target","files","fileName","now","filePath","uploadError","storage","upload","message","t10","getPublicUrl","publicUrl","type_0","startsWith","size","handleFileUpload","messageId","error_0","handleDeleteMessage","t11","ChatWindow[startRecording]","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","e_1","push","onstop","blob","Blob","getTracks","forEach","_ChatWindowStartRecordingAnonymousAnonymous","start","t12","err","console","startRecording","ChatWindow[stopRecording]","stop","stopRecording","t13","ChatWindow[cancelRecording]","cancelRecording","t14","ChatWindow[sendVoiceNote]","fileName_0","filePath_0","uploadError_0","t15","publicUrl_0","duration","sendVoiceNote","t16","ChatWindow[<button>.onClick]","t17","t18","t19","t20","t21","t22","t23","t24","color","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","t38","t39","t40","ChatWindow[messages.map()]","msg","index","isMe","prevMsg","isSameUser","ChatWindow[messages.map() > <button>.onClick]","reply_item","created_at","toLocaleTimeString","hour","minute","t41","t42","t43","e_2","t44","t45","t46","URL","createObjectURL","click","e_3","value","t47","t48","t49","t50","ChatWindow[<GroupInfo>.onClose]","t51","track","toLowerCase","m_0"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2087, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/user-search.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Search, UserPlus, Check, X } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\n\ninterface UserSearchProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function UserSearch({ onClose, currentUserId }: UserSearchProps) {\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState<Profile[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [requested, setRequested] = useState<Set<string>>(new Set());\n    const supabase = createClient();\n    const { addToast } = useToast();\n\n    const handleSearch = async () => {\n        if (!query.trim()) return;\n        setLoading(true);\n\n        // Simple search by username or full_name\n        const { data, error } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .or(`username.ilike.%${query}%,full_name.ilike.%${query}%`)\n            .neq(\"id\", currentUserId)\n            .limit(10);\n\n        if (data) {\n            // Filter out already connected users? For now showing all.\n            setResults(data);\n        }\n        setLoading(false);\n    };\n\n    const sendRequest = async (targetId: string) => {\n        // Optimistic update\n        setRequested((prev) => new Set(prev).add(targetId));\n\n        // 1. Check if a connection tuple already exists (in either direction)\n        const { data: existing, error: fetchError } = await supabase\n            .from(\"connections\")\n            .select(\"*\")\n            .or(`and(requester_id.eq.${currentUserId},addressee_id.eq.${targetId}),and(requester_id.eq.${targetId},addressee_id.eq.${currentUserId})`)\n            .maybeSingle();\n\n        if (fetchError) {\n            console.error(\"Error checking connection:\", fetchError);\n            return;\n        }\n\n        let error = null;\n\n        if (existing) {\n            // 2. If exists, handle based on status\n            if (existing.status === 'rejected') {\n                // Re-activate as a new request from me\n                const { error: updateError } = await supabase\n                    .from(\"connections\")\n                    .update({ status: 'pending', requester_id: currentUserId, addressee_id: targetId })\n                    .eq(\"id\", existing.id);\n                error = updateError;\n            } else {\n                // 'pending' or 'accepted' - Do nothing to prevent duplicate key error\n                // The UI already shows a checkmark optimistically\n                console.log(\"Connection already exists or is pending.\");\n            }\n        } else {\n            // 3. New Record\n            const { error: insertError } = await supabase\n                .from(\"connections\")\n                .insert({ requester_id: currentUserId, addressee_id: targetId });\n            error = insertError;\n        }\n\n        if (error) {\n            console.error(\"Failed to send request\", error);\n            // Revert on error\n            setRequested((prev) => {\n                const next = new Set(prev);\n                next.delete(targetId);\n                return next;\n            });\n            addToast(\"Failed to send request: \" + error.message, \"error\");\n        } else {\n            addToast(\"Request sent!\", \"success\");\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white\">Find People</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-4\">\n                    <div className=\"flex gap-2\">\n                        <div className=\"relative flex-1\">\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50\" />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Search by username...\"\n                                className=\"w-full bg-white/5 border border-white/10 rounded-xl py-2 pl-9 pr-4 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all\"\n                                value={query}\n                                onChange={(e) => setQuery(e.target.value)}\n                                onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n                            />\n                        </div>\n                        <button\n                            onClick={handleSearch}\n                            disabled={loading}\n                            className=\"px-4 py-2 bg-primary text-primary-foreground font-medium rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50\"\n                        >\n                            {loading ? \"...\" : \"Search\"}\n                        </button>\n                    </div>\n\n                    <div className=\"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar\">\n                        {results.length === 0 && !loading && query && (\n                            <p className=\"text-center text-white/30 py-4\">No users found.</p>\n                        )}\n\n                        {results.map((user) => (\n                            <div key={user.id} className=\"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/5 transition-all\">\n                                <Avatar src={user.avatar_url || undefined} fallback={user.username || user.full_name || \"?\"} />\n                                <div className=\"flex-1 overflow-hidden\">\n                                    <p className=\"font-semibold text-white truncate\">{user.full_name || user.username || \"Unknown\"}</p>\n                                    <p className=\"text-xs text-white/50 truncate\">@{user.username}</p>\n                                </div>\n                                <button\n                                    onClick={() => sendRequest(user.id)}\n                                    disabled={requested.has(user.id)}\n                                    className={cn(\n                                        \"p-2 rounded-full transition-all\",\n                                        requested.has(user.id) ? \"bg-green-500/20 text-green-400\" : \"bg-primary/10 text-primary hover:bg-primary/20\"\n                                    )}\n                                >\n                                    {requested.has(user.id) ? <Check className=\"w-4 h-4\" /> : <UserPlus className=\"w-4 h-4\" />}\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useState","createClient","Avatar","Search","UserPlus","Check","X","Profile","cn","useToast","UserSearchProps","onClose","currentUserId","UserSearch","t0","$","$i","Symbol","for","query","setQuery","t1","results","setResults","loading","setLoading","t2","Set","requested","setRequested","supabase","addToast","handleSearch","UserSearch[handleSearch]","trim","data","from","select","or","neq","limit","sendRequest","targetId","prev","add","existing","error","fetchError","maybeSingle","console","error_0","status","updateError","update","requester_id","addressee_id","eq","id","log","insertError","insert","prev_0","next","delete","message","t3","t4","t5","t6","t7","e","target","value","t8","t9","t10","t11","length","t12","map","user","avatar_url","undefined","username","full_name","UserSearch[results.map() > <button>.onClick]","has","t13","e_0","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2479, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/connection-requests.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Check, X, UserCheck, MessageCircle } from \"lucide-react\";\nimport { Connection } from \"@/lib/types\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ConnectionRequestsProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function ConnectionRequests({ onClose, currentUserId }: ConnectionRequestsProps) {\n    const [requests, setRequests] = useState<Connection[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n    const router = useRouter();\n\n    useEffect(() => {\n        fetchRequests();\n    }, []);\n\n    const fetchRequests = async () => {\n        const { data, error } = await supabase\n            .from(\"connections\")\n            .select(\"*, requester:profiles!requester_id(*)\")\n            .eq(\"addressee_id\", currentUserId)\n            .eq(\"status\", \"pending\");\n\n        if (data) {\n            setRequests(data as any); // Cast because Supabase joined types are tricky\n        }\n        setLoading(false);\n    };\n\n    const handleResponse = async (id: string, status: 'accepted' | 'rejected') => {\n        const { error } = await supabase\n            .from(\"connections\")\n            .update({ status })\n            .eq(\"id\", id);\n\n        if (!error) {\n            setRequests((prev) => prev.filter(req => req.id !== id));\n            if (status === 'accepted') {\n                // Find and get request details to get the other user ID\n                const req = requests.find(r => r.id === id);\n                if (req) {\n                    await getOrCreateDm(req.requester_id);\n                }\n            }\n        }\n    };\n\n    const getOrCreateDm = async (otherUserId: string) => {\n        setLoading(true);\n        // 1. Check if a DM room already exists\n        // This is a bit complex in Supabase SQL without a function, but we can try a simple creating approach\n        // or just create a new one for now and rely on unique constraints if we had them (we might not).\n        // Better approach: Create a new room with is_group=false. \n        // Real-world app would query room_participants to find common room.\n\n        // Let's create a new DM room for simplicity and reliability in this session\n        const { data: roomData, error: roomError } = await supabase\n            .from(\"rooms\")\n            .insert({ is_group: false, name: \"Direct Message\" }) // Name is often ignored for DMs in UI\n            .select()\n            .single();\n\n        if (roomData) {\n            // Add participants\n            await supabase.from(\"room_participants\").insert([\n                { room_id: roomData.id, user_id: currentUserId },\n                { room_id: roomData.id, user_id: otherUserId }\n            ]);\n\n            onClose();\n            router.push(`/chat?roomId=${roomData.id}`);\n        } else {\n            console.error(\"Failed to create room\", roomError);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                        <UserCheck className=\"w-5 h-5 text-primary\" />\n                        Connection Requests\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar\">\n                    {loading && <p className=\"text-center text-white/30 py-4\">Loading...</p>}\n                    {!loading && requests.length === 0 && (\n                        <div className=\"text-center text-white/30 py-8 flex flex-col items-center gap-2\">\n                            <UserCheck className=\"w-10 h-10 opacity-20\" />\n                            <p>No pending requests.</p>\n                        </div>\n                    )}\n\n                    {requests.map((req) => (\n                        <div key={req.id} className=\"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/5\">\n                            <Avatar\n                                src={req.requester?.avatar_url || undefined}\n                                fallback={req.requester?.username || \"?\"}\n                            />\n                            <div className=\"flex-1 overflow-hidden\">\n                                <p className=\"font-semibold text-white truncate\">\n                                    {req.requester?.full_name || req.requester?.username || \"Unknown User\"}\n                                </p>\n                                <p className=\"text-xs text-white/50 truncate\">\n                                    wants to connect\n                                </p>\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                                <button\n                                    onClick={() => handleResponse(req.id, 'accepted')}\n                                    className=\"p-2 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded-full transition-colors\"\n                                    title=\"Accept\"\n                                >\n                                    <Check className=\"w-4 h-4\" />\n                                </button>\n                                <button\n                                    onClick={() => handleResponse(req.id, 'rejected')}\n                                    className=\"p-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-full transition-colors\"\n                                    title=\"Reject\"\n                                >\n                                    <X className=\"w-4 h-4\" />\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","Check","X","UserCheck","MessageCircle","Connection","useRouter","ConnectionRequestsProps","onClose","currentUserId","ConnectionRequests","requests","setRequests","loading","setLoading","supabase","router","fetchRequests","data","error","from","select","eq","handleResponse","id","status","update","prev","filter","req","find","r","getOrCreateDm","requester_id","otherUserId","roomData","roomError","insert","is_group","name","single","room_id","user_id","push","console","length","map","requester","avatar_url","undefined","username","full_name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2760, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/services/profile-service.ts"],"sourcesContent":["import { safeSupabaseOperation } from '@/lib/supabase/client';\n\nexport interface Profile {\n    id: string;\n    username: string;\n    full_name: string;\n    avatar_url: string;\n    is_online: boolean;\n    last_seen: string;\n    age?: number;\n    phone?: string;\n    bio?: string;\n    gender?: string;\n}\n\nexport interface UpdateProfileData {\n    username?: string;\n    full_name?: string;\n    avatar_url?: string;\n    age?: number;\n    phone?: string;\n    bio?: string;\n    gender?: string;\n}\n\nexport const ProfileService = {\n    async getProfile(userId: string): Promise<{ data: Profile | null; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { data, error } = await client\n                .from('profiles')\n                .select('*')\n                .eq('id', userId)\n                .single();\n            if (error) return { data: null, error: error.message };\n            return { data: data as Profile, error: null };\n        });\n    },\n\n    async updateProfile(userId: string, updates: UpdateProfileData): Promise<{ error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { error } = await client\n                .from('profiles')\n                .update(updates)\n                .eq('id', userId);\n            return { error: error?.message || null };\n        });\n    },\n\n    async searchProfiles(query: string): Promise<{ data: Profile[]; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { data, error } = await client\n                .from('profiles')\n                .select('*')\n                .or(`username.ilike.%${query}%,full_name.ilike.%${query}%`)\n                .limit(20);\n            if (error) return { data: [], error: error.message };\n            return { data: data as Profile[], error: null };\n        });\n    },\n\n    async uploadAvatar(userId: string, file: File): Promise<{ data: string | null; error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            try {\n                console.log('[ProfileService] Starting upload for file:', file.name);\n\n                const fileExt = file.name.split('.').pop() || 'jpg';\n                const fileName = `${userId}_${Date.now()}.${fileExt}`;\n                const filePath = `avatars/${fileName}`;\n\n                const { error: uploadError } = await client.storage\n                    .from('gossip-avatars')\n                    .upload(filePath, file, {\n                        contentType: file.type,\n                        upsert: false\n                    });\n\n                if (uploadError) {\n                    console.error('[ProfileService] Upload error:', uploadError);\n                    throw uploadError;\n                }\n\n                const { data } = client.storage\n                    .from('gossip-avatars')\n                    .getPublicUrl(filePath);\n\n                console.log('[ProfileService] Upload successful, URL:', data.publicUrl);\n                return { data: data.publicUrl, error: null };\n            } catch (err: any) {\n                console.error('[ProfileService] Upload failed:', err);\n                return { data: null, error: err.message };\n            }\n        });\n    },\n\n    async updatePushToken(userId: string, token: string): Promise<{ error: string | null }> {\n        return await safeSupabaseOperation(async (client) => {\n            const { error } = await client\n                .from('profiles')\n                .update({ push_token: token })\n                .eq('id', userId);\n\n            if (error) console.error('[ProfileService] Update Token Error:', error);\n\n            return { error: error?.message || null };\n        });\n    }\n};\n"],"names":[],"mappings":";;;;AAAA;;AAyBO,MAAM,iBAAiB;IAC1B,MAAM,YAAW,MAAc;QAC3B,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OACzB,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QACT,MAAM;YACX,IAAI,OAAO,OAAO;gBAAE,MAAM;gBAAM,OAAO,MAAM,OAAO;YAAC;YACrD,OAAO;gBAAE,MAAM;gBAAiB,OAAO;YAAK;QAChD;IACJ;IAEA,MAAM,eAAc,MAAc,EAAE,OAA0B;QAC1D,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OACnB,IAAI,CAAC,YACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM;YACd,OAAO;gBAAE,OAAO,OAAO,WAAW;YAAK;QAC3C;IACJ;IAEA,MAAM,gBAAe,KAAa;QAC9B,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OACzB,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,CAAC,gBAAgB,EAAE,MAAM,mBAAmB,EAAE,MAAM,CAAC,CAAC,EACzD,KAAK,CAAC;YACX,IAAI,OAAO,OAAO;gBAAE,MAAM,EAAE;gBAAE,OAAO,MAAM,OAAO;YAAC;YACnD,OAAO;gBAAE,MAAM;gBAAmB,OAAO;YAAK;QAClD;IACJ;IAEA,MAAM,cAAa,MAAc,EAAE,IAAU;QACzC,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,IAAI;gBACA,QAAQ,GAAG,CAAC,8CAA8C,KAAK,IAAI;gBAEnE,MAAM,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM;gBAC9C,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,SAAS;gBACrD,MAAM,WAAW,CAAC,QAAQ,EAAE,UAAU;gBAEtC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,OAAO,OAAO,CAC9C,IAAI,CAAC,kBACL,MAAM,CAAC,UAAU,MAAM;oBACpB,aAAa,KAAK,IAAI;oBACtB,QAAQ;gBACZ;gBAEJ,IAAI,aAAa;oBACb,QAAQ,KAAK,CAAC,kCAAkC;oBAChD,MAAM;gBACV;gBAEA,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,OAAO,CAC1B,IAAI,CAAC,kBACL,YAAY,CAAC;gBAElB,QAAQ,GAAG,CAAC,4CAA4C,KAAK,SAAS;gBACtE,OAAO;oBAAE,MAAM,KAAK,SAAS;oBAAE,OAAO;gBAAK;YAC/C,EAAE,OAAO,KAAU;gBACf,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,OAAO;oBAAE,MAAM;oBAAM,OAAO,IAAI,OAAO;gBAAC;YAC5C;QACJ;IACJ;IAEA,MAAM,iBAAgB,MAAc,EAAE,KAAa;QAC/C,OAAO,MAAM,IAAA,iLAAqB,EAAC,OAAO;YACtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OACnB,IAAI,CAAC,YACL,MAAM,CAAC;gBAAE,YAAY;YAAM,GAC3B,EAAE,CAAC,MAAM;YAEd,IAAI,OAAO,QAAQ,KAAK,CAAC,wCAAwC;YAEjE,OAAO;gBAAE,OAAO,OAAO,WAAW;YAAK;QAC3C;IACJ;AACJ"}},
    {"offset": {"line": 2850, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/ui/gradient-text.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface GradientTextProps {\n    text: string;\n    className?: string;\n    colors?: [string, string];\n}\n\nexport function GradientText({ text, className, colors = ['#00BFFF', '#FFB6C1'] }: GradientTextProps) {\n    return (\n        <span\n            className={cn(\"bg-clip-text text-transparent\", className)}\n            style={{\n                backgroundImage: `linear-gradient(to right, ${colors[0]}, ${colors[1]})`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent'\n            }}\n        >\n            {text}\n        </span>\n    );\n}\n"],"names":["c","_c","React","cn","GradientTextProps","text","className","colors","GradientText","t0","$","$i","Symbol","for","t1","t2","undefined","t3","t4","t5","backgroundImage","WebkitBackgroundClip","WebkitTextFillColor","t6"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAGb,SAASE,EAAE,QAAQ,aAAa;AAHhC,YAAY;;;;AAWL,sBAAAM,EAAA;IAAA,MAAAC,CAAA,OAAAT,qMAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAsB,MAAA,EAAAL,IAAA,EAAAC,SAAA,EAAAC,MAAA,EAAAO,EAAAA,EAAA,GAAAL,EAAuE;IAAA,IAAAM,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAI,EAAA,EAAA;QAApDC,EAAA,GAAAD,EAA+B,KAA/BE,SAA+B,GAA/B;YAAU,SAAS;YAAE,SAAS;SAAC,GAA/BF,EAA+B;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAA/B,MAAAH,MAAA,GAAAQ,EAA+B;IAAA,IAAAE,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAJ,SAAA,EAAA;QAGxDW,EAAA,OAAAd,iJAAE,EAAC,+BAA+B,EAAEG,SAAS,CAAC;QAAAI,CAAA,CAAA,EAAA,GAAAJ,SAAA;QAAAI,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAEpC,MAAAQ,EAAA,GAAA,CAAA,0BAAA,EAA6BX,MAAM,CAAA,EAAG,CAAA,EAAA,EAAKA,MAAM,CAAA,EAAG,CAAA,CAAA,CAAG;IAAA,IAAAY,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAQ,EAAA,EAAA;QADrEC,EAAA,GAAA;YAAAC,eAAA,EACcF,EAAuD;YAAAG,oBAAA,EAClD,MAAM;YAAAC,mBAAA,EACP;QACzB,CAAC;QAAAZ,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,EAAA,KAAAS,EAAA,IAAAT,CAAA,CAAA,EAAA,KAAAL,IAAA,EAAA;QANLkB,EAAA,iBAAA,kNAAA,IASO;YARQ,SAA8C,CAA9C,CAAAN,EAA6C,CAAC;YAClD,KAIN,CAJM,CAAAE,EAIP,CAAC,CAEAd;sBAAAA,IAAG,CACR,EATA,IASO;;;;;;QAAAK,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAL,IAAA;QAAAK,CAAA,CAAA,GAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,GAAA;IAAA;IAAA,OATPa,EASO;AAAA;KAXRf","ignoreList":[]}},
    {"offset": {"line": 2933, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/settings-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { X, Shield, Eye, UserX, Loader2, Unlock, Camera, Edit3, Save, Languages, Bell, LogOut, ChevronRight } from \"lucide-react\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/contexts/toast-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { ProfileService, Profile } from \"@/services/profile-service\";\nimport { GradientText } from \"@/components/ui/gradient-text\";\n\nconst translations: Record<string, Record<string, string>> = {\n    'English': {\n        profile: 'Profile',\n        personalInfo: 'PERSONAL INFO',\n        settings: 'SETTINGS',\n        notifications: 'Notifications',\n        language: 'Language',\n        logout: 'Logout',\n        fullName: 'Full Name',\n        username: 'Username',\n        age: 'Age',\n        phone: 'Phone',\n        bio: 'Bio',\n        edit: 'Edit',\n        save: 'Save Changes',\n        cancel: 'Cancel',\n        gender: 'Gender',\n        male: 'Male',\n        female: 'Female',\n        other: 'Other'\n    },\n    'Tamil': {\n        profile: 'à®šà¯à®¯à®µà®¿à®µà®°à®®à¯',\n        personalInfo: 'à®¤à®©à®¿à®ªà¯à®ªà®Ÿà¯à®Ÿ à®¤à®•à®µà®²à¯',\n        settings: 'à®…à®®à¯ˆà®ªà¯à®ªà¯à®•à®³à¯',\n        notifications: 'à®…à®±à®¿à®µà®¿à®ªà¯à®ªà¯à®•à®³à¯',\n        language: 'à®®à¯Šà®´à®¿',\n        logout: 'à®µà¯†à®³à®¿à®¯à¯‡à®±à¯',\n        fullName: 'à®®à¯à®´à¯ à®ªà¯†à®¯à®°à¯',\n        username: 'à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯',\n        age: 'à®µà®¯à®¤à¯',\n        phone: 'à®¤à¯Šà®²à¯ˆà®ªà¯‡à®šà®¿',\n        bio: 'à®šà¯à®¯à®šà®°à®¿à®¤à¯ˆ',\n        edit: 'à®¤à¯Šà®•à¯',\n        save: 'à®®à®¾à®±à¯à®±à®™à¯à®•à®³à¯ˆ à®šà¯‡à®®à®¿',\n        cancel: 'à®°à®¤à¯à®¤à¯à®šà¯†à®¯à¯',\n        gender: 'à®ªà®¾à®²à®¿à®©à®®à¯',\n        male: 'à®†à®£à¯',\n        female: 'à®ªà¯†à®£à¯',\n        other: 'à®®à®±à¯à®±à®µà¯ˆ'\n    }\n};\n\nexport function SettingsModal({ onClose, user }: { onClose: () => void; user: any }) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [language, setLanguage] = useState('English');\n    const [profile, setProfile] = useState<Profile | null>(null);\n    const [blockedUsers, setBlockedUsers] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n    const [activeTab, setActiveTab] = useState<'info' | 'settings' | 'blocked'>('info');\n\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const supabase = createClient();\n    const { addToast } = useToast();\n    const { logout } = useAuth();\n    const t = translations[language];\n\n    const [form, setForm] = useState({\n        full_name: '',\n        username: '',\n        age: '',\n        phone: '',\n        bio: '',\n        gender: ''\n    });\n\n    useEffect(() => {\n        const fetchData = async () => {\n            setLoading(true);\n            const { data: prof } = await ProfileService.getProfile(user.id);\n            if (prof) {\n                setProfile(prof);\n                setForm({\n                    full_name: prof.full_name || '',\n                    username: prof.username || '',\n                    age: prof.age?.toString() || '',\n                    phone: prof.phone || '',\n                    bio: prof.bio || '',\n                    gender: prof.gender || ''\n                });\n            }\n\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(`*, blocked:profiles!blocked_id(*)`)\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) setBlockedUsers(blocks);\n            setLoading(false);\n        };\n\n        fetchData();\n    }, [user.id, supabase]);\n\n    const handleSave = async () => {\n        setSaving(true);\n        const { error } = await ProfileService.updateProfile(user.id, {\n            ...form,\n            age: parseInt(form.age) || undefined\n        });\n\n        if (!error) {\n            addToast(\"Profile updated\", \"success\");\n            setIsEditing(false);\n            setProfile(prev => prev ? { ...prev, ...form, age: parseInt(form.age) || undefined } : null);\n        } else {\n            addToast(error, \"error\");\n        }\n        setSaving(false);\n    };\n\n    const handleAvatarClick = () => {\n        fileInputRef.current?.click();\n    };\n\n    const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        setSaving(true);\n        const { data: url, error } = await ProfileService.uploadAvatar(user.id, file);\n        if (url) {\n            await ProfileService.updateProfile(user.id, { avatar_url: url });\n            setProfile(prev => prev ? { ...prev, avatar_url: url } : null);\n            addToast(\"Avatar updated\", \"success\");\n        } else if (error) {\n            addToast(error, \"error\");\n        }\n        setSaving(false);\n    };\n\n    const handleUnblock = async (blockId: string) => {\n        const { error } = await supabase.from(\"blocked_users\").delete().eq(\"id\", blockId);\n        if (!error) {\n            setBlockedUsers(prev => prev.filter(b => b.id !== blockId));\n            addToast(\"User unblocked\", \"success\");\n        }\n    };\n\n    const getGlowColor = () => {\n        switch (form.gender?.toLowerCase()) {\n            case 'male': return 'from-[#00BFFF] to-transparent';\n            case 'female': return 'from-[#FFB6C1] to-transparent';\n            case 'other': return 'from-[#FFD700] to-transparent';\n            default: return 'from-primary/20 to-transparent';\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-black border border-white/10 w-full max-w-2xl rounded-[40px] shadow-2xl overflow-hidden relative flex flex-col max-h-[90vh]\">\n                {/* Background Decor */}\n                <div className={`absolute top-0 left-0 right-0 h-64 bg-gradient-to-b ${getGlowColor()} opacity-20 pointer-events-none transition-all duration-500`} />\n\n                {/* Header */}\n                <div className=\"p-8 pb-4 flex items-center justify-between relative z-10\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-3 rounded-2xl bg-white/5 border border-white/10\">\n                            <Shield className=\"w-6 h-6 text-primary\" />\n                        </div>\n                        <h2 className=\"text-2xl font-black text-white italic uppercase tracking-tight\">\n                            Identity <span className=\"text-primary\">&</span> Settings\n                        </h2>\n                    </div>\n                    <button onClick={onClose} className=\"p-3 bg-white/5 hover:bg-white/10 rounded-2xl text-white/40 hover:text-white transition-all shadow-lg\">\n                        <X className=\"w-6 h-6\" />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar p-8 pt-0 relative z-10\">\n                    <div className=\"flex flex-col md:flex-row gap-8\">\n                        {/* Left Sidebar */}\n                        <div className=\"flex flex-col gap-4 md:w-48\">\n                            <button\n                                onClick={() => setActiveTab('info')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'info' ? 'bg-primary/10 border-primary/20 text-primary shadow-lg shadow-primary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <Edit3 className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Profile</span>\n                            </button>\n                            <button\n                                onClick={() => setActiveTab('settings')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'settings' ? 'bg-primary/10 border-primary/20 text-primary shadow-lg shadow-primary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <Languages className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Options</span>\n                            </button>\n                            <button\n                                onClick={() => setActiveTab('blocked')}\n                                className={`flex items-center gap-3 p-4 rounded-2xl transition-all border ${activeTab === 'blocked' ? 'bg-secondary/10 border-secondary/20 text-secondary shadow-lg shadow-secondary/5' : 'bg-white/5 border-white/5 text-white/40 hover:text-white hover:bg-white/10'}`}\n                            >\n                                <UserX className=\"w-5 h-5\" />\n                                <span className=\"font-black text-[10px] uppercase tracking-[0.2em]\">Ghosts</span>\n                            </button>\n\n                            <div className=\"mt-auto pt-8\">\n                                <button onClick={logout} className=\"w-full flex items-center justify-center gap-2 p-4 rounded-2xl bg-secondary opacity-80 hover:opacity-100 transition-all text-black font-black uppercase text-[10px] tracking-widest shadow-lg shadow-secondary/10\">\n                                    <LogOut className=\"w-4 h-4\" />\n                                    {t.logout}\n                                </button>\n                                <p className=\"text-center text-[9px] font-black text-white/20 mt-4 tracking-[0.3em] uppercase\">GOSSIP v1.2.0 â€¢ Web</p>\n                            </div>\n                        </div>\n\n                        {/* Right Content */}\n                        <div className=\"flex-1\">\n                            {activeTab === 'info' && (\n                                <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    {/* Avatar/Header Item */}\n                                    <div className=\"flex flex-col items-center gap-6\">\n                                        <div className=\"relative group\">\n                                            <div className=\"w-32 h-32 rounded-[40px] p-1 bg-gradient-to-br from-primary via-white/10 to-secondary shadow-2xl relative overflow-hidden\">\n                                                <div className={`absolute inset-0 bg-gradient-to-br ${getGlowColor()} opacity-40 blur-xl group-hover:opacity-60 transition-opacity`} />\n                                                <Avatar src={profile?.avatar_url || user.user_metadata?.avatar_url} fallback={profile?.username?.[0] || \"?\"} className=\"w-full h-full rounded-[36px] relative z-10\" />\n                                            </div>\n                                            <button\n                                                onClick={handleAvatarClick}\n                                                className=\"absolute -bottom-2 -right-2 p-3 bg-primary text-black rounded-2xl shadow-xl hover:scale-110 transition-transform z-20 border-4 border-black\"\n                                                disabled={saving}\n                                            >\n                                                <Camera className=\"w-4 h-4\" />\n                                            </button>\n                                            <input type=\"file\" ref={fileInputRef} className=\"hidden\" onChange={handleFileChange} accept=\"image/*\" />\n                                        </div>\n                                        <div className=\"text-center\">\n                                            <GradientText text={profile?.full_name || 'NEW GOSSIPER'} className=\"text-3xl font-black italic uppercase tracking-tighter\" />\n                                            <p className=\"text-white/30 text-[10px] font-black tracking-[0.3em] uppercase mt-1\">@{profile?.username || 'unknown'}</p>\n                                        </div>\n                                    </div>\n\n                                    {/* Form */}\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.fullName}</label>\n                                            <input\n                                                value={form.full_name}\n                                                onChange={(e) => setForm(f => ({ ...f, full_name: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"Enter full name\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.username}</label>\n                                            <input\n                                                value={form.username}\n                                                onChange={(e) => setForm(f => ({ ...f, username: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"username\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.gender}</label>\n                                            <div className=\"grid grid-cols-3 gap-2\">\n                                                {['Male', 'Female', 'Other'].map(g => (\n                                                    <button\n                                                        key={g}\n                                                        onClick={() => setForm(f => ({ ...f, gender: g }))}\n                                                        className={`p-4 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all border ${form.gender === g ? 'bg-primary text-black border-primary' : 'bg-white/5 text-white/30 border-white/5 hover:border-white/10'}`}\n                                                    >\n                                                        {t[g.toLowerCase()]}\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.age}</label>\n                                            <input\n                                                value={form.age}\n                                                onChange={(e) => setForm(f => ({ ...f, age: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none\"\n                                                placeholder=\"25\"\n                                                type=\"number\"\n                                            />\n                                        </div>\n                                        <div className=\"md:col-span-2 space-y-2\">\n                                            <label className=\"text-[10px] font-black text-white/30 uppercase tracking-widest ml-4\">{t.bio}</label>\n                                            <textarea\n                                                value={form.bio}\n                                                onChange={(e) => setForm(f => ({ ...f, bio: e.target.value }))}\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-white font-bold focus:border-primary/50 transition-all outline-none h-24 resize-none\"\n                                                placeholder=\"Tell Your Story...\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <button\n                                        onClick={handleSave}\n                                        disabled={saving}\n                                        className=\"w-full py-5 bg-gradient-to-r from-primary to-primary-dark text-black font-black uppercase italic tracking-[0.2em] rounded-2xl shadow-xl shadow-primary/10 hover:scale-[1.02] transition-all flex items-center justify-center gap-3 active:scale-95\"\n                                    >\n                                        {saving ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <Save className=\"w-5 h-5\" />}\n                                        {t.save}\n                                    </button>\n                                </div>\n                            )}\n\n                            {activeTab === 'settings' && (\n                                <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    <div className=\"p-6 rounded-3xl bg-white/5 border border-white/10 space-y-6\">\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-primary/10 rounded-2xl\">\n                                                    <Bell className=\"w-5 h-5 text-primary\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">{t.notifications}</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Real-time alerts</p>\n                                                </div>\n                                            </div>\n                                            <button\n                                                onClick={() => setNotificationsEnabled(!notificationsEnabled)}\n                                                className={`w-14 h-8 rounded-full relative transition-all duration-300 ${notificationsEnabled ? 'bg-primary' : 'bg-white/10'}`}\n                                            >\n                                                <div className={`absolute top-1 w-6 h-6 bg-white rounded-full transition-all duration-300 ${notificationsEnabled ? 'left-7 shadow-lg shadow-black/20' : 'left-1'}`} />\n                                            </button>\n                                        </div>\n\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-secondary/10 rounded-2xl\">\n                                                    <Languages className=\"w-5 h-5 text-secondary\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">{t.language}</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Tamil & English supported</p>\n                                                </div>\n                                            </div>\n                                            <select\n                                                value={language}\n                                                onChange={(e) => setLanguage(e.target.value)}\n                                                className=\"bg-white/10 border-none rounded-xl p-3 text-[10px] font-black text-white uppercase tracking-widest outline-none cursor-pointer\"\n                                            >\n                                                <option value=\"English\" className=\"bg-black\">English</option>\n                                                <option value=\"Tamil\" className=\"bg-black\">Tamil</option>\n                                            </select>\n                                        </div>\n\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"flex items-center gap-4\">\n                                                <div className=\"p-3 bg-white/5 rounded-2xl\">\n                                                    <Eye className=\"w-5 h-5 text-white/40\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"text-[11px] font-black uppercase text-white tracking-widest\">Last Seen</p>\n                                                    <p className=\"text-[9px] font-bold text-white/30 uppercase tracking-widest\">Privacy control</p>\n                                                </div>\n                                            </div>\n                                            <button className=\"w-14 h-8 rounded-full bg-primary relative\"><div className=\"absolute top-1 left-7 w-6 h-6 bg-white rounded-full shadow-lg\" /></button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"p-6 rounded-3xl bg-secondary/10 border border-secondary/20 flex items-center justify-between\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <Shield className=\"w-6 h-6 text-secondary\" />\n                                            <p className=\"text-[11px] font-black text-secondary uppercase tracking-widest leading-loose\">End-to-End Encryption<br /><span className=\"text-white/40\">Verified & Active</span></p>\n                                        </div>\n                                        <ChevronRight className=\"w-5 h-5 text-secondary opacity-40\" />\n                                    </div>\n                                </div>\n                            )}\n\n                            {activeTab === 'blocked' && (\n                                <div className=\"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500\">\n                                    <div className=\"p-6 rounded-3xl bg-white/5 border border-white/10\">\n                                        <h3 className=\"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] mb-6\">Blocked Manifest</h3>\n\n                                        {loading ? (\n                                            <div className=\"flex flex-col items-center justify-center p-12\">\n                                                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n                                            </div>\n                                        ) : blockedUsers.length === 0 ? (\n                                            <div className=\"flex flex-col items-center justify-center p-12 space-y-4\">\n                                                <div className=\"p-6 bg-white/5 rounded-full border border-white/10\">\n                                                    <UserX className=\"w-10 h-10 text-white/20\" />\n                                                </div>\n                                                <p className=\"text-xs font-bold text-white/20 uppercase tracking-widest italic text-center\">Your ghost list is empty</p>\n                                            </div>\n                                        ) : (\n                                            <div className=\"space-y-3\">\n                                                {blockedUsers.map((block) => (\n                                                    <div key={block.id} className=\"flex items-center justify-between bg-black/40 p-3 rounded-2xl border border-white/5 group hover:border-white/20 transition-all\">\n                                                        <div className=\"flex items-center gap-4\">\n                                                            <Avatar src={block.blocked?.avatar_url} fallback={block.blocked?.username?.[0] || \"?\"} className=\"w-10 h-10 rounded-xl\" />\n                                                            <div>\n                                                                <p className=\"text-[13px] font-black text-white uppercase tracking-tight\">{block.blocked?.username || \"Unknown Entity\"}</p>\n                                                                <p className=\"text-[9px] font-bold text-white/20 uppercase tracking-[0.2em]\">Restricted Access</p>\n                                                            </div>\n                                                        </div>\n                                                        <button\n                                                            onClick={() => handleUnblock(block.id)}\n                                                            className=\"flex items-center gap-2 px-4 py-2 bg-secondary/10 hover:bg-secondary text-secondary hover:text-black rounded-xl transition-all font-black text-[9px] uppercase tracking-widest\"\n                                                        >\n                                                            <Unlock className=\"w-3 h-3\" />\n                                                            Restore\n                                                        </button>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useEffect","useState","useRef","createClient","X","Shield","Eye","UserX","Loader2","Unlock","Camera","Edit3","Save","Languages","Bell","LogOut","ChevronRight","Avatar","useToast","useAuth","ProfileService","Profile","GradientText","translations","Record","profile","personalInfo","settings","notifications","language","logout","fullName","username","age","phone","bio","edit","save","cancel","gender","male","female","other","SettingsModal","t0","$","$i","Symbol","for","onClose","user","setIsEditing","setLanguage","setProfile","t1","blockedUsers","setBlockedUsers","loading","setLoading","saving","setSaving","notificationsEnabled","setNotificationsEnabled","activeTab","setActiveTab","fileInputRef","t2","supabase","addToast","t","t3","full_name","form","setForm","t4","t5","id","SettingsModal[useEffect()]","fetchData","SettingsModal[useEffect() > fetchData]","data","prof","getProfile","toString","blocks","from","select","eq","t6","SettingsModal[handleSave]","error","updateProfile","parseInt","undefined","prev","handleSave","t7","SettingsModal[handleAvatarClick]","current","click","handleAvatarClick","t8","e","file","target","files","url","error_0","uploadAvatar","avatar_url","prev_0","handleFileChange","t9","blockId","error_1","delete","prev_1","filter","b","handleUnblock","t10","SettingsModal[getGlowColor]","toLowerCase","getGlowColor","t11","t12","t13","t14","t15","t16","t17","SettingsModal[<button>.onClick]","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","user_metadata","e_0","f","value","e_1","f_0","map","g","SettingsModal[(anonymous)() > <button>.onClick]","f_1","e_2","f_2","e_3","f_3","t38","e_4","t39","length","block","blocked","SettingsModal[blockedUsers.map() > <button>.onClick]","t40","t41","t42"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4504, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { LogOut, MessageSquare, Plus, Search, UserPlus, Users, Phone, Radio } from \"lucide-react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { UserSearch } from \"./user-search\";\nimport { ConnectionRequests } from \"./connection-requests\";\nimport { SettingsModal } from \"./settings-modal\";\nimport { Settings } from \"lucide-react\";\n\nimport { GradientText } from \"./ui/gradient-text\";\n\ninterface Room {\n    id: string;\n    name: string | null;\n    is_group: boolean;\n    last_message?: string;\n    updated_at: string;\n    room_participants?: {\n        user_id: string;\n        profiles: {\n            username: string;\n            full_name: string;\n            avatar_url: string;\n            gender?: string;\n        }\n    }[];\n}\n\ninterface Connection {\n    id: string;\n    addressee_id: string;\n    requester_id: string;\n    status: string;\n    requester?: { username: string; avatar_url: string; full_name: string; gender?: string };\n    addressee?: { username: string; avatar_url: string; full_name: string; gender?: string };\n}\n\nexport function Sidebar({ user }: { user: any }) {\n    const [rooms, setRooms] = useState<Room[]>([]);\n    const [matches, setMatches] = useState<Connection[]>([]);\n    const [showSearch, setShowSearch] = useState(false);\n    const [showRequests, setShowRequests] = useState(false);\n    const [showSettings, setShowSettings] = useState(false);\n    const [pendingCount, setPendingCount] = useState(0);\n    const [blockedIds, setBlockedIds] = useState<Set<string>>(new Set());\n    const supabase = createClient();\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const router = useRouter();\n    const currentRoomId = searchParams.get(\"roomId\");\n\n    useEffect(() => {\n        const fetchRooms = async () => {\n            const { data } = await supabase\n                .from(\"rooms\")\n                .select(`\n                    *,\n                    room_participants(\n                        user_id,\n                        profiles(username, full_name, avatar_url, gender)\n                    )\n                `)\n                .order(\"updated_at\", { ascending: false });\n\n            if (data) setRooms(data as any);\n        };\n\n        const fetchPendingCount = async () => {\n            const { count } = await supabase\n                .from(\"connections\")\n                .select(\"*\", { count: 'exact', head: true })\n                .eq(\"addressee_id\", user?.id)\n                .eq(\"status\", \"pending\");\n            setPendingCount(count || 0);\n\n            const { data: matchesData } = await supabase\n                .from(\"connections\")\n                .select(`\n                    *,\n                    requester:profiles!requester_id(username, avatar_url, full_name, gender),\n                    addressee:profiles!addressee_id(username, avatar_url, full_name, gender)\n                `)\n                .or(`requester_id.eq.${user.id},addressee_id.eq.${user.id}`)\n                .eq(\"status\", \"accepted\")\n                .limit(10);\n\n            if (matchesData) setMatches(matchesData as any);\n\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(\"blocked_id\")\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) {\n                setBlockedIds(new Set(blocks.map(b => b.blocked_id)));\n            }\n        };\n\n        if (user) {\n            fetchRooms();\n            fetchPendingCount();\n        }\n\n        const roomChannel = supabase\n            .channel(\"rooms_realtime\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"rooms\" }, () => fetchRooms())\n            .subscribe();\n\n        const connectionChannel = supabase\n            .channel(\"connections_sidebar\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"connections\" }, () => fetchPendingCount())\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(roomChannel);\n            supabase.removeChannel(connectionChannel);\n        };\n    }, [user, supabase]);\n\n    const handleCreateRoom = async () => {\n        const name = prompt(\"Enter room name:\");\n        if (!name) return;\n\n        const { data, error } = await supabase.from(\"rooms\").insert({ name, is_group: true, updated_at: new Date().toISOString() }).select().single();\n        if (error) alert(error.message);\n        else {\n            await supabase.from(\"room_participants\").insert({ room_id: data.id, user_id: user.id });\n            router.push(`/chat?roomId=${data.id}`);\n        }\n    };\n\n    const handleLogout = async () => {\n        await supabase.auth.signOut();\n        router.push(\"/login\");\n    };\n\n    const getNameColor = (gender?: string) => {\n        switch (gender?.toLowerCase()) {\n            case 'male': return '#00BFFF';\n            case 'female': return '#FFB6C1';\n            case 'other': return '#FFD700';\n            default: return '#FFF';\n        }\n    };\n\n    const formatTime = (dateStr: string) => {\n        if (!dateStr) return \"\";\n        const date = new Date(dateStr);\n        const now = new Date();\n        const diff = now.getTime() - date.getTime();\n        const minutes = Math.floor(diff / 60000);\n        if (minutes < 1) return 'Just now';\n        if (minutes < 60) return `${minutes}m`;\n        const hours = Math.floor(minutes / 60);\n        if (hours < 24) return `${hours}h`;\n        return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n    };\n\n    return (\n        <>\n            <aside className=\"w-full h-full bg-black text-foreground flex flex-col font-sans overflow-hidden\">\n                {/* Header */}\n                <div className=\"p-6 pb-2\">\n                    <div className=\"flex justify-between items-center mb-1\">\n                        <div className=\"flex items-center gap-3\">\n                            <GradientText text=\"GOSSIP.\" className=\"text-[32px] font-black tracking-wider\" />\n                            <div className=\"w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-primary\">\n                                <Plus className=\"w-7 h-7\" strokeWidth={3} />\n                            </div>\n                        </div>\n                        <button\n                            onClick={() => setShowRequests(true)}\n                            className=\"relative p-2 rounded-xl border border-white/10 hover:bg-white/5 transition-all\"\n                        >\n                            <UserPlus className=\"w-7 h-7 text-white\" />\n                            {pendingCount > 0 && (\n                                <span className=\"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-[10px] font-black text-black border-2 border-black\">\n                                    {pendingCount}\n                                </span>\n                            )}\n                        </button>\n                    </div>\n                    <p className=\"text-[13px] text-text-tertiary font-medium mb-4\">Connect, share, and whisper in style.</p>\n                </div>\n\n                {/* Search Bar */}\n                <div className=\"px-6 mb-8\">\n                    <div className=\"bg-white/5 h-12 rounded-[24px] flex items-center px-5 gap-3 border border-white/10 focus-within:border-primary/50 transition-all\">\n                        <Search className=\"w-5 h-5 text-white/30\" />\n                        <input\n                            placeholder=\"Search friends or gossip...\"\n                            className=\"bg-transparent border-none outline-none text-sm w-full placeholder:text-white/20 text-white font-medium\"\n                            readOnly\n                            onClick={() => setShowSearch(true)}\n                        />\n                    </div>\n                </div>\n\n                {/* Connections Rail */}\n                {matches.length > 0 && (\n                    <div className=\"px-6 mb-8\">\n                        <h3 className=\"text-[11px] font-black tracking-[0.2em] text-white/20 mb-4 uppercase\">Connections</h3>\n                        <div className=\"flex gap-5 overflow-x-auto pb-2 scrollbar-hide\">\n                            <button onClick={() => setShowSearch(true)} className=\"flex flex-col items-center gap-3 min-w-[58px]\">\n                                <div className=\"w-[58px] h-[58px] rounded-full border-2 border-dashed border-white/10 hover:border-primary flex items-center justify-center text-white/20 hover:text-primary transition-colors bg-white/5\">\n                                    <Search className=\"w-6 h-6\" />\n                                </div>\n                                <span className=\"text-[11px] font-bold text-white/40\">Find</span>\n                            </button>\n\n                            {matches.map((match) => {\n                                const isRequester = match.requester_id === user.id;\n                                const profile = isRequester ? match.addressee : match.requester;\n                                if (!profile) return null;\n\n                                return (\n                                    <div key={match.id} className=\"flex flex-col items-center gap-3 min-w-[58px]\">\n                                        <div className=\"relative p-0.5 rounded-full border-2 border-primary-dark\">\n                                            <Avatar src={profile.avatar_url} fallback={profile.username?.[0] || \"?\"} className=\"w-[58px] h-[58px]\" />\n                                            <span className=\"absolute bottom-1 right-1 w-3.5 h-3.5 bg-online border-2 border-black rounded-full\"></span>\n                                        </div>\n                                        <span className=\"text-[11px] font-black text-center truncate w-full text-white tracking-tight uppercase\">{profile.username}</span>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                )}\n\n                {/* Recent Gossips Section Header */}\n                <div className=\"px-6 mb-4 flex items-center gap-3\">\n                    <h3 className=\"text-[11px] font-black tracking-[0.2em] text-white/20 uppercase\">Recent Gossips</h3>\n                    <img src=\"/gossip_illustration.png\" alt=\"\" className=\"w-12 h-12 -mt-4 opacity-50\" />\n                </div>\n\n                {/* Chat List */}\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n                    <div className=\"space-y-1\">\n                        {rooms.filter(room => {\n                            const other = room.room_participants?.find(p => p.user_id !== user?.id);\n                            if (other && blockedIds.has(other.user_id)) return false;\n                            return true;\n                        }).map((room) => {\n                            let displayName = room.name || \"UNNAMED CHAT\";\n                            let displayAvatar = undefined;\n                            let isOnline = false;\n                            let gender = undefined;\n\n                            if (room.room_participants) {\n                                const other = room.room_participants.find(p => p.user_id !== user?.id);\n                                if (other && other.profiles) {\n                                    displayName = (other.profiles.full_name || other.profiles.username || \"Unknown User\").toUpperCase();\n                                    displayAvatar = other.profiles.avatar_url;\n                                    isOnline = true;\n                                    gender = other.profiles.gender;\n                                }\n                            }\n\n                            const isActive = currentRoomId === room.id;\n\n                            return (\n                                <Link href={`/chat?roomId=${room.id}`} key={room.id} className=\"block group\">\n                                    <div className={cn(\n                                        \"px-6 py-3 transition-all cursor-pointer flex items-center gap-4\",\n                                        isActive ? \"bg-primary/10\" : \"hover:bg-white/[0.03]\"\n                                    )}>\n                                        <div className=\"relative\">\n                                            <Avatar\n                                                src={displayAvatar}\n                                                fallback={displayName[0] || \"?\"}\n                                                className=\"w-[58px] h-[58px] rounded-full ring-2 ring-white/5\"\n                                            />\n                                            {isOnline && (\n                                                <span className=\"absolute bottom-0 right-1 w-4 h-4 bg-online border-[3px] border-black rounded-full\"></span>\n                                            )}\n                                        </div>\n                                        <div className=\"overflow-hidden flex-1 border-b border-white/5 pb-3 group-last:border-none\">\n                                            <div className=\"flex justify-between items-center mb-1\">\n                                                <p className=\"text-[16px] font-black tracking-tight truncate\" style={{ color: getNameColor(gender) }}>\n                                                    {displayName}\n                                                </p>\n                                                <p className=\"text-[11px] font-bold text-white/20\">\n                                                    {formatTime(room.updated_at)}\n                                                </p>\n                                            </div>\n                                            <div className=\"flex justify-between items-center\">\n                                                <p className={cn(\"text-xs truncate flex-1 pr-2 font-medium\", isActive ? \"text-primary/70\" : \"text-white/30\")}>\n                                                    {room.last_message || \"Started a gossip...\"}\n                                                </p>\n                                                {/* Mocked unread badge if needed */}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            )\n                        })}\n                        {rooms.length === 0 && (\n                            <div className=\"flex flex-col items-center justify-center p-12 text-center\">\n                                <MessageSquare className=\"w-12 h-12 text-white/10 mb-4\" />\n                                <p className=\"text-xs text-white/30 font-bold uppercase tracking-widest italic\">No gossips yet</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Footer User Info */}\n                <div className=\"p-4 border-t border-white/5 bg-black/80 backdrop-blur-md\">\n                    <div className=\"flex items-center gap-3\">\n                        <Avatar src={user?.user_metadata?.avatar_url} fallback={user?.email || \"?\"} className=\"w-10 h-10 ring-2 ring-white/10 shadow-lg\" />\n                        <div className=\"flex-1 overflow-hidden\">\n                            <p className=\"text-[13px] font-black truncate text-white uppercase tracking-tight\">{user?.user_metadata?.username || user?.email?.split('@')[0]}</p>\n                            <p className=\"text-[11px] font-bold text-primary flex items-center gap-1 uppercase tracking-widest\">\n                                Online\n                            </p>\n                        </div>\n                        <div className=\"flex gap-1\">\n                            <button onClick={() => setShowSettings(true)} className=\"text-white/40 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-xl\">\n                                <Settings className=\"w-5 h-5\" />\n                            </button>\n                            <button onClick={handleLogout} className=\"text-white/40 hover:text-secondary transition-colors p-2 hover:bg-white/5 rounded-xl\">\n                                <LogOut className=\"w-5 h-5\" />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </aside>\n            {showSearch && <UserSearch onClose={() => setShowSearch(false)} currentUserId={user?.id} />}\n            {showRequests && <ConnectionRequests onClose={() => setShowRequests(false)} currentUserId={user?.id} />}\n            {showSettings && <SettingsModal onClose={() => setShowSettings(false)} user={user} />}\n        </>\n    );\n}\n"],"names":["c","_c","useEffect","useState","createClient","Avatar","Link","usePathname","cn","LogOut","MessageSquare","Plus","Search","UserPlus","Users","Phone","Radio","useRouter","useSearchParams","UserSearch","ConnectionRequests","SettingsModal","Settings","GradientText","Room","id","name","is_group","last_message","updated_at","room_participants","user_id","profiles","username","full_name","avatar_url","gender","Connection","addressee_id","requester_id","status","requester","addressee","Sidebar","t0","$","$i","Symbol","for","user","t1","rooms","setRooms","t2","matches","setMatches","showSearch","setShowSearch","showRequests","setShowRequests","showSettings","setShowSettings","pendingCount","setPendingCount","t3","Set","blockedIds","setBlockedIds","t4","supabase","searchParams","router","t5","get","currentRoomId","t6","t7","Sidebar[useEffect()]","fetchRooms","Sidebar[useEffect() > fetchRooms]","data","from","select","order","ascending","fetchPendingCount","Sidebar[useEffect() > fetchPendingCount]","count","head","eq","matchesData","or","limit","blocks","map","_SidebarUseEffectFetchPendingCountBlocksMap","roomChannel","channel","on","event","schema","table","Sidebar[useEffect() > (anonymous)()]","subscribe","connectionChannel","removeChannel","t8","Sidebar[handleLogout]","auth","signOut","push","handleLogout","getNameColor","_SidebarGetNameColor","formatTime","_SidebarFormatTime","t9","t10","t11","Sidebar[<button>.onClick]","t12","t13","t14","t15","t16","t17","t18","Sidebar[<input>.onClick]","t19","length","match","isRequester","profile","t20","t21","t22","room","other","find","p","has","t23","room_0","displayName","displayAvatar","undefined","isOnline","gender_0","other_0","p_0","toUpperCase","isActive","color","filter","t24","user_metadata","t25","email","t26","t27","split","t28","t29","t30","t31","t32","t33","t34","t35","t36","t37","Sidebar[<UserSearch>.onClose]","t38","Sidebar[<ConnectionRequests>.onClose]","t39","Sidebar[<SettingsModal>.onClose]","t40","dateStr","date","Date","now","diff","getTime","minutes","Math","floor","hours","toLocaleDateString","month","day","toLowerCase","b","blocked_id"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5567, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams } from \"next/navigation\";\nimport { Suspense, useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { User } from \"@supabase/supabase-js\";\nimport ChatWindow from \"@/components/chat-window\";\nimport { Sidebar } from \"@/components/sidebar\";\n\nfunction ChatContent() {\n    const searchParams = useSearchParams();\n    const roomId = searchParams.get(\"roomId\");\n    const [user, setUser] = useState<User | null>(null);\n    const supabase = createClient();\n\n    useEffect(() => {\n        supabase.auth.getUser().then(({ data: { user } }) => setUser(user));\n    }, [supabase.auth]);\n\n    if (!user) return null;\n\n    if (!roomId) {\n        return <Sidebar user={user} />;\n    }\n\n    return <ChatWindow roomId={roomId} user={user} />;\n}\n\nexport default function DashboardPage() {\n    return (\n        <Suspense fallback={<div>Loading...</div>}>\n            <ChatContent />\n        </Suspense>\n    );\n}\n"],"names":["c","_c","useSearchParams","Suspense","useEffect","useState","createClient","User","ChatWindow","Sidebar","ChatContent","$","$i","Symbol","for","searchParams","t0","get","roomId","user","setUser","t1","supabase","t2","t3","ChatContent[useEffect()]","auth","getUser","then","t4","data","t5","user_0","DashboardPage"],"mappings":"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","ignoreList":[]}}]
}
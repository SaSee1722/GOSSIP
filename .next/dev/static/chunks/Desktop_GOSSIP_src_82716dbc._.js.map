{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/user-search.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Search, UserPlus, Check, X } from \"lucide-react\";\nimport { Profile } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { useToast } from \"@/contexts/toast-context\";\n\ninterface UserSearchProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function UserSearch({ onClose, currentUserId }: UserSearchProps) {\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState<Profile[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [requested, setRequested] = useState<Set<string>>(new Set());\n    const supabase = createClient();\n    const { addToast } = useToast();\n\n    const handleSearch = async () => {\n        if (!query.trim()) return;\n        setLoading(true);\n\n        // Simple search by username or full_name\n        const { data, error } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .or(`username.ilike.%${query}%,full_name.ilike.%${query}%`)\n            .neq(\"id\", currentUserId)\n            .limit(10);\n\n        if (data) {\n            // Filter out already connected users? For now showing all.\n            setResults(data);\n        }\n        setLoading(false);\n    };\n\n    const sendRequest = async (targetId: string) => {\n        // Optimistic update\n        setRequested((prev) => new Set(prev).add(targetId));\n\n        // 1. Check if a connection tuple already exists (in either direction)\n        const { data: existing, error: fetchError } = await supabase\n            .from(\"connections\")\n            .select(\"*\")\n            .or(`and(requester_id.eq.${currentUserId},addressee_id.eq.${targetId}),and(requester_id.eq.${targetId},addressee_id.eq.${currentUserId})`)\n            .maybeSingle();\n\n        if (fetchError) {\n            console.error(\"Error checking connection:\", fetchError);\n            return;\n        }\n\n        let error = null;\n\n        if (existing) {\n            // 2. If exists, handle based on status\n            if (existing.status === 'rejected') {\n                // Re-activate as a new request from me\n                const { error: updateError } = await supabase\n                    .from(\"connections\")\n                    .update({ status: 'pending', requester_id: currentUserId, addressee_id: targetId })\n                    .eq(\"id\", existing.id);\n                error = updateError;\n            } else {\n                // 'pending' or 'accepted' - Do nothing to prevent duplicate key error\n                // The UI already shows a checkmark optimistically\n                console.log(\"Connection already exists or is pending.\");\n            }\n        } else {\n            // 3. New Record\n            const { error: insertError } = await supabase\n                .from(\"connections\")\n                .insert({ requester_id: currentUserId, addressee_id: targetId });\n            error = insertError;\n        }\n\n        if (error) {\n            console.error(\"Failed to send request\", error);\n            // Revert on error\n            setRequested((prev) => {\n                const next = new Set(prev);\n                next.delete(targetId);\n                return next;\n            });\n            addToast(\"Failed to send request: \" + error.message, \"error\");\n        } else {\n            addToast(\"Request sent!\", \"success\");\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white\">Find People</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-4\">\n                    <div className=\"flex gap-2\">\n                        <div className=\"relative flex-1\">\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50\" />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Search by username...\"\n                                className=\"w-full bg-white/5 border border-white/10 rounded-xl py-2 pl-9 pr-4 text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all\"\n                                value={query}\n                                onChange={(e) => setQuery(e.target.value)}\n                                onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n                            />\n                        </div>\n                        <button\n                            onClick={handleSearch}\n                            disabled={loading}\n                            className=\"px-4 py-2 bg-primary text-primary-foreground font-medium rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50\"\n                        >\n                            {loading ? \"...\" : \"Search\"}\n                        </button>\n                    </div>\n\n                    <div className=\"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar\">\n                        {results.length === 0 && !loading && query && (\n                            <p className=\"text-center text-white/30 py-4\">No users found.</p>\n                        )}\n\n                        {results.map((user) => (\n                            <div key={user.id} className=\"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/5 transition-all\">\n                                <Avatar src={user.avatar_url || undefined} fallback={user.username || user.full_name || \"?\"} />\n                                <div className=\"flex-1 overflow-hidden\">\n                                    <p className=\"font-semibold text-white truncate\">{user.full_name || user.username || \"Unknown\"}</p>\n                                    <p className=\"text-xs text-white/50 truncate\">@{user.username}</p>\n                                </div>\n                                <button\n                                    onClick={() => sendRequest(user.id)}\n                                    disabled={requested.has(user.id)}\n                                    className={cn(\n                                        \"p-2 rounded-full transition-all\",\n                                        requested.has(user.id) ? \"bg-green-500/20 text-green-400\" : \"bg-primary/10 text-primary hover:bg-primary/20\"\n                                    )}\n                                >\n                                    {requested.has(user.id) ? <Check className=\"w-4 h-4\" /> : <UserPlus className=\"w-4 h-4\" />}\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useState","createClient","Avatar","Search","UserPlus","Check","X","Profile","cn","useToast","UserSearchProps","onClose","currentUserId","UserSearch","t0","$","$i","Symbol","for","query","setQuery","t1","results","setResults","loading","setLoading","t2","Set","requested","setRequested","supabase","addToast","handleSearch","UserSearch[handleSearch]","trim","data","from","select","or","neq","limit","sendRequest","targetId","prev","add","existing","error","fetchError","maybeSingle","console","error_0","status","updateError","update","requester_id","addressee_id","eq","id","log","insertError","insert","prev_0","next","delete","message","t3","t4","t5","t6","t7","e","target","value","t8","t9","t10","t11","length","t12","map","user","avatar_url","undefined","username","full_name","UserSearch[results.map() > <button>.onClick]","has","t13","e_0","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/connection-requests.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Check, X, UserCheck, MessageCircle } from \"lucide-react\";\nimport { Connection } from \"@/lib/types\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ConnectionRequestsProps {\n    onClose: () => void;\n    currentUserId: string;\n}\n\nexport function ConnectionRequests({ onClose, currentUserId }: ConnectionRequestsProps) {\n    const [requests, setRequests] = useState<Connection[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n    const router = useRouter();\n\n    useEffect(() => {\n        fetchRequests();\n    }, []);\n\n    const fetchRequests = async () => {\n        const { data, error } = await supabase\n            .from(\"connections\")\n            .select(\"*, requester:profiles!requester_id(*)\")\n            .eq(\"addressee_id\", currentUserId)\n            .eq(\"status\", \"pending\");\n\n        if (data) {\n            setRequests(data as any); // Cast because Supabase joined types are tricky\n        }\n        setLoading(false);\n    };\n\n    const handleResponse = async (id: string, status: 'accepted' | 'rejected') => {\n        const { error } = await supabase\n            .from(\"connections\")\n            .update({ status })\n            .eq(\"id\", id);\n\n        if (!error) {\n            setRequests((prev) => prev.filter(req => req.id !== id));\n            if (status === 'accepted') {\n                // Find and get request details to get the other user ID\n                const req = requests.find(r => r.id === id);\n                if (req) {\n                    await getOrCreateDm(req.requester_id);\n                }\n            }\n        }\n    };\n\n    const getOrCreateDm = async (otherUserId: string) => {\n        setLoading(true);\n        // 1. Check if a DM room already exists\n        // This is a bit complex in Supabase SQL without a function, but we can try a simple creating approach\n        // or just create a new one for now and rely on unique constraints if we had them (we might not).\n        // Better approach: Create a new room with is_group=false. \n        // Real-world app would query room_participants to find common room.\n\n        // Let's create a new DM room for simplicity and reliability in this session\n        const { data: roomData, error: roomError } = await supabase\n            .from(\"rooms\")\n            .insert({ is_group: false, name: \"Direct Message\" }) // Name is often ignored for DMs in UI\n            .select()\n            .single();\n\n        if (roomData) {\n            // Add participants\n            await supabase.from(\"room_participants\").insert([\n                { room_id: roomData.id, user_id: currentUserId },\n                { room_id: roomData.id, user_id: otherUserId }\n            ]);\n\n            onClose();\n            router.push(`/chat?roomId=${roomData.id}`);\n        } else {\n            console.error(\"Failed to create room\", roomError);\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\n            <div className=\"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                        <UserCheck className=\"w-5 h-5 text-primary\" />\n                        Connection Requests\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-white/70\" />\n                    </button>\n                </div>\n\n                <div className=\"p-4 space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar\">\n                    {loading && <p className=\"text-center text-white/30 py-4\">Loading...</p>}\n                    {!loading && requests.length === 0 && (\n                        <div className=\"text-center text-white/30 py-8 flex flex-col items-center gap-2\">\n                            <UserCheck className=\"w-10 h-10 opacity-20\" />\n                            <p>No pending requests.</p>\n                        </div>\n                    )}\n\n                    {requests.map((req) => (\n                        <div key={req.id} className=\"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/5\">\n                            <Avatar\n                                src={req.requester?.avatar_url || undefined}\n                                fallback={req.requester?.username || \"?\"}\n                            />\n                            <div className=\"flex-1 overflow-hidden\">\n                                <p className=\"font-semibold text-white truncate\">\n                                    {req.requester?.full_name || req.requester?.username || \"Unknown User\"}\n                                </p>\n                                <p className=\"text-xs text-white/50 truncate\">\n                                    wants to connect\n                                </p>\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                                <button\n                                    onClick={() => handleResponse(req.id, 'accepted')}\n                                    className=\"p-2 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded-full transition-colors\"\n                                    title=\"Accept\"\n                                >\n                                    <Check className=\"w-4 h-4\" />\n                                </button>\n                                <button\n                                    onClick={() => handleResponse(req.id, 'rejected')}\n                                    className=\"p-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-full transition-colors\"\n                                    title=\"Reject\"\n                                >\n                                    <X className=\"w-4 h-4\" />\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","createClient","Avatar","Check","X","UserCheck","MessageCircle","Connection","useRouter","ConnectionRequestsProps","onClose","currentUserId","ConnectionRequests","requests","setRequests","loading","setLoading","supabase","router","fetchRequests","data","error","from","select","eq","handleResponse","id","status","update","prev","filter","req","find","r","getOrCreateDm","requester_id","otherUserId","roomData","roomError","insert","is_group","name","single","room_id","user_id","push","console","length","map","requester","avatar_url","undefined","username","full_name"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/settings-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { X, Shield, Eye, EyeOff, UserX, Loader2, Unlock } from \"lucide-react\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/contexts/toast-context\";\n\nexport function SettingsModal({ onClose, user }: { onClose: () => void; user: any }) {\n    const [lastSeenEnabled, setLastSeenEnabled] = useState(true);\n    const [blockedUsers, setBlockedUsers] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n    const { addToast } = useToast();\n\n    useEffect(() => {\n        const fetchSettings = async () => {\n            // Fetch profile settings\n            const { data: profile } = await supabase.from(\"profiles\").select(\"last_seen_enabled\").eq(\"id\", user.id).single();\n            if (profile) setLastSeenEnabled(profile.last_seen_enabled);\n\n            // Fetch blocked users\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(`\n                    *,\n                    blocked:profiles!blocked_id(*)\n                `)\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) setBlockedUsers(blocks);\n            setLoading(false);\n        };\n\n        fetchSettings();\n    }, [user.id, supabase]);\n\n    const toggleLastSeen = async () => {\n        const newValue = !lastSeenEnabled;\n        setLastSeenEnabled(newValue);\n        await supabase.from(\"profiles\").update({ last_seen_enabled: newValue }).eq(\"id\", user.id);\n    };\n\n    const unblockUser = async (blockId: string) => {\n        const { error } = await supabase.from(\"blocked_users\").delete().eq(\"id\", blockId);\n        if (!error) {\n            setBlockedUsers(prev => prev.filter(b => b.id !== blockId));\n            addToast(\"User unblocked\", \"success\");\n        } else {\n            addToast(\"Failed to unblock\", \"error\");\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-[#1F2125] border border-white/10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden font-sans\">\n                <div className=\"p-4 border-b border-white/5 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\n                        <Shield className=\"w-5 h-5 text-primary\" />\n                        Privacy Settings\n                    </h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-full text-gray-400 hover:text-white transition-colors\">\n                        <X className=\"w-5 h-5\" />\n                    </button>\n                </div>\n\n                <div className=\"p-6 space-y-8\">\n                    {/* Last Seen Section */}\n                    <div className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between\">\n                            <div className=\"space-y-1\">\n                                <h3 className=\"text-base font-semibold text-white flex items-center gap-2\">\n                                    <Eye className=\"w-4 h-4 text-gray-400\" />\n                                    Last Seen Status\n                                </h3>\n                                <p className=\"text-xs text-gray-500\">Allow others to see when you were last active</p>\n                            </div>\n                            <button\n                                onClick={toggleLastSeen}\n                                className={`w-12 h-6 rounded-full p-1 transition-colors duration-200 ease-in-out ${lastSeenEnabled ? 'bg-primary' : 'bg-white/10'}`}\n                            >\n                                <div className={`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${lastSeenEnabled ? 'translate-x-6' : 'translate-x-0'}`} />\n                            </button>\n                        </div>\n                    </div>\n\n                    <hr className=\"border-white/5\" />\n\n                    {/* Blocked Users Section */}\n                    <div className=\"space-y-4\">\n                        <div className=\"space-y-1\">\n                            <h3 className=\"text-base font-semibold text-white flex items-center gap-2\">\n                                <UserX className=\"w-4 h-4 text-gray-400\" />\n                                Blocked Users\n                            </h3>\n                            <p className=\"text-xs text-gray-500\">Manage users you have blocked</p>\n                        </div>\n\n                        {loading ? (\n                            <div className=\"flex justify-center p-4\">\n                                <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\n                            </div>\n                        ) : blockedUsers.length === 0 ? (\n                            <p className=\"text-sm text-gray-600 italic text-center py-2\">No blocked users</p>\n                        ) : (\n                            <div className=\"space-y-2 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar\">\n                                {blockedUsers.map((block) => (\n                                    <div key={block.id} className=\"flex items-center justify-between bg-black/20 p-2 rounded-lg border border-white/5\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <Avatar src={block.blocked?.avatar_url} fallback={block.blocked?.username?.[0] || \"?\"} className=\"w-8 h-8\" />\n                                            <span className=\"text-sm text-gray-300\">{block.blocked?.username || \"Unknown\"}</span>\n                                        </div>\n                                        <button\n                                            onClick={() => unblockUser(block.id)}\n                                            className=\"text-xs text-red-400 hover:text-red-300 px-3 py-1 bg-red-400/10 hover:bg-red-400/20 rounded-md transition-colors flex items-center gap-1\"\n                                        >\n                                            <Unlock className=\"w-3 h-3\" /> Unblock\n                                        </button>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["c","_c","useEffect","useState","createClient","X","Shield","Eye","EyeOff","UserX","Loader2","Unlock","Avatar","useToast","SettingsModal","t0","$","$i","Symbol","for","onClose","user","lastSeenEnabled","setLastSeenEnabled","t1","blockedUsers","setBlockedUsers","loading","setLoading","t2","supabase","addToast","t3","t4","id","SettingsModal[useEffect()]","fetchSettings","SettingsModal[useEffect() > fetchSettings]","data","profile","from","select","eq","single","last_seen_enabled","blocks","t5","SettingsModal[toggleLastSeen]","newValue","update","toggleLastSeen","t6","blockId","error","delete","prev","filter","b","unblockUser","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","length","map","block","blocked","avatar_url","username","SettingsModal[blockedUsers.map() > <button>.onClick]","t18","t19"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { LogOut, Plus, Search, UserPlus } from \"lucide-react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { UserSearch } from \"./user-search\";\nimport { ConnectionRequests } from \"./connection-requests\";\nimport { SettingsModal } from \"./settings-modal\";\nimport { Settings } from \"lucide-react\";\n\ninterface Room {\n    id: string;\n    name: string | null;\n    is_group: boolean;\n    last_message?: string;\n    updated_at: string;\n    room_participants?: {\n        user_id: string;\n        profiles: {\n            username: string;\n            full_name: string;\n            avatar_url: string;\n        }\n    }[];\n}\n\ninterface Connection {\n    id: string;\n    addressee_id: string;\n    requester_id: string;\n    status: string;\n    requester?: { username: string; avatar_url: string; full_name: string };\n    addressee?: { username: string; avatar_url: string; full_name: string };\n}\n\nexport function Sidebar({ user }: { user: any }) {\n    const [rooms, setRooms] = useState<Room[]>([]);\n    const [matches, setMatches] = useState<Connection[]>([]);\n    const [showSearch, setShowSearch] = useState(false);\n    const [showRequests, setShowRequests] = useState(false);\n    const [showSettings, setShowSettings] = useState(false);\n    const [pendingCount, setPendingCount] = useState(0);\n    const [blockedIds, setBlockedIds] = useState<Set<string>>(new Set());\n    const supabase = createClient();\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const router = useRouter();\n    const currentRoomId = searchParams.get(\"roomId\");\n\n    useEffect(() => {\n        const fetchRooms = async () => {\n            // For simplicity in this demo, fetching all rooms. \n            // In real app: fetch rooms where user is participant.\n            // Fetch rooms with participants to determine names for DMs\n            const { data } = await supabase\n                .from(\"rooms\")\n                .select(`\n                    *,\n                    room_participants(\n                        user_id,\n                        profiles(username, full_name, avatar_url)\n                    )\n                `)\n                .order(\"created_at\", { ascending: false });\n\n            if (data) setRooms(data as any);\n        };\n\n        const fetchPendingCount = async () => {\n            const { count } = await supabase\n                .from(\"connections\")\n                .select(\"*\", { count: 'exact', head: true })\n                .eq(\"addressee_id\", user?.id)\n                .eq(\"status\", \"pending\");\n            setPendingCount(count || 0);\n\n            // Fetch \"Matches\" (Accepted connections)\n            const { data: matchesData } = await supabase\n                .from(\"connections\")\n                .select(`\n                    *,\n                    requester:profiles!requester_id(username, avatar_url, full_name),\n                    addressee:profiles!addressee_id(username, avatar_url, full_name)\n                `)\n                .or(`requester_id.eq.${user.id},addressee_id.eq.${user.id}`)\n                .eq(\"status\", \"accepted\")\n                .limit(10);\n\n            if (matchesData) setMatches(matchesData as any);\n\n            // Fetch Blocked Users\n            const { data: blocks } = await supabase\n                .from(\"blocked_users\")\n                .select(\"blocked_id\")\n                .eq(\"blocker_id\", user.id);\n\n            if (blocks) {\n                setBlockedIds(new Set(blocks.map(b => b.blocked_id)));\n            }\n        };\n\n        if (user) {\n            fetchRooms();\n            fetchPendingCount();\n        }\n\n        const roomChannel = supabase\n            .channel(\"rooms_realtime\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"rooms\" }, () => fetchRooms())\n            .subscribe();\n\n        const connectionChannel = supabase\n            .channel(\"connections_sidebar\")\n            .on(\"postgres_changes\", { event: \"*\", schema: \"public\", table: \"connections\" }, () => fetchPendingCount())\n            .subscribe();\n\n        return () => {\n            supabase.removeChannel(roomChannel);\n            supabase.removeChannel(connectionChannel);\n        };\n    }, [user, supabase]);\n\n    const handleCreateRoom = async () => {\n        const name = prompt(\"Enter room name:\");\n        if (!name) return;\n\n        const { data, error } = await supabase.from(\"rooms\").insert({ name, is_group: true }).select().single();\n        if (error) alert(error.message);\n        else {\n            // Join the room as creator\n            await supabase.from(\"room_participants\").insert({ room_id: data.id, user_id: user.id });\n            router.push(`/chat?roomId=${data.id}`);\n        }\n    };\n\n    const handleLogout = async () => {\n        await supabase.auth.signOut();\n        router.push(\"/login\");\n    };\n\n    return (\n        <>\n            <aside className=\"w-full h-full bg-background text-foreground flex flex-col font-sans border-r border-divider\">\n                {/* Header */}\n                <div className=\"p-6 pb-2\">\n                    <div className=\"flex justify-between items-center mb-6\">\n                        <div className=\"flex items-center gap-2\">\n                            <div className=\"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center font-black text-white text-xl shadow-lg shadow-primary/20\">G</div>\n                            <h1 className=\"text-2xl font-black tracking-tighter text-white\">GOSSIP<span className=\"text-primary\">.</span></h1>\n                        </div>\n                        <div className=\"flex gap-2\">\n                            <button onClick={() => setShowRequests(true)} className=\"relative p-2.5 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all group\">\n                                <UserPlus className=\"w-5 h-5 text-text-secondary group-hover:text-primary\" />\n                                {pendingCount > 0 && (\n                                    <span className=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white border-2 border-background\">\n                                        {pendingCount}\n                                    </span>\n                                )}\n                            </button>\n                            <button onClick={handleCreateRoom} className=\"p-2.5 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all group\">\n                                <Plus className=\"w-5 h-5 text-text-secondary group-hover:text-primary\" />\n                            </button>\n                        </div>\n                    </div>\n                    <h3 className=\"text-[12px] font-black tracking-[0.2em] text-text-tertiary mb-2 uppercase flex items-center gap-2\">\n                        <span className=\"w-1 h-1 bg-primary rounded-full animate-pulse\" />\n                        Recent Gossips\n                    </h3>\n                </div>\n\n                {/* Search Bar - Glass Effect */}\n                <div className=\"px-6 py-4\">\n                    <div className=\"bg-surface-glass-light rounded-md flex items-center px-4 py-2 gap-3 border border-transparent focus-within:border-primary/50 transition-all\">\n                        <Search className=\"w-5 h-5 text-text-secondary\" />\n                        <input\n                            placeholder=\"Search chats...\"\n                            className=\"bg-transparent border-none outline-none text-body w-full placeholder:text-text-tertiary text-foreground\"\n                            onClick={() => setShowSearch(true)}\n                        />\n                    </div>\n                </div>\n\n                {/* Matches Rail (Connections) */}\n                <div className=\"px-6 pb-4\">\n                    <h3 className=\"text-[12px] font-black tracking-[0.2em] text-text-tertiary mb-4 uppercase flex items-center gap-2\">\n                        <span className=\"w-1 h-1 bg-secondary rounded-full animate-pulse\" />\n                        Connections\n                    </h3>\n                    <div className=\"flex gap-4 overflow-x-auto pb-2 scrollbar-hide\">\n                        <button onClick={() => setShowSearch(true)} className=\"flex flex-col items-center gap-2 min-w-[60px]\">\n                            <div className=\"w-[60px] h-[60px] rounded-full border-2 border-dashed border-divider hover:border-primary flex items-center justify-center text-text-tertiary hover:text-primary transition-colors bg-surface/50\">\n                                <Search className=\"w-6 h-6\" />\n                            </div>\n                            <span className=\"text-small font-medium text-text-secondary\">Search</span>\n                        </button>\n\n                        {matches.map((match) => {\n                            const isRequester = match.requester_id === user.id;\n                            const profile = isRequester ? match.addressee : match.requester;\n                            if (!profile) return null;\n\n                            return (\n                                <div key={match.id} className=\"flex flex-col items-center gap-2 min-w-[60px]\">\n                                    <div className=\"relative\">\n                                        <Avatar src={profile.avatar_url || ''} fallback={profile.username?.[0] || \"?\"} className=\"w-[60px] h-[60px] border-2 border-primary-dark p-0.5\" />\n                                        <span className=\"absolute bottom-0 right-0 w-3.5 h-3.5 bg-online border-2 border-background rounded-full\"></span>\n                                    </div>\n                                    <span className=\"text-small font-medium text-center truncate w-full text-foreground\">{profile.username}</span>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n\n                {/* Chat List */}\n                <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n                    <div className=\"space-y-0\">\n                        {rooms.filter(room => {\n                            const other = room.room_participants?.find(p => p.user_id !== user?.id);\n                            if (other && blockedIds.has(other.user_id)) return false;\n                            return true;\n                        }).map((room) => {\n                            let displayName = room.name || \"Unnamed Chat\";\n                            let displayAvatar = undefined;\n                            let isOnline = false;\n\n                            if (room.room_participants) {\n                                const other = room.room_participants.find(p => p.user_id !== user?.id);\n                                if (other && other.profiles) {\n                                    displayName = other.profiles.full_name || other.profiles.username || \"Unknown User\";\n                                    displayAvatar = other.profiles.avatar_url;\n                                    // Mocking online status for UI alignment\n                                    isOnline = true;\n                                }\n                            }\n\n                            const isActive = currentRoomId === room.id;\n\n                            return (\n                                <Link href={`/chat?roomId=${room.id}`} key={room.id} className=\"block\">\n                                    <div className={cn(\n                                        \"px-6 py-4 transition-all cursor-pointer flex items-center gap-4 border-b border-divider\",\n                                        isActive ? \"bg-primary/10\" : \"hover:bg-surface/30\"\n                                    )}>\n                                        <div className=\"relative\">\n                                            <Avatar\n                                                src={displayAvatar}\n                                                fallback={displayName[0] || \"?\"}\n                                                className=\"w-[56px] h-[56px] rounded-full\"\n                                            />\n                                            {isOnline && (\n                                                <span className=\"absolute bottom-0 right-0 w-3.5 h-3.5 bg-online border-[2px] border-surface rounded-full\"></span>\n                                            )}\n                                        </div>\n                                        <div className=\"overflow-hidden flex-1\">\n                                            <div className=\"flex justify-between items-center mb-0.5\">\n                                                <p className={cn(\"text-body-bold truncate\", isActive ? \"text-primary\" : \"text-foreground\")}>\n                                                    {displayName}\n                                                </p>\n                                                <p className=\"text-small text-text-secondary\">\n                                                    {room.updated_at ? new Date(room.updated_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : \"\"}\n                                                </p>\n                                            </div>\n                                            <div className=\"flex justify-between items-center\">\n                                                <p className={cn(\"text-caption truncate flex-1 pr-2\", isActive ? \"text-primary/70\" : \"text-text-secondary\")}>\n                                                    Tap to chat\n                                                </p>\n                                                {/* Unread badge logic removed for simplicity in UI alignment */}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            )\n                        })}\n                        {rooms.length === 0 && (\n                            <p className=\"text-caption text-text-tertiary px-6 py-4 italic\">No messages yet</p>\n                        )}\n                    </div>\n                </div>\n\n                {/* Footer User Info */}\n                <div className=\"p-4 border-t border-divider glass-header sticky bottom-0\">\n                    <div className=\"flex items-center gap-3\">\n                        <Avatar src={user?.user_metadata?.avatar_url} fallback={user?.email || \"?\"} className=\"w-10 h-10 ring-2 ring-divider shadow-reference-sm\" />\n                        <div className=\"flex-1 overflow-hidden\">\n                            <p className=\"text-caption font-semibold truncate text-foreground\">{user?.email}</p>\n                            <p className=\"text-small text-primary flex items-center gap-1\">\n                                My Profile\n                            </p>\n                        </div>\n                        <button onClick={() => setShowSettings(true)} className=\"text-text-secondary hover:text-foreground transition-colors p-2 hover:bg-surface rounded-full\" title=\"Settings\">\n                            <Settings className=\"w-5 h-5\" />\n                        </button>\n                        <button onClick={handleLogout} className=\"text-text-secondary hover:text-red-400 transition-colors p-2 hover:bg-surface rounded-full\" title=\"Logout\">\n                            <LogOut className=\"w-5 h-5\" />\n                        </button>\n                    </div>\n                </div>\n            </aside>\n            {showSearch && <UserSearch onClose={() => setShowSearch(false)} currentUserId={user?.id} />}\n            {showRequests && <ConnectionRequests onClose={() => setShowRequests(false)} currentUserId={user?.id} />}\n            {showSettings && <SettingsModal onClose={() => setShowSettings(false)} user={user} />}\n        </>\n    );\n}\n"],"names":["c","_c","useEffect","useState","createClient","Avatar","Link","usePathname","cn","LogOut","Plus","Search","UserPlus","useRouter","useSearchParams","UserSearch","ConnectionRequests","SettingsModal","Settings","Room","id","name","is_group","last_message","updated_at","room_participants","user_id","profiles","username","full_name","avatar_url","Connection","addressee_id","requester_id","status","requester","addressee","Sidebar","t0","$","$i","Symbol","for","user","t1","rooms","setRooms","t2","matches","setMatches","showSearch","setShowSearch","showRequests","setShowRequests","showSettings","setShowSettings","pendingCount","setPendingCount","t3","Set","blockedIds","setBlockedIds","t4","supabase","searchParams","router","t5","get","currentRoomId","t6","t7","Sidebar[useEffect()]","fetchRooms","Sidebar[useEffect() > fetchRooms]","data","from","select","order","ascending","fetchPendingCount","Sidebar[useEffect() > fetchPendingCount]","count","head","eq","matchesData","or","limit","blocks","map","_SidebarUseEffectFetchPendingCountBlocksMap","roomChannel","channel","on","event","schema","table","Sidebar[useEffect() > (anonymous)()]","subscribe","connectionChannel","removeChannel","t8","Sidebar[handleCreateRoom]","prompt","data_0","error","insert","single","alert","message","room_id","push","handleCreateRoom","t9","Sidebar[handleLogout]","auth","signOut","handleLogout","t10","t11","t12","Sidebar[<button>.onClick]","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","Sidebar[<input>.onClick]","t23","t24","t25","t26","t27","match","isRequester","profile","t28","t29","room","other","find","p","has","t30","room_0","displayName","displayAvatar","undefined","isOnline","other_0","p_0","isActive","Date","toLocaleTimeString","hour","minute","filter","length","t31","user_metadata","t32","email","t33","t34","t35","t36","t37","t38","t39","t40","t41","t42","t43","t44","Sidebar[<UserSearch>.onClose]","t45","Sidebar[<ConnectionRequests>.onClose]","t46","Sidebar[<SettingsModal>.onClose]","t47","b","blocked_id"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,EAAE,QAAQ,aAAa;;;AAChC,SAASC,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,cAAc;;AAE7D,SAASG,UAAU,QAAQ,eAAe;AAC1C,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,QAAQ,QAAQ,cAAc;;;AAbvC,YAAY;;;;;;;;;;;;;;AAwCL,iBAAAoB,EAAA;;IAAA,MAAAC,CAAA,OAAAtC,qMAAA,EAAA;IAAA,IAAAsC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAiB,MAAA,EAAAI,IAAAA,EAAA,GAAAL,EAAuB;IAAA,IAAAM,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACAE,EAAA,GAAA,EAAE;QAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAA7C,MAAA,CAAAM,KAAA,EAAAC,QAAA,CAAA,OAA0B3C,8LAAQ,EAASyC,EAAE,CAAC;IAAC,IAAAG,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACMK,EAAA,GAAA,EAAE;QAAAR,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAvD,MAAA,CAAAS,OAAA,EAAAC,UAAA,CAAA,OAA8B9C,8LAAQ,EAAe4C,EAAE,CAAC;IACxD,MAAA,CAAAG,UAAA,EAAAC,aAAA,CAAA,OAAoChD,8LAAQ,EAAC,KAAK,CAAC;IACnD,MAAA,CAAAiD,YAAA,EAAAC,eAAA,CAAA,OAAwClD,8LAAQ,EAAC,KAAK,CAAC;IACvD,MAAA,CAAAmD,YAAA,EAAAC,eAAA,CAAA,OAAwCpD,8LAAQ,EAAC,KAAK,CAAC;IACvD,MAAA,CAAAqD,YAAA,EAAAC,eAAA,CAAA,GAAwCtD,kMAAQ,EAAC,CAAC,CAAC;IAAC,IAAAuD,EAAA;IAAA,IAAAnB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACMgB,EAAA,GAAA,IAAIC,GAAG,CAAC,CAAC;QAAApB,CAAA,CAAA,EAAA,GAAAmB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAnB,CAAA,CAAA,EAAA;IAAA;IAAnE,MAAA,CAAAqB,UAAA,EAAAC,aAAA,CAAA,OAAoC1D,8LAAQ,EAAcuD,EAAS,CAAC;IAAC,IAAAI,EAAA;IAAA,IAAAvB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACpDoB,EAAA,OAAA1D,wKAAY,CAAC,CAAC;QAAAmC,CAAA,CAAA,EAAA,GAAAuB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvB,CAAA,CAAA,EAAA;IAAA;IAA/B,MAAAwB,QAAA,GAAiBD,EAAc;iLACH,CAAC,CAAC;IAC9B,MAAAE,YAAA;IACA,MAAAC,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAA3B,CAAA,CAAA,EAAA,KAAAyB,YAAA,EAAA;QACLE,EAAA,GAAAF,YAAY,CAAAG,GAAI,CAAC,QAAQ,CAAC;QAAA5B,CAAA,CAAA,EAAA,GAAAyB,YAAA;QAAAzB,CAAA,CAAA,EAAA,GAAA2B,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA3B,CAAA,CAAA,EAAA;IAAA;IAAhD,MAAA6B,aAAA,GAAsBF,EAA0B;IAAC,IAAAG,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAA/B,CAAA,CAAA,EAAA,KAAAI,IAAA,EAAA;QAEvC0B,EAAA,GAAA,CAAA;YAAA,wBAAAE,CAAA;gBACN,MAAAC,UAAA,GAAmB;oBAAA,qCAAA,MAAAC,CAAA;wBAIf,MAAA,EAAAC,IAAAA,EAAA,GAAiB,MAAMX,QAAQ,CAAAY,IACtB,CAAC,OAAO,CAAC,CAAAC,MACP,CAAC,gNAMP,CAAC,CAAAC,KACI,CAAC,YAAY,EAAE;4BAAAC,SAAA,EAAa;wBAAM,CAAC,CAAC;wBAE9C,IAAIJ,IAAI,EAAA;4BAAE5B,QAAQ,CAAC4B,IAAI,IAAI,GAAG,CAAC;wBAAA;oBAAC;gBAAA,CAAA,CAAA,oCACnC;gBAED,MAAAK,iBAAA,GAA0B;oBAAA,4CAAA,MAAAC,CAAA;wBACtB,MAAA,EAAAC,KAAAA,EAAA,GAAkB,MAAMlB,QAAQ,CAAAY,IACvB,CAAC,aAAa,CAAC,CAAAC,MACb,CAAC,GAAG,EAAE;4BAAAK,KAAA,EAAS,OAAO;4BAAAC,IAAA,EAAQ;wBAAK,CAAC,CAAC,CAAAC,EACzC,CAAC,cAAc,EAAExC,IAAI,EAAAvB,EAAI,CAAC,CAAA+D,EAC1B,CAAC,QAAQ,EAAE,SAAS,CAAC;wBAC5B1B,eAAe,CAACwB,KAAU,IAAV,CAAU,CAAC;wBAG3B,MAAA,EAAAP,IAAA,EAAAU,WAAAA,EAAA,GAA8B,MAAMrB,QAAQ,CAAAY,IACnC,CAAC,aAAa,CAAC,CAAAC,MACb,CAAC,yNAIP,CAAC,CAAAS,EACC,CAAC,CAAA,gBAAA,EAAmB1C,IAAI,CAAAvB,EAAG,CAAA,iBAAA,EAAoBuB,IAAI,CAAAvB,EAAG,EAAE,CAAC,CAAA+D,EACzD,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAAG,KACnB,CAAC,EAAE,CAAC;wBAEd,IAAIF,WAAW,EAAA;4BAAEnC,UAAU,CAACmC,WAAW,IAAI,GAAG,CAAC;wBAAA;wBAG/C,MAAA,EAAAV,IAAA,EAAAa,MAAAA,EAAA,GAAyB,MAAMxB,QAAQ,CAAAY,IAC9B,CAAC,eAAe,CAAC,CAAAC,MACf,CAAC,YAAY,CAAC,CAAAO,EAClB,CAAC,YAAY,EAAExC,IAAI,CAAAvB,EAAG,CAAC;wBAE9B,IAAImE,MAAM,EAAA;4BACN1B,aAAa,CAAC,IAAIF,GAAG,CAAC4B,MAAM,CAAAC,GAAI,CAACC,2CAAiB,CAAC,CAAC,CAAC;wBAAA;oBACxD;gBAAA,CAAA,CAAA,2CACJ;gBAED,IAAI9C,IAAI,EAAA;oBACJ6B,UAAU,CAAC,CAAC;oBACZO,iBAAiB,CAAC,CAAC;gBAAA;gBAGvB,MAAAW,WAAA,GAAoB3B,QAAQ,CAAA4B,OAChB,CAAC,gBAAgB,CAAC,CAAAC,EACvB,CAAC,kBAAkB,EAAE;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,MAAA,EAAU,QAAQ;oBAAAC,KAAA,EAAS;gBAAQ,CAAC,EAAE;oBAAA,wCAAAC,CAAA,GAAMxB,UAAU,CAAC;gBAAC,CAAA,CAAA,uCAAA,CAAC,CAAAyB,SACnF,CAAC,CAAC;gBAEhB,MAAAC,iBAAA,GAA0BnC,QAAQ,CAAA4B,OACtB,CAAC,qBAAqB,CAAC,CAAAC,EAC5B,CAAC,kBAAkB,EAAE;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,MAAA,EAAU,QAAQ;oBAAAC,KAAA,EAAS;gBAAc,CAAC,EAAE;oBAAA,wCAAAC,CAAA,GAAMjB,iBAAiB,CAAC;gBAAC,CAAA,CAAA,uCAAA,CAAC,CAAAkB,SAChG,CAAC,CAAC;gBAAC,OAEV;oBACHlC,QAAQ,CAAAoC,aAAc,CAACT,WAAW,CAAC;oBACnC3B,QAAQ,CAAAoC,aAAc,CAACD,iBAAiB,CAAC;gBAAA,CAC5C;YAAA;SAAA,CAAA,CAAA,uBACJ;QAAE5B,EAAA,GAAA;YAAC3B,IAAI;YAAEoB,QAAQ;SAAC;QAAAxB,CAAA,CAAA,EAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,EAAA,GAAA8B,EAAA;QAAA9B,CAAA,CAAA,EAAA,GAAA+B,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAA9B,CAAA,CAAA,EAAA;QAAA+B,EAAA,GAAA/B,CAAA,CAAA,EAAA;IAAA;QAvEnBrC,+LAAS,EAACmE,EAuET,EAAEC,EAAgB,CAAC;IAAA,IAAA8B,EAAA;IAAA,IAAA7D,CAAA,CAAA,GAAA,KAAA0B,MAAA,IAAA1B,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;QAEKgF,EAAA,GAAA,CAAA;YAAA,6BAAA,MAAAC,CAAA;gBACrB,MAAAhF,IAAA,GAAaiF,MAAM,CAAC,kBAAkB,CAAC;gBACvC,IAAI,CAACjF,IAAI,EAAA;oBAAA;gBAAA;gBAET,MAAA,EAAAqD,IAAA,EAAA6B,MAAA,EAAAC,KAAAA,EAAA,GAAwB,MAAMzC,QAAQ,CAAAY,IAAK,CAAC,OAAO,CAAC,CAAA8B,MAAO,CAAC;oBAAApF,IAAA;oBAAAC,QAAA,EAAkB;gBAAK,CAAC,CAAC,CAAAsD,MAAO,CAAC,CAAC,CAAA8B,MAAO,CAAC,CAAC;gBACvG,IAAIF,KAAK,EAAA;oBAAEG,KAAK,CAACH,KAAK,CAAAI,OAAQ,CAAC;gBAAA,OAAA;oBAG3B,MAAM7C,QAAQ,CAAAY,IAAK,CAAC,mBAAmB,CAAC,CAAA8B,MAAO,CAAC;wBAAAI,OAAA,EAAWnC,MAAI,CAAAtD,EAAG;wBAAAM,OAAA,EAAWiB,IAAI,CAAAvB,EAAAA;oBAAI,CAAC,CAAC;oBACvF6C,MAAM,CAAA6C,IAAK,CAAC,CAAA,aAAA,EAAgBpC,MAAI,CAAAtD,EAAG,EAAE,CAAC;gBAAA;YACzC;SAAA,CAAA,CAAA,4BACJ;QAAAmB,CAAA,CAAA,GAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;QAAAmB,CAAA,CAAA,GAAA,GAAA6D,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA7D,CAAA,CAAA,GAAA;IAAA;IAXD,MAAAwE,gBAAA,GAAyBX,EAWxB;IAAC,IAAAY,EAAA;IAAA,IAAAzE,CAAA,CAAA,GAAA,KAAA0B,MAAA,EAAA;QAEmB+C,EAAA,GAAA,CAAA;YAAA,yBAAA,MAAAC,CAAA;gBACjB,MAAMlD,QAAQ,CAAAmD,IAAK,CAAAC,OAAQ,CAAC,CAAC;gBAC7BlD,MAAM,CAAA6C,IAAK,CAAC,QAAQ,CAAC;YAAA;SAAA,CAAA,CAAA,wBACxB;QAAAvE,CAAA,CAAA,GAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,GAAA,GAAAyE,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAzE,CAAA,CAAA,GAAA;IAAA;IAHD,MAAA6E,YAAA,GAAqBJ,EAGpB;IAAC,IAAAK,GAAA;IAAA,IAAA9E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QASsB2E,GAAA,iBAAA,kNAAA,GAAoL;YAArK,SAA6J,EAA7J,6JAA6J;sBAAC,CAAC,EAA9K,GAAoL;;;;;;QAAA9E,CAAA,CAAA,GAAA,GAAA8E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+E,GAAA;IAAA,IAAA/E,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QADxL4E,GAAA,iBAAA,kNAAA,GAGM;YAHS,SAAyB,EAAzB,yBAAyB,CACpC;;gBAAAD,GAAmL;8BACnL,kNAAA,EAAkH;oBAApG,SAAiD,EAAjD,iDAAiD;;wBAAC;sCAAM,kNAAA,IAAuC;4BAAvB,SAAc,EAAd,cAAc;sCAAC,CAAC,EAAhC,IAAuC,GAA7G,EAAkH,CACtH,EAHA,GAGM;;;;;;;;;;;;;;;;;;QAAA9E,CAAA,CAAA,GAAA,GAAA+E,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/E,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgF,GAAA;IAAA,IAAAhF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEe6E,GAAA,GAAA,CAAA;YAAA,6BAAAC,CAAA,GAAMnE,eAAe,CAAC,IAAI;SAAC,CAAA,CAAA,4BAAA;QAAAd,CAAA,CAAA,GAAA,GAAAgF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkF,GAAA;IAAA,IAAAlF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACxC+E,GAAA,iBAAA,kNAAC,kPAAQ;YAAW,SAAsD,EAAtD,sDAAsD,GAAG;;;;;;QAAAlF,CAAA,CAAA,GAAA,GAAAkF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmF,GAAA;IAAA,IAAAnF,CAAA,CAAA,GAAA,KAAAiB,YAAA,EAAA;QAC5EkE,GAAA,GAAAlE,YAAY,GAAG,CAIf,kBAHG,kNAAA,IAEO;YAFS,SAAuJ,EAAvJ,uJAAuJ,CAClKA;sBAAAA,YAAW,CAChB,EAFA,IAEO,CACV;;;;;;QAAAjB,CAAA,CAAA,GAAA,GAAAiB,YAAA;QAAAjB,CAAA,CAAA,GAAA,GAAAmF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoF,GAAA;IAAA,IAAApF,CAAA,CAAA,GAAA,KAAAmF,GAAA,EAAA;QANLC,GAAA,iBAAA,kNAAA,MAOS;YAPQ,OAA2B,CAA3B,CAAAJ,GAA0B,CAAC;YAAY,SAAoG,EAApG,oGAAoG,CACxJ;;gBAAAE,GAA4E,CAC3E;gBAAAC,GAID,CACJ,EAPA,MAOS;;;;;;;QAAAnF,CAAA,CAAA,GAAA,GAAAmF,GAAA;QAAAnF,CAAA,CAAA,GAAA,GAAAoF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqF,GAAA;IAAA,IAAArF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAELkF,GAAA,iBAAA,kNAAC,kOAAI;YAAW,SAAsD,EAAtD,sDAAsD,GAAG;;;;;;QAAArF,CAAA,CAAA,GAAA,GAAAqF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsF,GAAA;IAAA,IAAAtF,CAAA,CAAA,GAAA,KAAAwE,gBAAA,EAAA;QAD7Ec,GAAA,iBAAA,kNAAA,MAES;YAFQd,OAAgB,CAAhBA,CAAAA,gBAAe,CAAC;YAAY,SAA2F,EAA3F,2FAA2F,CACpI;sBAAAa,GAAwE,CAC5E,EAFA,MAES;;;;;;QAAArF,CAAA,CAAA,GAAA,GAAAwE,gBAAA;QAAAxE,CAAA,CAAA,GAAA,GAAAsF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuF,GAAA;IAAA,IAAAvF,CAAA,CAAA,GAAA,KAAAoF,GAAA,IAAApF,CAAA,CAAA,GAAA,KAAAsF,GAAA,EAAA;QAhBjBC,GAAA,iBAAA,kNAAA,GAkBM;YAlBS,SAAwC,EAAxC,wCAAwC,CACnD;;gBAAAR,GAGK;8BACL,kNAAA,GAYM;oBAZS,SAAY,EAAZ,YAAY,CACvB;;wBAAAK,GAOQ,CACR;wBAAAE,GAEQ,CACZ,EAZA,GAYM,CACV,EAlBA,GAkBM;;;;;;;;;;;;;QAAAtF,CAAA,CAAA,GAAA,GAAAoF,GAAA;QAAApF,CAAA,CAAA,GAAA,GAAAsF,GAAA;QAAAtF,CAAA,CAAA,GAAA,GAAAuF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAvF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwF,GAAA;IAAA,IAAAxF,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACNqF,GAAA,iBAAA,kNAAA,EAGK;YAHS,SAAmG,EAAnG,mGAAmG;;8BAC7G,kNAAA,IAAkE;oBAAlD,SAA+C,EAA/C,+CAA+C;;;;;;gBAAG,cAEtE,EAHA,EAGK;;;;;;;QAAAxF,CAAA,CAAA,GAAA,GAAAwF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAxF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyF,GAAA;IAAA,IAAAzF,CAAA,CAAA,GAAA,KAAAuF,GAAA,EAAA;QAvBTE,GAAA,iBAAA,kNAAA,GAwBM;YAxBS,SAAU,EAAV,UAAU,CACrB;;gBAAAF,GAkBK,CACL;gBAAAC,GAGI,CACR,EAxBA,GAwBM;;;;;;;QAAAxF,CAAA,CAAA,GAAA,GAAAuF,GAAA;QAAAvF,CAAA,CAAA,GAAA,GAAAyF,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAzF,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0F,GAAA;IAAA,IAAA1F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAKEuF,GAAA,iBAAA,kNAAC,wOAAM;YAAW,SAA6B,EAA7B,6BAA6B,GAAG;;;;;;QAAA1F,CAAA,CAAA,GAAA,GAAA0F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2F,GAAA;IAAA,IAAA3F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAF1DwF,GAAA,iBAAA,kNAAA,GASM;YATS,SAAW,EAAX,WAAW;oCACtB,kNAAA,GAOM;gBAPS,SAA6I,EAA7I,6IAA6I,CACxJ;;oBAAAD,GAAiD;kCACjD,kNAAA,KAIE;wBAHc,WAAiB,EAAjB,iBAAiB;wBACnB,SAAyG,EAAzG,yGAAyG;wBAC1G,OAAyB,CAAzB,CAAA;4BAAA,4BAAAE,CAAA,GAAMhF,aAAa,CAAC,IAAI;wBAAC,CAAA,CAAA,2BAAD,CAAC,GAE1C,EAPA,GAOM,CACV,EATA,GASM;;;;;;;;;;;;;;;;;QAAAZ,CAAA,CAAA,GAAA,GAAA2F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6F,GAAA;IAAA,IAAA7F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIF0F,GAAA,iBAAA,kNAAA,EAGK;YAHS,SAAmG,EAAnG,mGAAmG;;8BAC7G,kNAAA,IAAoE;oBAApD,SAAiD,EAAjD,iDAAiD;;;;;;gBAAG,WAExE,EAHA,EAGK;;;;;;;QAAA7F,CAAA,CAAA,GAAA,GAAA6F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8F,GAAA;IAAA,IAAA9F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEgB2F,GAAA,GAAA,CAAA;YAAA,6BAAAb,CAAA,GAAMrE,aAAa,CAAC,IAAI;SAAC,CAAA,CAAA,4BAAA;QAAAZ,CAAA,CAAA,GAAA,GAAA8F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+F,GAAA;IAAA,IAAA/F,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAA1C4F,GAAA,iBAAA,kNAAA,MAKS;YALQ,OAAyB,CAAzB,CAAAD,GAAwB,CAAC;YAAY,SAA+C,EAA/C,+CAA+C;;8BACjG,kNAAA,GAEM;oBAFS,SAAkM,EAAlM,kMAAkM;4CAC7M,kNAAC,wOAAM;wBAAW,SAAS,EAAT,SAAS,GAC/B,EAFA,GAEM;;;;;;;;;;;8BACN,kNAAA,IAA0E;oBAA1D,SAA4C,EAA5C,4CAA4C;8BAAC,MAAM,EAAnE,IAA0E,CAC9E,EALA,MAKS;;;;;;;;;;;;QAAA9F,CAAA,CAAA,GAAA,GAAA+F,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/F,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgG,GAAA;IAAA,IAAAhG,CAAA,CAAA,GAAA,KAAAS,OAAA,IAAAT,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;QAAA,IAAAoH,GAAA;QAAA,IAAAjG,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;YAEIoH,GAAA,GAAA,CAAA;gBAAA,2BAAAC,KAAA;oBACT,MAAAC,WAAA,GAAoBD,KAAK,CAAAxG,YAAa,KAAKU,IAAI,CAAAvB,EAAG;oBAClD,MAAAuH,OAAA,GAAgBD,WAAW,GAAGD,KAAK,CAAArG,SAA4B,GAAfqG,KAAK,CAAAtG,SAAU;oBAC/D,IAAI,CAACwG,OAAO,EAAA;wBAAA,OAAS,IAAI;oBAAA;oBAAC,qBAGtB,kNAAA,GAMM,CANI,GAAQ,CAAR;wBAAoB,SAA+C,EAA/C,+CAA+C;;0CACzE,kNAAA,GAGM;gCAHS,SAAU,EAAV,UAAU;;kDACrB,kNAAC,oKAAM;wCAAM,GAAwB,CAAxB,CAAAA,OAAO,CAAA7G,UAAiB,IAAxB,EAAuB,CAAC;wCAAY,QAA4B,CAA5B,CAAA6G,OAAO,CAAA/G,QAAc,EAAA,CAAA,EAAO,IAA5B,GAA2B,CAAC;wCAAY,SAAsD,EAAtD,sDAAsD;;;;;;kDAC/I,kNAAA,IAAiH;wCAAjG,SAAyF,EAAzF,yFAAyF,GAC7G,EAHA,GAGM;;;;;;;;;;;;0CACN,kNAAA,IAA8G;gCAA9F,SAAoE,EAApE,oEAAoE,CAAE;0CAAA+G,OAAO,CAAA/G,QAAQ,CAAE,EAAvG,IAA8G,CAClH,EANA,GAMM;;;;;;;uBANI6G,KAAK,CAAArH,EAAE,CAAC;;;;;gBAMZ;aAAA,CAAA,CAAA,yBAEb;YAAAmB,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;YAAAmB,CAAA,CAAA,GAAA,GAAAiG,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAAjG,CAAA,CAAA,GAAA;QAAA;QAdAgG,GAAA,GAAAvF,OAAO,CAAAwC,GAAI,CAACgD,GAcZ,CAAC;QAAAjG,CAAA,CAAA,GAAA,GAAAS,OAAA;QAAAT,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;QAAAmB,CAAA,CAAA,GAAA,GAAAgG,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhG,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiG,GAAA;IAAA,IAAAjG,CAAA,CAAA,GAAA,KAAAgG,GAAA,EAAA;QA3BVC,GAAA,iBAAA,kNAAA,GA6BM;YA7BS,SAAW,EAAX,WAAW,CACtB;;gBAAAJ,GAGI;8BACJ,kNAAA,GAuBM;oBAvBS,SAAgD,EAAhD,gDAAgD,CAC3D;;wBAAAE,GAKQ,CAEP;wBAAAC,GAcA,CACL,EAvBA,GAuBM,CACV,EA7BA,GA6BM;;;;;;;;;;;;;QAAAhG,CAAA,CAAA,GAAA,GAAAgG,GAAA;QAAAhG,CAAA,CAAA,GAAA,GAAAiG,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjG,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqG,GAAA;IAAA,IAAArG,CAAA,CAAA,GAAA,KAAAqB,UAAA,IAAArB,CAAA,CAAA,GAAA,KAAA6B,aAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAM,KAAA,IAAAN,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;QAAA,IAAAyH,GAAA;QAAA,IAAAtG,CAAA,CAAA,GAAA,KAAAqB,UAAA,IAAArB,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;YAKgByH,GAAA,GAAA,CAAA;gBAAA,4BAAAC,IAAA;oBACV,MAAAC,KAAA,GAAcD,IAAI,CAAArH,iBAAwB,EAAAuH,IAA6B,CAA5B;wBAAA,4CAAAC,CAAA,GAAKA,CAAC,CAAAvH,OAAQ,KAAKiB,IAAI,EAAAvB;oBAAI,CAAA,CAAA,0CAAA,CAAC;oBACvE,IAAI2H,KAAsC,IAA7BnF,UAAU,CAAAsF,GAAI,CAACH,KAAK,CAAArH,OAAQ,CAAC,EAAA;wBAAA,OAAS,KAAK;oBAAA;oBAAC,OAClD,IAAI;gBAAA;aAAA,CAAA,CAAA,0BACd;YAAAa,CAAA,CAAA,GAAA,GAAAqB,UAAA;YAAArB,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;YAAAmB,CAAA,CAAA,GAAA,GAAAsG,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAAtG,CAAA,CAAA,GAAA;QAAA;QAAA,IAAA4G,GAAA;QAAA,IAAA5G,CAAA,CAAA,GAAA,KAAA6B,aAAA,IAAA7B,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;YAAM+H,GAAA,GAAA,CAAA;gBAAA,2BAAAC,MAAA;oBACH,IAAAC,WAAA,GAAkBP,MAAI,CAAAzH,IAAuB,IAA3B,cAA2B;oBAC7C,IAAAiI,aAAA,GAAoBC,SAAS;oBAC7B,IAAAC,QAAA,GAAe,KAAK;oBAEpB,IAAIV,MAAI,CAAArH,iBAAkB,EAAA;wBACtB,MAAAgI,OAAA,GAAcX,MAAI,CAAArH,iBAAkB,CAAAuH,IAAK,CAAC;4BAAA,4DAAAU,GAAA,IAAKT,GAAC,CAAAvH,OAAQ,KAAKiB,IAAI,EAAAvB;wBAAI,CAAA,CAAA,2DAAA,CAAC;wBACtE,IAAIqI,OAAuB,IAAdV,OAAK,CAAApH,QAAS,EAAA;4BACvB0H,WAAA,CAAAA,CAAA,CAAcN,OAAK,CAAApH,QAAS,CAAAE,SAAqC,IAAvBkH,OAAK,CAAApH,QAAS,CAAAC,QAA2B,IAArE,cAAqE;4BACnF0H,aAAA,CAAAA,CAAA,CAAgBP,OAAK,CAAApH,QAAS,CAAAG,UAAW;4BAEzC0H,QAAA,CAAAA,CAAA,CAAWA,IAAI;wBAAP;oBACX;oBAGL,MAAAG,QAAA,GAAiBvF,aAAa,KAAK0E,MAAI,CAAA1H,EAAG;oBAAC,qBAGvC,kNAAC,+LAAI;wBAAO,IAAyB,CAAzB,CAAA,CAAA,aAAA,EAAgB0H,MAAI,CAAA1H,EAAG,EAAC,CAAC,CAAO,GAAO,CAAP;wBAAmB,SAAO,EAAP,OAAO;kCAClE,gOAAA,GA8BM;4BA9BU,SAGf,CAHe,KAAAZ,iJAAE,EACd,yFAAyF,EACzFmJ,QAAQ,GAAR,eAAkD,GAAlD,qBACJ,EAAC;;8CACG,kNAAA,GASM;oCATS,SAAU,EAAV,UAAU;;sDACrB,kNAAC,oKAAM;4CACEL,GAAa,CAAbA,CAAAA,aAAY,CAAC;4CACR,QAAqB,CAArB,CAAAD,WAAW,CAAA,EAAU,IAArB,GAAoB,CAAC;4CACrB,SAAgC,EAAhC,gCAAgC,GAE7C;;;;;;wCAAAG,QAEA,kBADG,kNAAA,IAAkH;4CAAlG,SAA0F,EAA1F,0FAA0F,GAC9G,CACJ,EATA,GASM;;;;;;;;;;;;8CACN,kNAAA,GAeM;oCAfS,SAAwB,EAAxB,wBAAwB;;sDACnC,kNAAA,GAOM;4CAPS,SAA0C,EAA1C,0CAA0C;;8DACrD,kNAAA,CAEI;oDAFU,SAA4E,CAA5E,KAAAhJ,iJAAE,EAAC,yBAAyB,EAAEmJ,QAAQ,GAAR,cAA6C,GAA7C,iBAA6C,EAAC,CACrFN;8DAAAA,WAAU,CACf,EAFA,CAEI;;;;;;8DACJ,kNAAA,CAEI;oDAFS,SAAgC,EAAhC,gCAAgC,CACxC;8DAAAP,MAAI,CAAAtH,UAA2G,GAA7F,IAAIoI,IAAI,CAACd,MAAI,CAAAtH,UAAW,CAAC,CAAAqI,kBAAmB,CAAC,EAAE,EAAE;wDAAAC,IAAA,EAAQ,SAAS;wDAAAC,MAAA,EAAU;oDAAU,CAAM,CAAC,GAA/G,EAA8G,CACnH,EAFA,CAEI,CACR,EAPA,GAOM;;;;;;;;;;;;sDACN,kNAAA,GAKM;4CALS,SAAmC,EAAnC,mCAAmC;oEAC9C,kNAAA,CAEI;gDAFU,SAA6F,CAA7F,KAAAvJ,iJAAE,EAAC,mCAAmC,EAAEmJ,QAAQ,GAAR,iBAAoD,GAApD,qBAAoD,EAAC;0DAAE,WAE7G,EAFA,CAEI,CAER,EALA,GAKM,CACV,EAfA,GAeM,CACV,EA9BA,GA8BM,CACV,EAhCC,IAAI,CAgCE;;;;;;;;;;;;;;;;;;;;;;;uBAhCqCb,MAAI,CAAA1H,EAAE,CAAC;;;;;gBAgC5C;aAAA,CAAA,CAAA,yBAEd;YAAAmB,CAAA,CAAA,GAAA,GAAA6B,aAAA;YAAA7B,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;YAAAmB,CAAA,CAAA,GAAA,GAAA4G,GAAA;QAAA,OAAA;YAAAA,GAAA,GAAA5G,CAAA,CAAA,GAAA;QAAA;QAxDAqG,GAAA,GAAA/F,KAAK,CAAAmH,MAAO,CAACnB,GAIb,CAAC,CAAArD,GAAI,CAAC2D,GAoDN,CAAC;QAAA5G,CAAA,CAAA,GAAA,GAAAqB,UAAA;QAAArB,CAAA,CAAA,GAAA,GAAA6B,aAAA;QAAA7B,CAAA,CAAA,GAAA,GAAAM,KAAA;QAAAN,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;QAAAmB,CAAA,CAAA,GAAA,GAAAqG,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArG,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsG,GAAA;IAAA,IAAAtG,CAAA,CAAA,GAAA,KAAAM,KAAA,CAAAoH,MAAA,EAAA;QACDpB,GAAA,GAAAhG,KAAK,CAAAoH,MAAO,KAAK,CAEjB,kBADG,kNAAA,CAAmF;YAAtE,SAAkD,EAAlD,kDAAkD;sBAAC,eAAe,EAA/E,CAAmF,CACtF;;;;;;QAAA1H,CAAA,CAAA,GAAA,GAAAM,KAAA,CAAAoH,MAAA;QAAA1H,CAAA,CAAA,GAAA,GAAAsG,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtG,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4G,GAAA;IAAA,IAAA5G,CAAA,CAAA,GAAA,KAAAqG,GAAA,IAAArG,CAAA,CAAA,GAAA,KAAAsG,GAAA,EAAA;QA7DTM,GAAA,iBAAA,kNAAA,GA+DM;YA/DS,SAAyC,EAAzC,yCAAyC;sBACpD,gOAAA,GA6DM;gBA7DS,SAAW,EAAX,WAAW,CACrB;;oBAAAP,GAwDA,CACA;oBAAAC,GAED,CACJ,EA7DA,GA6DM,CACV,EA/DA,GA+DM;;;;;;;;;;;;QAAAtG,CAAA,CAAA,GAAA,GAAAqG,GAAA;QAAArG,CAAA,CAAA,GAAA,GAAAsG,GAAA;QAAAtG,CAAA,CAAA,GAAA,GAAA4G,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5G,CAAA,CAAA,GAAA;IAAA;IAKe,MAAA2H,GAAA,GAAAvH,IAAI,EAAAwH,aAA2B,EAAArI,UAAA;IAAY,MAAAsI,GAAA,GAAAzH,IAAI,EAAA0H,KAAc,IAAlB,GAAkB;IAAA,IAAAC,GAAA;IAAA,IAAA/H,CAAA,CAAA,GAAA,KAAA2H,GAAA,IAAA3H,CAAA,CAAA,GAAA,KAAA6H,GAAA,EAAA;QAA1EE,GAAA,iBAAA,kNAAC,oKAAM;YAAM,GAA+B,CAA/B,CAAAJ,GAA8B,CAAC;YAAY,QAAkB,CAAlB,CAAAE,GAAiB,CAAC;YAAY,SAAmD,EAAnD,mDAAmD,GAAG;;;;;;QAAA7H,CAAA,CAAA,GAAA,GAAA2H,GAAA;QAAA3H,CAAA,CAAA,GAAA,GAAA6H,GAAA;QAAA7H,CAAA,CAAA,GAAA,GAAA+H,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/H,CAAA,CAAA,GAAA;IAAA;IAEpE,MAAAgI,GAAA,GAAA5H,IAAI,EAAA0H,KAAO;IAAA,IAAAG,GAAA;IAAA,IAAAjI,CAAA,CAAA,GAAA,KAAAgI,GAAA,EAAA;QAA/EC,GAAA,iBAAA,kNAAA,CAAoF;YAAvE,SAAqD,EAArD,qDAAqD,CAAE;sBAAAD,GAAU,CAAE,EAAhF,CAAoF;;;;;;QAAAhI,CAAA,CAAA,GAAA,GAAAgI,GAAA;QAAAhI,CAAA,CAAA,GAAA,GAAAiI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkI,GAAA;IAAA,IAAAlI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACpF+H,GAAA,iBAAA,kNAAA,CAEI;YAFS,SAAiD,EAAjD,iDAAiD;sBAAC,UAE/D,EAFA,CAEI;;;;;;QAAAlI,CAAA,CAAA,GAAA,GAAAkI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmI,GAAA;IAAA,IAAAnI,CAAA,CAAA,GAAA,KAAAiI,GAAA,EAAA;QAJRE,GAAA,iBAAA,kNAAA,GAKM;YALS,SAAwB,EAAxB,wBAAwB,CACnC;;gBAAAF,GAAmF,CACnF;gBAAAC,GAEG,CACP,EALA,GAKM;;;;;;;QAAAlI,CAAA,CAAA,GAAA,GAAAiI,GAAA;QAAAjI,CAAA,CAAA,GAAA,GAAAmI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoI,GAAA;IAAA,IAAApI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACWiI,GAAA,GAAA,CAAA;YAAA,6BAAAnD,CAAA,GAAMjE,eAAe,CAAC,IAAI;SAAC,CAAA,CAAA,4BAAA;QAAAhB,CAAA,CAAA,GAAA,GAAAoI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqI,GAAA;IAAA,IAAArI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAA5CkI,GAAA,iBAAA,kNAAA,MAES;YAFQ,OAA2B,CAA3B,CAAAD,GAA0B,CAAC;YAAY,SAA+F,EAA/F,+FAA+F;YAAO,KAAU,EAAV,UAAU;oCACpK,kNAAC,8OAAQ;gBAAW,SAAS,EAAT,SAAS,GACjC,EAFA,MAES;;;;;;;;;;;QAAApI,CAAA,CAAA,GAAA,GAAAqI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsI,GAAA;IAAA,IAAAtI,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAELmI,GAAA,iBAAA,kNAAC,4OAAM;YAAW,SAAS,EAAT,SAAS,GAAG;;;;;;QAAAtI,CAAA,CAAA,GAAA,GAAAsI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuI,GAAA;IAAA,IAAAvI,CAAA,CAAA,GAAA,KAAA6E,YAAA,EAAA;QADlC0D,GAAA,iBAAA,kNAAA,MAES;YAFQ1D,OAAY,CAAZA,CAAAA,YAAW,CAAC;YAAY,SAA4F,EAA5F,4FAA4F;YAAO,KAAQ,EAAR,QAAQ,CAChJ;sBAAAyD,GAA6B,CACjC,EAFA,MAES;;;;;;QAAAtI,CAAA,CAAA,GAAA,GAAA6E,YAAA;QAAA7E,CAAA,CAAA,GAAA,GAAAuI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAvI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwI,GAAA;IAAA,IAAAxI,CAAA,CAAA,GAAA,KAAA+H,GAAA,IAAA/H,CAAA,CAAA,GAAA,KAAAmI,GAAA,IAAAnI,CAAA,CAAA,GAAA,KAAAuI,GAAA,EAAA;QAdjBC,GAAA,iBAAA,kNAAA,GAgBM;YAhBS,SAA0D,EAA1D,0DAA0D;oCACrE,kNAAA,GAcM;gBAdS,SAAyB,EAAzB,yBAAyB,CACpC;;oBAAAT,GAA2I,CAC3I;oBAAAI,GAKK,CACL;oBAAAE,GAEQ,CACR;oBAAAE,GAEQ,CACZ,EAdA,GAcM,CACV,EAhBA,GAgBM;;;;;;;;;;;;QAAAvI,CAAA,CAAA,GAAA,GAAA+H,GAAA;QAAA/H,CAAA,CAAA,GAAA,GAAAmI,GAAA;QAAAnI,CAAA,CAAA,GAAA,GAAAuI,GAAA;QAAAvI,CAAA,CAAA,GAAA,GAAAwI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAxI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyI,GAAA;IAAA,IAAAzI,CAAA,CAAA,GAAA,KAAAyF,GAAA,IAAAzF,CAAA,CAAA,GAAA,KAAAiG,GAAA,IAAAjG,CAAA,CAAA,GAAA,KAAA4G,GAAA,IAAA5G,CAAA,CAAA,GAAA,KAAAwI,GAAA,EAAA;QA3JVC,GAAA,iBAAA,kNAAA,KA4JQ;YA5JS,SAA6F,EAA7F,6FAA6F,CAE1G;;gBAAAhD,GAwBK,CAGL;gBAAAE,GASK,CAGL;gBAAAM,GA6BK,CAGL;gBAAAW,GA+DK,CAGL;gBAAA4B,GAgBK,CACT,EA5JA,KA4JQ;;;;;;;QAAAxI,CAAA,CAAA,GAAA,GAAAyF,GAAA;QAAAzF,CAAA,CAAA,GAAA,GAAAiG,GAAA;QAAAjG,CAAA,CAAA,GAAA,GAAA4G,GAAA;QAAA5G,CAAA,CAAA,GAAA,GAAAwI,GAAA;QAAAxI,CAAA,CAAA,GAAA,GAAAyI,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAzI,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0I,GAAA;IAAA,IAAA1I,CAAA,CAAA,GAAA,KAAAW,UAAA,IAAAX,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;QACP6J,GAAA,GAAA/H,UAA0F,kBAA5E,kNAAC,0KAAU;YAAU,OAA0B,CAA1B,CAAA;gBAAA,iCAAAgI,CAAA,GAAM/H,aAAa,CAAC,KAAK;YAAC,CAAA,CAAA,gCAAD,CAAC;YAAiB,aAAQ,CAAR,CAAAR,IAAI,EAAAvB,EAAG,CAAC,GAAI;;;;;;QAAAmB,CAAA,CAAA,GAAA,GAAAW,UAAA;QAAAX,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;QAAAmB,CAAA,CAAA,GAAA,GAAA0I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA1I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4I,GAAA;IAAA,IAAA5I,CAAA,CAAA,GAAA,KAAAa,YAAA,IAAAb,CAAA,CAAA,GAAA,KAAAI,IAAA,CAAAvB,EAAA,EAAA;QAC1F+J,GAAA,GAAA/H,YAAsG,kBAAtF,kNAAC,0LAAkB;YAAU,OAA4B,CAA5B,CAAA;gBAAA,yCAAAgI,CAAA,GAAM/H,eAAe,CAAC,KAAK;YAAC,CAAA,CAAA,wCAAD,CAAC;YAAiB,aAAQ,CAAR,CAAAV,IAAI,EAAAvB,EAAG,CAAC,GAAI;;;;;;QAAAmB,CAAA,CAAA,GAAA,GAAAa,YAAA;QAAAb,CAAA,CAAA,GAAA,GAAAI,IAAA,CAAAvB,EAAA;QAAAmB,CAAA,CAAA,GAAA,GAAA4I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8I,GAAA;IAAA,IAAA9I,CAAA,CAAA,GAAA,KAAAe,YAAA,IAAAf,CAAA,CAAA,GAAA,KAAAI,IAAA,EAAA;QACtG0I,GAAA,GAAA/H,YAAoF,kBAApE,kNAAC,gLAAa;YAAU,OAA4B,CAA5B,CAAA;gBAAA,oCAAAgI,CAAA,GAAM/H,eAAe,CAAC,KAAK;YAAC,CAAA,CAAA,mCAAD,CAAC;YAAQZ,IAAI,CAAJA,CAAAA,IAAG,CAAC,GAAI;;;;;;QAAAJ,CAAA,CAAA,GAAA,GAAAe,YAAA;QAAAf,CAAA,CAAA,GAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,GAAA,GAAA8I,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9I,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgJ,GAAA;IAAA,IAAAhJ,CAAA,CAAA,GAAA,KAAAyI,GAAA,IAAAzI,CAAA,CAAA,GAAA,KAAA0I,GAAA,IAAA1I,CAAA,CAAA,GAAA,KAAA4I,GAAA,IAAA5I,CAAA,CAAA,GAAA,KAAA8I,GAAA,EAAA;QAhKzFE,GAAA,iBAAA,EACI;;gBAAAP,GA4JO,CACN;gBAAAC,GAAyF,CACzF;gBAAAE,GAAqG,CACrG;gBAAAE,GAAmF,CAAC,GACtF;;;QAAA9I,CAAA,CAAA,GAAA,GAAAyI,GAAA;QAAAzI,CAAA,CAAA,GAAA,GAAA0I,GAAA;QAAA1I,CAAA,CAAA,GAAA,GAAA4I,GAAA;QAAA5I,CAAA,CAAA,GAAA,GAAA8I,GAAA;QAAA9I,CAAA,CAAA,GAAA,GAAAgJ,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhJ,CAAA,CAAA,GAAA;IAAA;IAAA,OAjKHgJ,GAiKG;AAAA;;;QAlQUhL;QACIO,6KAAe,CAAC,CAAC;QACvBD,uKAAS,CAAC,CAAC;;;KAXvBwB;AAAA,SAAAoD,4CAAA+F,CAAA;IAAA,OA8D+CA,CAAC,CAAAC,UAAW;AAAA","ignoreList":[]}},
    {"offset": {"line": 2264, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/components/chat-shell.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname, useSearchParams } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { Sidebar } from \"@/components/sidebar\";\n\nexport function ChatShell({ children, user }: { children: React.ReactNode; user: any }) {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const isRoomSelected = searchParams.has(\"roomId\");\n\n    return (\n        <div className=\"flex h-screen bg-background overflow-hidden relative\">\n            <div className={cn(\n                \"h-full transition-all duration-300\",\n                // Mobile: Full width if no room selected, hidden if room selected\n                // Desktop: Fixed width 80 (20rem) always\n                isRoomSelected ? \"hidden md:flex md:w-80\" : \"w-full md:w-80\"\n            )}>\n                <Sidebar user={user} />\n            </div>\n\n            {/* Main Chat Area */}\n            <main className={cn(\n                \"flex-1 relative flex flex-col h-full overflow-hidden transition-all duration-300\",\n                // Mobile: Hidden if no room selected, Full width if room selected\n                // Desktop: Always flex-1\n                !isRoomSelected ? \"hidden md:flex\" : \"flex w-full\"\n            )}>\n                {children}\n            </main>\n        </div>\n    );\n}\n"],"names":["c","_c","usePathname","useSearchParams","cn","Sidebar","ChatShell","t0","$","$i","Symbol","for","children","user","searchParams","isRoomSelected","has","t1","t2","t3","t4","t5","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2394, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Desktop/GOSSIP/src/app/chat/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\nimport { ChatShell } from \"@/components/chat-shell\";\n\nexport default function ChatLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    const { user, loading } = useAuth();\n    const router = useRouter();\n\n    useEffect(() => {\n        if (!loading && !user) {\n            router.push(\"/login\");\n        }\n    }, [user, loading, router]);\n\n    if (loading || !user) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen bg-black\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-primary\"></div>\n            </div>\n        );\n    }\n\n    return (\n        <ChatShell user={user as any}>\n            {children}\n        </ChatShell>\n    );\n}\n"],"names":["c","_c","useAuth","useRouter","useEffect","ChatShell","ChatLayout","t0","$","$i","Symbol","for","children","user","loading","router","t1","t2","ChatLayout[useEffect()]","push","t3","t4"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,SAAS,QAAQ,yBAAyB;;;AALnD,YAAY;;;;;;AAOG,oBAAAE,EAAA;;IAAA,MAAAC,CAAA,OAAAP,qMAAA,EAAA;IAAA,IAAAO,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAoB,MAAA,EAAAI,QAAAA,EAAA,GAAAL,EAIlC;IACG,MAAA,EAAAM,IAAA,EAAAC,OAAAA,EAAA;IACA,MAAAC,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAM,OAAA,IAAAN,CAAA,CAAA,EAAA,KAAAO,MAAA,IAAAP,CAAA,CAAA,EAAA,KAAAK,IAAA,EAAA;QAEjBG,EAAA,GAAA,CAAA;YAAA,2BAAAE,CAAA;gBACN,IAAI,CAACJ,OAAgB,IAAjB,CAAaD,IAAI,EAAA;oBACjBE,MAAM,CAAAI,IAAK,CAAC,QAAQ,CAAC;gBAAA;YACxB;SAAA,CAAA,CAAA,0BACJ;QAAEF,EAAA,GAAA;YAACJ,IAAI;YAAEC,OAAO;YAAEC,MAAM;SAAC;QAAAP,CAAA,CAAA,EAAA,GAAAM,OAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,MAAA;QAAAP,CAAA,CAAA,EAAA,GAAAK,IAAA;QAAAL,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAR,CAAA,CAAA,EAAA;QAAAS,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;QAJ1BJ,+LAAS,EAACY,EAIT,EAAEC,EAAuB,CAAC;IAE3B,IAAIH,OAAgB,IAAhB,CAAYD,IAAI,EAAA;QAAA,IAAAO,EAAA;QAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;YAEZS,EAAA,iBAAA,kNAAA,GAEM;gBAFS,SAAwD,EAAxD,wDAAwD;wCACnE,kNAAA,GAAmF;oBAApE,SAA6D,EAA7D,6DAA6D,GAChF,EAFA,GAEM;;;;;;;;;;;YAAAZ,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;QAAA;QAAA,OAFNY,EAEM;IAAA;IAKO,MAAAA,EAAA,GAAAP,IAAI,IAAI,GAAG;IAAA,IAAAQ,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAI,QAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAY,EAAA,EAAA;QAA5BC,EAAA,iBAAA,kNAAC,wKAAS;YAAO,IAAW,CAAX,CAAAD,EAAU,CAAC,CACvBR;sBAAAA,QAAO,CACZ,EAFC,SAAS,CAEE;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,QAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAAA,OAFZa,EAEY;AAAA;;;QApBUnB,sKAAO,CAAC,CAAC;QACpBC,uKAAS,CAAC,CAAC;;;KANfG","ignoreList":[]}}]
}